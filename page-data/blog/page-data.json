{"componentChunkName":"component---src-templates-blog-js","path":"/blog/","result":{"data":{"sitePage":{"id":"SitePage /blog/"}},"pageContext":{"url":"/blog/","relativePath":"blog/index.md","relativeDir":"blog","base":"index.md","name":"index","frontmatter":{"title":"Blog","seo":{"title":"Blog","description":"This is the blog page","extra":[{"name":"og:type","value":"website","keyName":"property"},{"name":"og:title","value":"Blog","keyName":"property"},{"name":"og:description","value":"This is the blog page","keyName":"property"},{"name":"og:image","value":"images/1.jpg","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Blog"},{"name":"twitter:description","value":"This is the blog page"},{"name":"twitter:image","value":"images/1.jpg","relativeUrl":true}]},"template":"blog"},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>","pages":[{"url":"/thank-you/","relativePath":"thank-you.md","relativeDir":"","base":"thank-you.md","name":"thank-you","frontmatter":{"title":"Thank You!","img_path":"images/thank-you.jpg","img_alt":"Thank You Led Signage","template":"page"},"html":"<p>Thank you for contacting me! I will get back in touch with you soon.</p>\n<p><strong>Have a great day!</strong></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/","relativePath":"index.md","relativeDir":"","base":"index.md","name":"index","frontmatter":{"title":"Home","hide_title":true,"sections":[{"section_id":"hero","type":"section_hero","title":"안녕하세요","content":"이부분에는 환영인사말을 적어놓으면 좋을 것 같습니다."},{"section_id":"about","type":"section_content","title":"About ME","content":"### 이부분에는 자신에 대한 소개를 작성해놓으면 좋을 것 같습니다     \n문제의 이유를 찾는 개발자 ㄱ미상윤입니다.   \nasdf","actions":[{"label":"Contact Me","url":"/contact","style":"button"}]}],"seo":{"title":"SYSNAR DEV BLOG","description":"SYSNAR DEV BLOG","extra":[{"name":"og:type","value":"website","keyName":"property"},{"name":"og:title","value":"SYSNAR DEV BLOG","keyName":"property"},{"name":"og:description","value":"SYSNAR DEV BLOG","keyName":"property"},{"name":"og:image","value":"images/4.jpg","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"SYSNAR DEV BLOG"},{"name":"twitter:description","value":"SYSNAR DEV BLOG"},{"name":"twitter:image","value":"images/4.jpg","relativeUrl":true}]},"template":"advanced"},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/about/","relativePath":"about.md","relativeDir":"","base":"about.md","name":"about","frontmatter":{"title":"About Me","subtitle":"This is a short page about me and my work.","img_path":"images/about.jpg","img_alt":"Portrait of a man with beard and mustache","seo":{"title":"About Me","description":"This is the about me page","extra":[{"name":"og:type","value":"website","keyName":"property"},{"name":"og:title","value":"About Me","keyName":"property"},{"name":"og:description","value":"This is the about me page","keyName":"property"},{"name":"og:image","value":"images/about.jpg","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"About Me"},{"name":"twitter:description","value":"This is the about me page"},{"name":"twitter:image","value":"images/about.jpg","relativeUrl":true}]},"template":"page"},"html":"<p><strong>John Doe</strong> is a Senior Art Director from <a href=\"https://en.wikipedia.org/wiki/Stockholm\">Stockholm</a>, Sweden. After graduating from The College of Visual Arts with a degree in Communication Design, he worked for three small graphic design shops where he honed his design style and sensibility.</p>\n<p>His work has been recognized by Communication Arts, Print, How, ID, IdN, AIGA, Effie, Archive, Graphis, AdFed and Rockport. Graphic Design USA named him a person to watch in 2019.</p>\n<blockquote>\n<p>The world always seems brighter when you’ve just made something that wasn’t there before. <cite>Neil Gaiman</cite></p>\n</blockquote>\n<p>As a hobby, John Doe authors the most influential design blog in Sweden with over 100,000 page views a month. He lives in Stockholm with his beautiful wife and two boys.</p>\n<p><em>Thank You for reading!</em></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/style-guide/","relativePath":"style-guide.md","relativeDir":"","base":"style-guide.md","name":"style-guide","frontmatter":{"title":"Style Guide","subtitle":"The style guide provides you with a blueprint of default post and page styles. The style guide is also a great reference for suggested typographic treatment and styles for your content.","seo":{"title":"Theme Style Guide","description":"A reference for suggested typographic treatment and styles for your content","extra":[{"name":"og:type","value":"website","keyName":"property"},{"name":"og:title","value":"Theme Style Guide","keyName":"property"},{"name":"og:description","value":"A reference for suggested typographic treatment and styles for your content","keyName":"property"},{"name":"og:image","value":"images/1.jpg","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Theme Style Guide"},{"name":"twitter:description","value":"A reference for suggested typographic treatment and styles for your content"},{"name":"twitter:image","value":"images/1.jpg","relativeUrl":true}]},"template":"page"},"html":"<p><strong>This is a paragraph</strong>. Pellentesque habitant morbi <em>tristique senectus et netus et malesuada</em> fames ac turpis egestas. Vestibulum <a href=\"https://www.google.com\">tortor quam</a>, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo. Quisque sit <mark>amet est et sapien ullamcorper</mark> pharetra. Vestibulum erat wisi, condimentum sed, commodo vitae, ornare sit amet, wisi.</p>\n<h1>This is an H1</h1>\n<p>Quisque facilisis erat a dui. Nam malesuada ornare dolor. Cras gravida, this is marked text ornare, erat elit consectetuer erat, id egestas pede nibh eget odio. Proin tincidunt, velit vel porta elementum, magna diam molestie sapien, non aliquet massa pede eu diam. Aliquam iaculis. Fusce et ipsum et nulla tristique facilisis.</p>\n<h2>This is an H2</h2>\n<p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Morbi commodo, ipsum sed pharetra gravida, orci magna rhoncus neque, id pulvinar odio lorem non turpis. Nullam sit amet enim. Suspendisse id velit vitae ligula volutpat condimentum. Aliquam erat volutpat. Sed quis velit. Nulla facilisi. Nulla libero.</p>\n<h3>This is an H3</h3>\n<p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Morbi commodo, ipsum sed pharetra gravida, orci magna rhoncus neque, id pulvinar odio lorem non turpis. Nullam sit amet enim. Suspendisse id velit vitae ligula volutpat condimentum. Aliquam erat volutpat. Sed quis velit. Nulla facilisi. Nulla libero.</p>\n<h4>This is an H4</h4>\n<p>Quisque facilisis erat a dui. Nam malesuada ornare dolor. Cras gravida, diam sit amet rhoncus ornare, erat elit consectetuer erat, id egestas pede nibh eget odio. Proin tincidunt, velit vel porta elementum, magna diam molestie sapien, non aliquet massa pede eu diam. Aliquam iaculis.</p>\n<h2>Quoting</h2>\n<blockquote>\n<p>Creativity is allowing yourself to make mistakes. Design is knowing which ones to keep. <cite>Scott Adams</cite></p>\n</blockquote>\n<p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Morbi commodo, ipsum sed pharetra gravida, orci magna rhoncus neque, id pulvinar odio lorem non turpis. Nullam sit amet enim. Suspendisse id velit vitae ligula volutpat condimentum. Aliquam erat volutpat. Sed quis velit. Nulla facilisi. Nulla libero.</p>\n<hr />\n<h2>Unordered Lists</h2>\n<ul>\n<li>Donec non tortor in arcu mollis feugiat</li>\n<li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit</li>\n<li>Donec id eros eget quam aliquam gravida</li>\n<li>Vivamus convallis urna id felis</li>\n<li>Nulla porta tempus sapien</li>\n</ul>\n<h2>Ordered Lists</h2>\n<ol>\n<li>Donec non tortor in arcu mollis feugiat</li>\n<li>Lorem ipsum dolor sit amet, consectetuer adipiscing elit</li>\n<li>Donec id eros eget quam aliquam gravida</li>\n<li>Vivamus convallis urna id felis</li>\n<li>Nulla porta tempus sapien</li>\n</ol>\n<h2>Code Blocks</h2>\n<p>Blocks of code are either fenced by lines with three back-ticks, or are indented with four spaces.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">&lt;!-- Some example CSS code --&gt;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">body {</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  color: #333;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  font-family: Roboto, Helvetica, Arial, sans-serif;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  line-height: 1.5;</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">}</span></span></code></pre>\n<h2>Tables</h2>\n<div class=\"responsive-table\">\n  <table>\n    <caption>Simple table with caption and header</caption>\n    <thead>\n      <tr>\n        <th>Column 1</th>\n        <th>Column 2</th>\n        <th>Column 3</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr>\n        <td>Row 1, Cell 1</td>\n        <td>Row 1, Cell 2</td>\n        <td>Row 1, Cell 3</td>\n      </tr>\n      <tr>\n        <td>Row 2, Cell 1</td>\n        <td>Row 2, Cell 2</td>\n        <td>Row 2, Cell 3</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/thinks/grinding/","relativePath":"thinks/grinding.md","relativeDir":"thinks","base":"grinding.md","name":"grinding","frontmatter":{"title":"인간연마","excerpt":"","date":"2022-02-11","thumb_img_path":"images/reactLogo.png","thumb_img_alt":"reactLogo","content_img_path":"images/reactLogo.png","content_img_alt":"reactLogo","seo":{"title":"인간연마","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/reactLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<p>그동안 알고있던 세상이 무너져내렸다...  </p>\n<p>뱅크샐러드 면접을 보기 전 나름대로 최선을 다해 전화인터뷰를 준비했다고 생각했다.\n2022.02.10 18:00 면접을 시작하고 10분 뒤 문제 설명을 듣고 직감했다.\n큰일났다 아니 망했다. 문제에 대해 전혀 갈피를 잡지 못했다.</p>\n<p>첫 10분 정도는 준비했던 대로 문제의 요구사항을 정확히 이해하고, 면접관님에게 다시 물어보며 잘 진행했다.\n하지만 실제 코드를 구현하려 생각하려하니 전혀 해결방안에 대해 답이 떠오르지 않았다.\n비겁하게 나도 모르게 구글에 그 문제를 검색했다. 조금 컨셉이라도 갈피를 잡으려고 읽어봤지만 이미 멘탈이 나가서인지 이해가 되지 않았다.</p>\n<p>결국 그 면접에서 5번 정도 면접관님께 제가 준비가 덜 되어 시간을 낭비하게 해드려 죄송하다고 말씀드린 것 같다.\n물론 면접관님께서는 어차피 이건 본인의 일이라 괜찮다고 말씀하고 시간을 다 채우는 것이 본인의 일이다라고 말씀해주셨다.</p>\n<p>사실 면접관님께 죄송하기도 했었지만, 정확하게는 나에게 화가 난 것이 더 컸다.\n홍관이형이 말해주셨던 \"난 뭐든 잘해야해\"라는 심리가 발생해서일까?\n문제를 해결하는 과정에서 막혀서 못 푼 것도 아니고 손도 못대고 헛소리나 하다가 면접을 마친 내가 한심하고 너무 분했다.</p>\n<p>19시에 면접이 끝나자 마자 침대에서 이불을 뒤집어쓰고 엉엉 울었다.\n진짜 20살 되고 나서 이렇게 서럽게 운 건 처음이었다.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/typescript/","relativePath":"typescript/index.md","relativeDir":"typescript","base":"index.md","name":"index","frontmatter":{"title":"typescript","seo":{"title":"typescript","description":"This is the Typescript page","extra":[{"name":"og:type","value":"website","keyName":"property"},{"name":"og:title","value":"Blog","keyName":"property"},{"name":"og:description","value":"This is the blog page","keyName":"property"},{"name":"og:image","value":"images/1.jpg","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Blog"},{"name":"twitter:description","value":"This is the blog page"},{"name":"twitter:image","value":"images/1.jpg","relativeUrl":true}]},"template":"typescript"},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/contact/","relativePath":"contact.md","relativeDir":"","base":"contact.md","name":"contact","frontmatter":{"title":"Contact","hide_title":false,"sections":[{"section_id":"contact-form","type":"section_form","content":"To get in touch please fill the form below.","form_id":"contactForm","form_action":"/thank-you","form_fields":[{"input_type":"text","name":"name","label":"Name","default_value":"Your name","is_required":true},{"input_type":"email","name":"email","label":"Email","default_value":"sysn4r@gmail.com","is_required":true},{"input_type":"select","name":"subject","label":"Subject","default_value":"Please select","options":["Error on the site","Sponsorship","Other"]},{"input_type":"textarea","name":"message","label":"Message","default_value":"Your message"},{"input_type":"checkbox","name":"consent","label":"I understand that this form is storing my submitted information so I can be contacted."}],"submit_label":"Send Message"}],"seo":{"title":"Contact","description":"This is the contact page","extra":[{"name":"og:type","value":"website","keyName":"property"},{"name":"og:title","value":"Contact","keyName":"property"},{"name":"og:description","value":"This is the contact page","keyName":"property"},{"name":"twitter:card","value":"summary"},{"name":"twitter:title","value":"Contact"},{"name":"twitter:description","value":"This is the contact page"}]},"template":"advanced"},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/database/database-lock/","relativePath":"posts/database/database-lock.md","relativeDir":"posts/database","base":"database-lock.md","name":"database-lock","frontmatter":{"title":""},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/devops/git-subtree/","relativePath":"posts/devops/git-subtree.md","relativeDir":"posts/devops","base":"git-subtree.md","name":"git-subtree","frontmatter":{"title":"Git Sub Tree / Sub Module","excerpt":"","date":"2022-10-05","thumb_img_path":"images/gitLogo.png","thumb_img_alt":"gitLogo","content_img_path":"images/gitLogo.png","content_img_alt":"gitLogo","seo":{"title":"Git Sub Tree / Sub Module","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/jpaLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>개요</h1>\n<p>블로그에 필요한 예시를 저장하기 위한 <a href=\"https://github.com/sysnar/blog-codes\">저장소</a>를 구축하다보니 git의 sub-module / sub-tree 라는 개념을 알게 되어 정리하고자 한다.</p>\n<h2>Sub-Module</h2>\n<p>git 저장소 안에 다른 여러 저장소를 만들어 관리하는 개념이다. 각각 존재하는 저장소를 <strong>리눅스의 심볼릭 링크 연결하듯이 각 모듈의 저장소 위치를 저장함</strong>으로써 느슨하게 연결해둔 관리 방법이다.<br>\n각 모듈의 저장소 위치는 <code class=\"language-text\">.gitmodules</code> 라는 파일을 통해 관리된다.<br>\n여기서 중요한 점은 모든 모듈이 하나의 저장소로써 취급되기 때문에 하위 모듈의 변경사항이 자동으로 상위 모듈에 반영이 되지 않는다는 점이다.\n아래와 같이 super 모듈 내부에 있는 sub1 모둘에서 변경사항이 발생하더라도 super 모듈에는 변경사항이 알아서 반영되지 않는다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">super</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">|-- sub1 </span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">|    |- 2.txt // 1.txt에서 2.txt로 수정됨</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">|-- sub2</span></span></code></pre>\n<p>이를 반영하기 위해서는 아래와 같이 사용자가 <u><strong>직접 sub-module을 업데이트하고 상위모듈에서 커밋하여 저장</strong></u>해야 한다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">$ git submodule update --remote</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">$ git commit -m &quot;업데이트!&quot;</span></span></code></pre>\n<h2>Sub-Tree</h2>\n<p>여러 저장소를 상위 저장소 하나가 통합해 관리하는 개념이다. Sub-Module과는 다르게 상위 저장소에 직접 파일이 추가되고 그 이력이 관리된다. Sub-Module이 링크라면 Sub-Tree는 자동동기화가 이루어지는 폴더를 복사한 것가 비슷하다.</p>\n<p>여기서 중요한 점은 상위 저장소, 원본 저장소 모두에서 수정이 가능하며 모두 반영될 수 있다는 점이다. 이렇게 자유도가 높다는 점은 장점이면서도 단점이 된다. 자유롭게 변경이 가능하기 때문에 다른 프로젝트들을 깨뜨리는 변경이 쉽게 이루어질 수도 있기 때문이다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"># 메인 프로젝트 git clone</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">$ git clone {git addr}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># 현재 프로젝트에 subtree로 사용할 원격 저장소 추가</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">$ $ git remote add {repo} {repo URL}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># 원격 저장소 확인</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">git remote -v</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># subtree 추가</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># --prefix 옵션으로 서브트리를 클론할 디렉토리를 지정한다</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">$ git subtree add --prefix={local directory} {repo} {branch}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># 서버트리를 pull, push 할 때는 prefix 옵션을 주어서 해당 서브트리가 위치한 디렉토리 정보와</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># 저장소, 브랜치를 주어서 pull, push를 수행하도록 한다.</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># pull</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">$ git subtree pull --prefix={local directory} {repo} {branch}</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"># push</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">$ git subtree push --prefix={local directory} {repo} {branch}</span></span></code></pre>\n<h2>Spring의 멀티모듈에는?</h2>\n<p>이 글을 정리하면서 계속 들었던 생각이다.<br>\n\"Spring에 적용할 때는 어떻게 해야하지?\"</p>\n<p>물론 적용이 가능하다. Gradle의 멀티모듈을 사용해 모노레포를 구축하고 있더라도 아래의 링크와 같이 다른 모듈과의 결합이 필요한 경우가 있을 수 있다. </p>\n<p><a href=\"https://stackoverflow.com/questions/57858898/how-to-include-gradle-multi-project-repository-as-git-submodule-in-another-gradl\">[Stack overflow] : How to include gradle multi-project repository as git submodule in another gradle project</a></p>\n<p>더 나아가서 Gradle 멀티모듈을 활용해 모노레포를 구축하고 있다면 그 범위를 \"도메인\"에 한정해야 하는 것 같다. 회사의 모든 프로젝트를 하나의 레포지터리에서 관리하는 것은 지양하는 방법인 것으로 보인다.</p>\n<h3>출처</h3>\n<ul>\n<li><a href=\"https://jammdev.tistory.com/111\">[git] git submodule / subtree</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=TAe4uZqYt6c\">생황코딩 - git 강의</a></li>\n<li><a href=\"https://machine-geon.tistory.com/167\">[Git] Submodule / Subtree</a></li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/timeline/teenage days/","relativePath":"timeline/teenage days.md","relativeDir":"timeline","base":"teenage days.md","name":"teenage days","frontmatter":{"title":""},"html":"<h1>10대 기억나는 상황 정리</h1>\n<p>컴퓨터하는 것을 좋아했다. 어렸을 때의 기억을 되짚어 보면 많은 시간을 컴퓨터를 하며 보낸 것 같다.\n그렇다고 대단한 것을 하고 살지는 않았다. 모두가 좋아하는 인터넷 서핑, 게임같은 걸 많이 했었던 것 같다.\n컴퓨터로 하는 일들은 대부분 재미있는 것들이 많았다. 그래서인지 컴퓨터로 하는 일이라면 뭐든 신나고 즐거운 일이라고 생각하며 지내온 것 같다.</p>\n<p>초등학교, 중학교, 고등학교를 다니면서 난 언제나 착한 학생이었다. </p>\n<!-- 부모님께서 칭찬에 생각보다 많이 인색한 편이셨고, (사실 정확하게 어땟는지는 기억이 잘 나지 않는다) -->\n<!-- 지금와서 생각해보면 난 그냥 칭찬에 많이 목마른 어린 아이였던 것 같다. -->\n<p>다른 친구들보다 선생님에게 더 이쁨받고 싶고, 관심받고 싶었다.\n말 잘듣고, 공부를 열심히 하면 선생님들이 칭찬을 해주었다. 그렇기에 말 잘듣는, 공부 열심히하는 착한 아이가 되었다.\n(그러면 안되지만) 그 과정에서 공부 못하거나, 말썽을 많이 일으키는 친구들에게 조금 우쭐한 마음이 없지 않아 있었던 것 같다.</p>\n<p>하지만 가정에서는 말 안듣고, 툭하면 삐지는 다루기 어려운 자식이었던 것 같다.\n또 그냥 어리니까 노는 게 좋아서인지 게임을 정말 좋아했다.\n사실 게임을 좋아하는 것 이상으로 컴퓨터를 통해 친구들과 노는 걸 좋아했다. (그 수단이 수로 게임이었던 것 같다.)</p>\n<p>초등학생 때 친구들과 놀러갈 때는 항상 닌텐도를 챙겨다녔던 것 같고,\n친구집에 놀러갈 때는 오래된 노트북을 들고 가서 스타크래프트나 온라인 게임을 할 정도로 게임하는 것에 빠져있었던 것 같다.\n지금 생각해보단 당시에 \"논다 = 게임\"이라는 공식이 세워져 있었던 것 같다.\n초등학교 6학년 부터는 롤을 시작해서 살면서 처음으로 PC방을 가봤고, 부모님 몰래 다녔다.\n(학교 끝나고 방과후 한다고 거짓말하고 8시 9시까지 한다던지, 주말에 학원가기 전에 들렀다가 간다던지)\n중학생부터는 집에 데스크탑이 생겨서 차츰차츰 게임에 중독된 것 같다.</p>\n<p>되게 게임하는 것에 집착했던 것 같다. 지금 막상 떠오르는 학창시절의 유희는 대부분이 게임하는 것이었던 것 같다.\n(당시에 게임을 잘하는 것이 친구들과 쉽게 친해질 수 있는 수단이기도 했고, 쉽게 인정받을 수 있는 수단이어서 그랬던 것 같다.)\n그러다보니 자연스래 부모님께 자주 혼나게 되고, 밖으로는 더 착한 학생으로 있고자 했다.</p>\n<p>그러다가 중학교 때 남들 다~ 오는 사춘기가 오면서 다양한 이유로 부모님과 싸우고 가출을 한다던지, 학교에 가지 않는 등 방황을 많이 했다.\n항상 싸우면 울면서 별의별 안좋은 생각을 다 했고, 그럴떄마다 용기도 없으면서 죽는 것을 생각하기도 했었다.\n너무 어두운 기억이 많아서 이때 안좋은 기억을 빨리 잊어버리는 습성이 생기게 된 것 같다.\n결과적으로 부모님과의 사이도 많이 멀어지기도 했고 성적도 많이 떨어졌던 걸로 기억한다. </p>\n<p>중3 때에는 잠깐 정신차리고 인문계 고등학교에 가서 좋은 대학교에 가야겠다고 생각도 했었다.\n그 고1 6 ~ 10개월 간은 정말 독하게 공부했다. 집 - 학교 - 학원 만을 반복하며 하루종일 공부만하고 12시 넘어서 잤다.\n등교할 때는 주로 영단어를 외우며 다녔고, 시험기간에는 학원에서 거의 새벽 1시 정도까지 주로 공부하며 살았다.\n고1 1학기에는 전교 13등을 달성하기도 했지만 여러가지 안 좋은 사건\n(여름방학 믿고 다니던 학원의 하루아침 공중분해, 겨울방학 믿고 따르던 고등학교 선생님의 말도없는 이직)으로 인해 불안정하게 되었다.\n이후 고2 1학기 중간고사 성적에서 평균등급이 2등급 이하(2.xx)가 나왔던 것으로 기억하는데 이것을 기점으로 좋은 내신 성적에서 탈선을 하게 되었다.\n그렇게 나는 정시파라는 말도 안되는 현실도피를 선택하게 되고 그렇게 고2 ~ 고3을 보낸뒤 수능을 말아먹었다.</p>\n<h1>(2018.12 ~) 19살 ~</h1>\n<p>막 수능을 끝내고 내 성적으로는 아무런 대학교도 갈 수 없겠다고 생각하고 있던 차,\n어머니께서 컴퓨터 좋아하니까 컴퓨터라도 배우러 가보라고 해서 배웠던 것이 시작이었다.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/database/transaction/","relativePath":"posts/database/transaction.md","relativeDir":"posts/database","base":"transaction.md","name":"transaction","frontmatter":{"title":""},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/spring/","relativePath":"spring/index.md","relativeDir":"spring","base":"index.md","name":"index","frontmatter":{"title":"Spring","seo":{"title":"Spring","description":"This is the Spring page","extra":[{"name":"og:type","value":"website","keyName":"property"},{"name":"og:title","value":"Blog","keyName":"property"},{"name":"og:description","value":"This is the blog page","keyName":"property"},{"name":"og:image","value":"images/1.jpg","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Blog"},{"name":"twitter:description","value":"This is the blog page"},{"name":"twitter:image","value":"images/1.jpg","relativeUrl":true}]},"template":"spring"},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/thinks/git-fix-commitdate/","relativePath":"thinks/git-fix-commitdate.md","relativeDir":"thinks","base":"git-fix-commitdate.md","name":"git-fix-commitdate","frontmatter":{"title":"Git Commit 일자 수정하기","excerpt":"","date":"2022-04-06","thumb_img_path":"images/reactLogo.png","thumb_img_alt":"reactLogo","content_img_path":"images/reactLogo.png","content_img_alt":"reactLogo","seo":{"title":"데이터베이스 인덱싱","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/reactLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<pre class=\"grvsc-container dark-default-dark\" data-language=\"sh\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ git filter-branch --env-filter \\</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk8\">&#39;if [ $GIT_COMMIT = 90d034e3e6dc400f3a487fa3dfc33cd31f8ed96c ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">     then</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">         export GIT_AUTHOR_DATE=&quot;Apr 5 02:00:00 2022 +0900&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">         export GIT_COMMITTER_DATE=&quot;Apr 5 02:00:00 2022 +0900&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk8\">     fi&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ git push origin main</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">// 위에서 실패하면 아래명령으로 실행</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">git push -f origin main</span></span></span></code></pre>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"sh\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">git rebase -i </span><span class=\"mtk12\">${커밋 해쉬값}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">$ git commit --amend --date=</span><span class=\"mtk8\">&quot;Apr 5 03:00 2022 +0900&quot;</span></span></span></code></pre>\n<p><a href=\"https://shlee0882.tistory.com/281\">https://shlee0882.tistory.com/281</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/react/","relativePath":"react/index.md","relativeDir":"react","base":"index.md","name":"index","frontmatter":{"title":"React","seo":{"title":"React","description":"This is the blog page","extra":[{"name":"og:type","value":"website","keyName":"property"},{"name":"og:title","value":"Blog","keyName":"property"},{"name":"og:description","value":"This is the blog page","keyName":"property"},{"name":"og:image","value":"images/1.jpg","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Blog"},{"name":"twitter:description","value":"This is the blog page"},{"name":"twitter:image","value":"images/1.jpg","relativeUrl":true}]},"template":"react"},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/typescript/closure/","relativePath":"posts/typescript/closure.md","relativeDir":"posts/typescript","base":"closure.md","name":"closure","frontmatter":{"title":"인터페이스에 선언되지 않는 변수값 사용","excerpt":"인터페이스에 선언되지 않는 변수값 사용법을 정리","date":"2021-07-07 17:21","thumb_img_path":"images/tsLogo.png","thumb_img_alt":"Hikers on the trail","content_img_path":"images/tsLogo.png","content_img_alt":"Hikers on the trail","seo":{"title":"Javascript Gatter와 Setter","description":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes.","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"Basic Rules For Walking In The Mountains","keyName":"property"},{"name":"og:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes.","keyName":"property"},{"name":"og:image","value":"images/tsLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Basic Rules For Walking In The Mountains"},{"name":"twitter:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes."},{"name":"twitter:image","value":"images/tsLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>Typescript Class 사용법 정리</h1>\n<p>아래의 코드를 실행하는 과정에서 의문이 생겼다.</p>\n<p>greeter 함수의 경우 Person 인터페이스를 사용한다.</p>\n<p>즉, firstName: string / lastName: string을 사용할 수 있도록 명시한다는 소리인데</p>\n<p>아래의 user 출력값을 보면 알듯이 제한된 2개의 변수 이외에 다른 변수들도 파라미터 값으로 넘기는 것을 알 수 있다.</p>\n<p>예상으로는 제한된 변수 이외의 값을 넘겼으니 에러를 뿜어야하는 것이 맞다고 생각하지만</p>\n<p>해당 코드는 TypeScript Handbook 코드이고, 에러를 내지 않았다.</p>\n<p>검색해보니 결과적으로 정답은 다음과 같다.</p>\n<p>\"변수의 값이 인터페이스와 일치하지 않더라도, 인터페이스의 프로퍼티를 가지고 있다면 부합하는 것으로 간주한다.\"</p>\n<p>추가적으로 덧붙이자면 middleInitial 값을 가지고 있더라도, 인터페이스에 존재하지 않기 때문에 tsc 컴파일시 에러를 뿜는다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Student</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">fullName</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">constructor</span><span class=\"mtk1\">(</span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk12\">firstName</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">, </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk12\">middleInitial</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">, </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk12\">lastName</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">fullName</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">firstName</span><span class=\"mtk1\"> + </span><span class=\"mtk8\">&quot; &quot;</span><span class=\"mtk1\"> + </span><span class=\"mtk12\">middleInitial</span><span class=\"mtk1\"> + </span><span class=\"mtk8\">&quot; &quot;</span><span class=\"mtk1\"> + </span><span class=\"mtk12\">lastName</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">interface</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Person</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">firstName</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">lastName</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">greeter</span><span class=\"mtk1\">(</span><span class=\"mtk12\">person</span><span class=\"mtk1\">: </span><span class=\"mtk10\">Person</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">person</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;Hello, &quot;</span><span class=\"mtk1\"> + </span><span class=\"mtk12\">person</span><span class=\"mtk1\">.</span><span class=\"mtk12\">firstName</span><span class=\"mtk1\"> + </span><span class=\"mtk8\">&quot; &quot;</span><span class=\"mtk1\"> + </span><span class=\"mtk12\">person</span><span class=\"mtk1\">.</span><span class=\"mtk12\">lastName</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"17\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"18\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">user</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Student</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;Jane&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;M.&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&quot;User&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"19\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"20\"></span><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">user</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"21\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// |-&gt; Student {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"22\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">//        firstName: &#39;Jane&#39;,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"23\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">//        middleInitial: &#39;M.&#39;,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"24\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">//        lastName: &#39;User&#39;,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"25\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">//        fullName: &#39;Jane M. User&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"26\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">//      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"27\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"28\"></span><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk11\">greeter</span><span class=\"mtk1\">(</span><span class=\"mtk12\">user</span><span class=\"mtk1\">));</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"29\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// |-&gt; Hello, Jane User```</span></span></span></code></pre>\n<p>출처 : <a href=\"https://poiemaweb.com/typescript-interface\">https://poiemaweb.com/typescript-interface</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk15 { color: #C586C0; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/thinks/speack-clearly/","relativePath":"thinks/speack-clearly.md","relativeDir":"thinks","base":"speack-clearly.md","name":"speack-clearly","frontmatter":{"title":"상대방의 의견과 다르더라도 명확하게 말하기","excerpt":"","date":"2022-02-15","thumb_img_path":"images/reactLogo.png","thumb_img_alt":"reactLogo","content_img_path":"images/reactLogo.png","content_img_alt":"reactLogo","seo":{"title":"상대방의 의견과 다르더라도 명확하게 말하기","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/reactLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>명확하게 말하기</h1>\n<p>일을 하며 발표를 하거나, 상대방을 설득하거나, 질문에 대해 답을 할 때에는 자신이 가지는 생각을 명확하게 말하는 것이 중요하다.<br>\n최근들어 홍관이형과 이야기할 때에 내 생각을 명확하게 이야기하지 못하는 상황을 계속 마주치고 있어서 나에게도 그렇고 홍관이형에게도 힘든 상황을 만드는 것 같다.<br>\n그 이유와 해결방안을 조금 고민해보았다.</p>\n<h2>문제발생 이유</h2>\n<p>사실 내가 생각하는 것은 잘 말하는 편이라고 생각한다. 하지만 상대방에게서 질문을 받거나, 나와 다른 관점의 의견을 듣게 되면 정상적인 답변을 하지 못하는 경우가 종종 있다.</p>\n<p>예를 들어 오늘 홍관이형과 대화하면서 프로젝트에 대한 이야기를 나눌 때 문제가 발생했다.<br>\n나는 프로젝트를 진행할 때에 디자인을 자체적으로 하는 것이 좋을 것다고 생각했다. 그러나 형은 그 부분에는 반대를 했고 그 순간 머리가 정상적으로 작동하지 않기 시작한 것 같다.<br>\n뭔가 계속 논점과는 다른 말을 함으로써 나 스스로도 헛소리를 하고 있다는 것이 느껴졌다.\n그러다보니 이야기가 계속 빙빙돌게 되었다. 대화하는 상대방에게 정상적인 답변을 하지 못함으로써 피로감을 주는 건 정말 미안한 일이라고 생각했다.</p>\n<h2>이유분석</h2>\n<p>조금 생각을 해보니 나는 준비되어 있지 않은 상황에 놓여질 때 굉장히 얼어붙는 느낌인 것 같다.<br>\n내가 익숙한 환경, 편안한 상태에서는 무난하게 대화하는 것 같다.\n하지만 약간의 트리거로 인해 긴장하게 되면, 그 순간 심장박동이 빨라지고 귀가 빨개지면서 머리에 피가 쏠리게 되었다.\n그 이후, 홍관이형에게 내 생각을 말하기보다 형의 질문에 변명, 합리화를 하는 대답을 하고 있었고 그게 반복되다보니 이야기의 논점을 흐리는 <code class=\"language-text\">유체이탈 화법</code>을 구사하고 있었다.</p>\n<p>즉 나는 <code class=\"language-text\">나와 다른 관점의 생각을 듣는 것</code>을 듣고 대화하는 것에 전혀 내성이 없어서 이런 문제가 발생하는 것 같다.</p>\n<h2>해결방법</h2>\n<p>가장 중요한 것은 말할 때 긴장하지 않는 것과 무조건 내 생각이 맞다고 우기지 않는 것이다.<br>\n긴장하면 정상적인 사고가 되지 않는 것은 당연하고, 내 생각이 맞다고 우기기만 한다면 대화의 존재가치가 사리지기 때문이다.</p>\n<h3>긴장하지 않기</h3>\n<p>말할 때 꼭 나와는 다른 생각이 있을 수 있음을 생각하고 말해야할 것 같다.\n그러면 상반되는 의견이 나와도 준비된 상태에서 받아들일 수 있기 때문이다. (무의식적으로 맞기 vs 의식하고 맞기의 차이와 같이)\n또 말을 하기 전에 항상 정리하고 말하는 습관을 들이는 것이 중요할 것 같다.</p>\n<h3>솔직하게 말하기</h3>\n<p>추가적으로 긴장하지 않기 위해서는 솔직하게 말해야할 필요가 있을 것 같다.<br>\n상대방이 무서워서, 내가 이 말을 하면 상대방이 뭐라고 할까봐 이런 생각을 잠시 넣어두고 솔직한 내 생각을 말하는 연습이 필요할 것 같다.\n내 생각을 드러내는 것이 무서워서 솔직하게 말하지 않으면 거짓말쟁이가 되고 결과적으로 내 말의 신뢰도가 떨어지니 대화를 하고 싶지 않아질 것 같았다.</p>\n<h3>우기지 않기</h3>\n<p>내 생각이 맞다고 확정짓고 대화에 임하지 않으면 더 좋았을 것 같다.\n홍관이형의 얘기를 들어보니 내가 너무 미시적으로 생각하고 있었던 부분도 있었다.\n그냥 내 안좋았던 경험에 의거해서 경험해보는 시도조차 하지 않는 것은 너무 부끄러운 일이었을 것 같다.</p>\n<h1>결론</h1>\n<p>사회에서 사람을 만나다보면 </p>\n<p>그리고 너무 <code class=\"language-text\">기술을 잘해야해!</code>라는 생각에 파묻혀서 기술자이기 이전에 나는 인간임을 명심하고 살아야할 것 같다.\n기술력을 얻자고 인간성을 잃어버린다면 너무 부끄럽고, 미안한 일이기 때문이다.\n11</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/thinks/inflab-review/","relativePath":"thinks/inflab-review.md","relativeDir":"thinks","base":"inflab-review.md","name":"inflab-review","frontmatter":{"title":"면접 질문 복기","excerpt":"","date":"2022-02-11","thumb_img_path":"images/reactLogo.png","thumb_img_alt":"reactLogo","content_img_path":"images/reactLogo.png","content_img_alt":"reactLogo","seo":{"title":"면접 질문 복기","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/reactLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>인프런 면접 정리</h1>\n<h2>이력서 질문</h2>\n<ol>\n<li>현재 회사에서 하고 있는 업무는 어떤 업무이신가요?</li>\n<li>이직을 하며 회사에 아쉬웠던 점이 무엇이었을까요?</li>\n<li>입찰공고 서비스 리펙토링에서 60초 이상 걸리는 쿼리 단축은 어떤 것인가요?</li>\n<li>쿼리 성능 생선을 위해 인덱스 등을 사용해본 경험이 있나요?</li>\n<li>랜덤 쿼리를 사용할 때에 그 성능을 어떻게 최적화 하였나요?</li>\n</ol>\n<h2>과제 코드 질문</h2>\n<ol>\n<li>database connection 연결하는 비동기 과정이 어떻게 되는 것인가요?</li>\n<li>WrapAsync 함수에서 async 함수만을 처리할 수 있도록 사용하고 있는데 동기 함수 또한 처리할 수 있도록 하는 방법이 있을까요?</li>\n<li>테스트 코드에서 테스트가 독립적으로 작동하지 않는데 그 이유가 무엇이며, 어떻게 해야할까요?</li>\n<li>Response Entity를 사용해 코드를 작성할 때 <T>를 사용하였는데 이게 어떤 역할을 하는 것인가요?</li>\n<li>Reflect가 어떤 역할을 하는 것인가요?</li>\n<li>query builder를 사용해 쿼리문을 제작할 때 사용자의 실수(잘못된 메서드를 사용하는 경우)를 어떻게 방지할 수 있을까요?</li>\n</ol>\n<h2>별도 기술질문</h2>\n<ol>\n<li>멀티 인덱싱이 무엇인지 아시나요? 어떻게 적용되고 동작하나요?</li>\n<li>분산 데이터 베이스를 운영하는 기술을 아시나요? → 아마도 샤딩?</li>\n</ol>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/typescript/decorator/","relativePath":"posts/typescript/decorator.md","relativeDir":"posts/typescript","base":"decorator.md","name":"decorator","frontmatter":{"title":"Typescript Decorators","excerpt":"Typescript Decorators의 동작 원리를 분석!","date":"2022-01-20 21:50","thumb_img_path":"images/tsLogo.png","thumb_img_alt":"Hikers on the trail","content_img_path":"images/tsLogo.png","content_img_alt":"Hikers on the trail","seo":{"title":"Typescript Decorators","description":"Typescript Decorators의 동작 원리를 분석!"},"template":"post"},"html":"<h1>재미있는 데코레이터에 대한 설명</h1>\n<p>출처 :<br>\n<a href=\"https://velog.io/@kkajjeim/%EB%8D%B0%EC%BD%94%EB%A0%88%EC%9D%B4%ED%84%B0%EC%99%80-%EB%A9%94%ED%83%80%EB%8D%B0%EC%9D%B4%ED%84%B0\">데코레이터와 메타데이터</a>\n<a href=\"https://blog.wotw.pro/typescript-decorators-reflection/\">Typescript Reflaction</a>\n<a href=\"https://dparkjm.com/typescript-decorators#parameter-decorator\">Typescript Decorators</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/spring/gradle-multi-module-spring-bean/","relativePath":"posts/spring/gradle-multi-module-spring-bean.md","relativeDir":"posts/spring","base":"gradle-multi-module-spring-bean.md","name":"gradle-multi-module-spring-bean","frontmatter":{"title":"Gradle 멀티모듈 시스템 구성 시 스프링 빈 등록 문제","excerpt":"","date":"2022-07-20","thumb_img_path":"images/springgradle.png","thumb_img_alt":"reactLogo","content_img_path":"images/springgradle.png","content_img_alt":"reactLogo","seo":{"title":"Gradle 멀티모듈 시스템 구성 시 스프링 빈 등록 문제","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/jpaLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h2>개요</h2>\n<p>앞서서 멀티 모듈을 구성하는 과정에 대해 설명한 <a href=\"./gradle-multi-module-dependency-manage.md\">포스팅</a>을 작성했었습니다.<br>\n이번에는 프로젝트를 구성하고 개발하면서 발생한 문제들에 대해서 설명해보겠습니다.</p>\n<h3>Spring Bean 미등록</h3>\n<p>개발하면서 스프링 빈이 등록되지 않는 문제가 있었습니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 19.680851063829788%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAh0lEQVQY06WQwQ7CIBBE+Z8qFVhAG9FaoE2P9v//ZcxCa2qMJw8vs8vMLsmKmJ9I04IuzGjkFYc2/IVwlxGKHmj1faX/wd7/zEpVe1ZhXIKioaBpgHERxkZoW2tWfmflj8knkEvgOa7tOZd8zUYI303F2BbQGmS454HNJ59xPN3ep2lk+DrTC33JgyBPLCgrAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2022 07 20 23 41 44\"\n        title=\"2022 07 20 23 41 44\"\n        src=\"/static/2ceb9474e4f054bb8bcab392e2e1f7ab/1d69c/2022-07-20-23-41-44.png\"\n        srcset=\"/static/2ceb9474e4f054bb8bcab392e2e1f7ab/4dcb9/2022-07-20-23-41-44.png 188w,\n/static/2ceb9474e4f054bb8bcab392e2e1f7ab/5ff7e/2022-07-20-23-41-44.png 375w,\n/static/2ceb9474e4f054bb8bcab392e2e1f7ab/1d69c/2022-07-20-23-41-44.png 750w,\n/static/2ceb9474e4f054bb8bcab392e2e1f7ab/78797/2022-07-20-23-41-44.png 1125w,\n/static/2ceb9474e4f054bb8bcab392e2e1f7ab/aa440/2022-07-20-23-41-44.png 1500w,\n/static/2ceb9474e4f054bb8bcab392e2e1f7ab/6c837/2022-07-20-23-41-44.png 2962w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"java\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">SpringBootApplication</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">EntityScan</span><span class=\"mtk1\">(basePackages = {</span><span class=\"mtk8\">&quot;com.vrr.domain&quot;</span><span class=\"mtk1\">})</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">EnableJpaRepositories</span><span class=\"mtk1\">(basePackages = {</span><span class=\"mtk8\">&quot;com.vrr.domain&quot;</span><span class=\"mtk1\">})</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">EnableConfigurationProperties</span><span class=\"mtk1\">(</span><span class=\"mtk12\">AppProperties</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ApiApplication</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">static</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">main</span><span class=\"mtk1\">(</span><span class=\"mtk10\">String</span><span class=\"mtk1\">[] </span><span class=\"mtk12\">args</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">SpringApplication</span><span class=\"mtk1\">.</span><span class=\"mtk11\">run</span><span class=\"mtk1\">(</span><span class=\"mtk12\">ApiApplication</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>수정</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"java\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">SpringBootApplication</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">EnableConfigurationProperties</span><span class=\"mtk1\">(</span><span class=\"mtk12\">AppProperties</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ApiApplication</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk4\">static</span><span class=\"mtk1\"> </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">main</span><span class=\"mtk1\">(</span><span class=\"mtk10\">String</span><span class=\"mtk1\">[] </span><span class=\"mtk12\">args</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">SpringApplication</span><span class=\"mtk1\">.</span><span class=\"mtk11\">run</span><span class=\"mtk1\">(</span><span class=\"mtk12\">ApiApplication</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 147.8723404255319%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAABYlAAAWJQFJUiTwAAADO0lEQVRIx51W63raMAzNowwIuTqxncSXxEkI90Kh62i7vv+TnH0xlNF1Kys/DoJE37GOJEs4u/YBedUilgaeL+CFAiFRiIhGECt4gQDLWkg9t7/9UGAcFAgv3kdEgaYcYSLh5MUU7d0T7u4PUOUKCWsQkvKIuEREShBaI2UN4qRCEGvrp6sVpF6AZR1UtYaZ7MGLGRzCJ2iXz5B6g0JvwIolcrW1ttA7a2k2RyaP71ixQqG3UGYPUe2QsIk9NKG1tY4fCPBqA6424PIeNF8hzRYgtLM2TlsQOgHNlvYZYVMQOkXC50jYDH6oMRpzjMaZheP6BdLUoJtsoModUtZiMKJHB5edHPnpO/8A18sx9osznHEgkcYCLeNoigY81Rh5xTuna7gkdfoPwlrUzQZ1XsE9Rfbm+GcE12AJ06zDZPWK0vxA2T5Dmh9fJjoT9kUZ+wJq8gDZ/USYdPBC/UHK/xOG0sqMWYuu20HyGlFYYHQi+7JkS+jlGHkCHUvRCQOalBiOb5V8IuyrbXgBQbVNwe05fCP0Bdr5IzKxtr33t7aw9nxQfkXyOENCG5jZAaJ6RP98MEo/ROpeye1FhIUtTqKWEO3BXqv+uvVXa+j2tyK3uFYopx8/l6f6pAQvV8j1GsJsQXhtx1mYKAREYuRlF6QfiZ1e5mXO3EBA1XPU3Qqy6qDMDLqZQ5opmKgxuHKLnIhUZ8I3Jy6mdkTRfI1xoDAYMSu7x/sc5p9LfnP0QoVm+h3KPEJWj3YuZnKLP32vFuWSNEoMZHVnByph3X/3peP6x5ZxvexkcystiktUzc62UEQaDIb03F7/Qs/hCD5DRAzipD7BIIwriG6PevEEs3iFaPZgcmHf/fb7GwycqlghTmsktAVJG7BsCp7PUC5fUM4P0PODtaK+t43f+32Gs+QjcuRiisl0D5qtkYkNPF9iMEwxPK+Dz2GLYgvhFzZks3hGpnYYutTujJuGQx/ZtyEFyyfIy349PthWCWNjE/3lFdD/S9D1FqLcI6EdQmIQJQ28QH59wPayCG1QdQ9gxQYpn51aiF+dLP8kTPqtt3qFbl+gm6d3kd0QYQbCGtSLF6j6CfxiwN6ypH4Byz+hRuqnoGsAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2022 07 20 23 43 17\"\n        title=\"2022 07 20 23 43 17\"\n        src=\"/static/3e78c5e90609a667cee56325851365a2/1d69c/2022-07-20-23-43-17.png\"\n        srcset=\"/static/3e78c5e90609a667cee56325851365a2/4dcb9/2022-07-20-23-43-17.png 188w,\n/static/3e78c5e90609a667cee56325851365a2/5ff7e/2022-07-20-23-43-17.png 375w,\n/static/3e78c5e90609a667cee56325851365a2/1d69c/2022-07-20-23-43-17.png 750w,\n/static/3e78c5e90609a667cee56325851365a2/906b5/2022-07-20-23-43-17.png 950w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/spring/gradle-plugins-managing/","relativePath":"posts/spring/gradle-plugins-managing.md","relativeDir":"posts/spring","base":"gradle-plugins-managing.md","name":"gradle-plugins-managing","frontmatter":{"title":"Gradle plugins vs build script 차이점 정리","excerpt":"","date":"2022-07-24","thumb_img_path":"images/gradleLogo.png","thumb_img_alt":"reactLogo","content_img_path":"images/gradleLogo.png","content_img_alt":"reactLogo","seo":{"title":"Gradle plugins vs build script","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/jpaLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h2>개요</h2>\n<p>사이드 프로젝트에서 gradle.build 파일을 수정하면서 생긴 궁금점을 정리합니다.</p>\n<p>기존에는 apply plugin 이라는 명령을 통해 gradle에서 프로젝트에 Task를 추가했다.\n그러나 현제 사용하고 있는 Gradle v.7 이후에서는 plugins 라는 명령을 통해 Task를 관리하고 있다.</p>\n<p>참고자료 :\n<a href=\"https://docs.gradle.org/current/userguide/plugins.html\">https://docs.gradle.org/current/userguide/plugins.html</a>\n<a href=\"https://doughman.tistory.com/19\">https://doughman.tistory.com/19</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/spring/gradle-testFixtures/","relativePath":"posts/spring/gradle-testFixtures.md","relativeDir":"posts/spring","base":"gradle-testFixtures.md","name":"gradle-testFixtures","frontmatter":{"title":"Gradle7 멀티모듈 환경에서 TestFixture 공유하기","excerpt":"","date":"2022-08-25","thumb_img_path":"images/gradleLogo.png","thumb_img_alt":"reactLogo","content_img_path":"images/gradleLogo.png","content_img_alt":"reactLogo","seo":{"title":"Gradle plugins vs build script","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/jpaLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h2>개요</h2>\n<p>멀티모듈 환경에서 개발하다보면 공통적인 코드를 처리하는데 어려움을 겪곤 합니다.<br>\n이번에는 테스트 코드를 작성할 때 코드의 중복을 줄이기 위해 도메인 객체를 생성하거나, 테스트 코드 공통 설정을 처리하는 Fixture 코드가 발목을 잡았습니다. </p>\n<h3>공통 Fixture를 가진 모듈</h3>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"groovy\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// domain/gradle.buld</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">plugins {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    id </span><span class=\"mtk8\">&#39;java-library&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    id </span><span class=\"mtk8\">&#39;java-test-fixtures&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    id </span><span class=\"mtk8\">&#39;maven-publish&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">...</span></span></span></code></pre>\n<h3>Fixture에 의존하는 모듈</h3>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"groovy\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// domain/api/gradle.buld</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">dependencies {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    implementation project(</span><span class=\"mtk8\">&#39;:common&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    implementation project(</span><span class=\"mtk8\">&#39;:domain&#39;</span><span class=\"mtk1\">)  </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    testImplementation testFixtures(project(</span><span class=\"mtk8\">&quot;:domain&quot;</span><span class=\"mtk1\">))</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>출처 :<br>\n<a href=\"https://stackoverflow.com/questions/5644011/multi-project-test-dependencies-with-gradle\">옛날 Gradle 설정방식</a><br>\n<a href=\"https://docs.gradle.org/current/userguide/java_testing.html#sec:java_test_fixtures\">Gradle7 공식문서 설정방식</a>\n<a href=\"https://bottom-to-top.tistory.com/58\">한국어 Fixture 설정방식 설명</a><br>\n<a href=\"https://toss.tech/article/how-to-manage-test-dependency-in-gradle\">테스트 의존성 관리로 높은 품질의 테스트 코드 유지하기</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/spring/spring-document-auto-generator/","relativePath":"posts/spring/spring-document-auto-generator.md","relativeDir":"posts/spring","base":"spring-document-auto-generator.md","name":"spring-document-auto-generator","frontmatter":{"title":"Spring RestDocs with OpenAPI3","excerpt":"","date":"2022-07-24","thumb_img_path":"images/springBootLogo-3.jpeg","thumb_img_alt":"reactLogo","content_img_path":"images/springBootLogo-3.jpeg","content_img_alt":"reactLogo","seo":{"title":"Spring RestDocs with OpenAPI3","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/jpaLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h2>개요</h2>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"groovy\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">plugins {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">//    id &#39;org.asciidoctor.convert&#39; version &#39;1.5.8&#39; # 예전 버전</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    id </span><span class=\"mtk8\">&#39;org.asciidoctor.jvm.convert&#39;</span><span class=\"mtk1\"> version </span><span class=\"mtk8\">&#39;3.3.2&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>Spring RestDocs를 적용하다보면 ascii문서를 html로 변경하기 위한 플러그인을 사용하게 된다.\n이때 위에 보이듯 2가지 종류가 있는데 <code class=\"language-text\">'org.asciidoctor.convert'</code>는 Gradle 6.7 이전(?)에 쓰이던 플러그인 인 것 같다 자세한 건 더 찾아보자</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/spring/gradle-multi-module-dependency-manage/","relativePath":"posts/spring/gradle-multi-module-dependency-manage.md","relativeDir":"posts/spring","base":"gradle-multi-module-dependency-manage.md","name":"gradle-multi-module-dependency-manage","frontmatter":{"title":"Gradle 멀티모듈 시스템 구성 시 의존성 관리 방법","excerpt":"","date":"2022-07-18","thumb_img_path":"images/springgradle.png","thumb_img_alt":"reactLogo","content_img_path":"images/springgradle.png","content_img_alt":"reactLogo","seo":{"title":"Gradle 멀티모듈 시스템 구성 시 의존성 관리 방법","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/jpaLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h2>개요</h2>\n<p>요즘 토이프로젝트를 진행하면서 Gradle7, Spring 환경에서 멀티모듈을 활용해 프로젝트를 구성하고 있습니다. 이 과정에서 의존성을 관리하는 것에 궁금함이 있었습니다.<br>\n본 포스팅은 관련된 궁금점에 대해 해결이 된 부분을 정리합니다.  </p>\n<h2>시작하면서</h2>\n<p>처음 프로젝트 구성할 때는 단순히 어플리케이션 모듈과 공통 모듈로 분리하여 각각의 모듈로 구성하면 되겠다! 정도로 생각했습니다. 그러나 현실은 언제나처럼 제 이론과는 반대로 동작했습니다.<br>\n멀티모듈로 프로젝트를 구성하는 것의 최고 장점이라면 기능별로 모듈을 분리하면서 각각의 모듈을 독립적으로 구성할 수 있다는 것입니다. 이로 인해 각 모듈의 의존성을 최소로 관리하여 재사용에 사용할 수 있게 됩니다.<br>\n그러나 저는 공통 모듈에 공통으로 쓰일 것 같은 모든 로직을 집어 넣게 되었고 결과적으로 공통모듈은 프로젝트 전반에 필요한 의존성을 모두 가진 뚱뚱한 모듈이 되어버렸습니다.<br>\n따라서 공통모듈을 의존하는 어플리케이션은 필요없는 의존성 또한 어쩔 수 없이 의존하게 되었습니다.<br>\n이를 해결하기 위해 여러 자료들을 찾아보며 해결 전략을 세웠습니다.</p>\n<h3>해결전략</h3>\n<p>모든 공통 로직을 공통 모듈에서 관리하지 말고, 각각의 기능에 집중해 모듈을 구성하자!<br>\n참고한 <a href=\"https://techblog.woowahan.com/2637/\">포스팅</a>에서는 크게 5개 레이어를 구성해 모듈을 관리했습니다만 저는 그 중 4개의 방식만을 채택하여 구성하였습니다.</p>\n<p>이 해결전략에 대한 PR은 아래에서 확인이 가능합니다.  </p>\n<ul>\n<li><a href=\"https://github.com/VRR-TEAM/vrr-spring-backend/pull/8\">https://github.com/VRR-TEAM/vrr-spring-backend/pull/8</a>  </li>\n</ul>\n<h4>VRR 전체 프로젝트</h4>\n<ul>\n<li>어플리케이션 : application module</li>\n<li>도메인 : domain module</li>\n<li>외부 서비스 : client module</li>\n<li>공통모듈 : common module</li>\n</ul>\n<h4>모듈간 의존관계도</h4>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 527px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 93.08510638297872%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAACFUlEQVQ4y32U14qCQQyF5/0fyFtBsaKioCCC2Hvv3Sxf4MjvrmsgTCaTeiYzYb/f22KxsPV6bZPJxKbTqY3HYxsOh76yRz+bzZy1Z53P576uViv3P5/PFhC22609n0+73W5vjJ4gy+XytVLA/X73c634ot/tdhYwQvhErVbLYrGYFQoFS6fTls1mrd/vf7Ql4GazsaDMkLLCj8fDM8MiZJ1FGSKGBzwcDtbtdl/YkQBMwYWsQEKlnU7HdTjhjB4ZWATN5XKxYF+IZL1ez47Ho51OJxsMBu70jYLaglU+REZuOqoDErqhg09EjBDdQLSRyWR8NKRTQmHMJZVKJU/GqFA1q1cIdqPR6IVNvV63crnsM0ZQGMKBG6Y6qm82my8cgQadjw3ByABGHERvEpmE0bGAONdekODP5QQqoJVarWbFYtGrSCaT1mg03JGbVUAqgqgykUhYKpVyvS4Q2QNer9c/AJMEog2qUAf/EV16QHAjI8Y4I9MKh7TAntYJCDzYqFrmlpUYjJQHxJgKYSrBCWcqREfbumnZcYYN8HCOzKW9jY2IQf4EwW8iCK/nz2DjTKm0DOdyOR8ZZFpmpSJNguBgwPksgICL008U9JfxvBREXxE6sGHQK5WKVatVPydo9E0TA2632xYw0JRHn6GwI2A8HveRyufzbzZRhniq/tvQIhWRjYlnlPRrI2sSsCMB+t+MHtsf18ayo/M6WzUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2022 07 18 17 09 48\"\n        title=\"2022 07 18 17 09 48\"\n        src=\"/static/5288c0406e0cdbe0522e2de2fb820485/44385/2022-07-18-17-09-48.png\"\n        srcset=\"/static/5288c0406e0cdbe0522e2de2fb820485/4dcb9/2022-07-18-17-09-48.png 188w,\n/static/5288c0406e0cdbe0522e2de2fb820485/5ff7e/2022-07-18-17-09-48.png 375w,\n/static/5288c0406e0cdbe0522e2de2fb820485/44385/2022-07-18-17-09-48.png 527w\"\n        sizes=\"(max-width: 527px) 100vw, 527px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h4>공통 모듈</h4>\n<p>공통모듈은 모든 모듈에서 참조하여 사용할 수 있도록 별도의 의존성을 가지지 않는 순수 JAVA 코드로만 구성하여 <code class=\"language-text\">dependencies</code>가 항상 비어있도록 개발하였습니다. 프로젝트에서 공통으로 사용하는 공통코드(ENUM), 유틸 클래스, 어노테이션들을 관리하는 모듈로 관리하였습니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.27659574468085%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABeklEQVQ4y6WSbW+bMBRG+SlrEjA2xmAgGEMaqrw06su2Tu3X/f+fcSacLUq1akvbD8eIq4fDvbajYX3H4/efbPfPbHYv2HpNmtUU1vNlppnHBYu0JMsdxt5g7IjMHLPUILKKWJQs0oqrxJCklqhxW1abJ66fntk9vJBrz9XcMFsULBIbmMc2vM8WJhB+Ek/18sQxVxIVtidOKoRu0GWDzFqEbEMXqWpfM9Xeqp8RmXJAaoeqe4z1tK7H1h4hl6RqGZ7vIWq7DUItUV1P3vWUdR/26yhsL5ZO2SA0ZU+qHNoNqHGF7lZk2r8K/WvE80wQCtmQFR5V+TB6Kv+Ejt39T/aXcPpI5R22HxnGA7W5xuieRF4me1tY+NDl+XjiM0KZd1TtiPd7ynxAZ93HhdMyjayKDmnc6f4J9YkOddmTdQOq9ajcnw7mI4RTlrkjb44XPJY1QjUkaU0sapJL+Z2PCrtmffON7cMP3OERt79n2H2ldQcad/s+2lt+Aez6sp8cJQ7rAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2022 07 18 17 14 50\"\n        title=\"2022 07 18 17 14 50\"\n        src=\"/static/e93cc7d764f5ecd567b1b1c622a63ab7/1d69c/2022-07-18-17-14-50.png\"\n        srcset=\"/static/e93cc7d764f5ecd567b1b1c622a63ab7/4dcb9/2022-07-18-17-14-50.png 188w,\n/static/e93cc7d764f5ecd567b1b1c622a63ab7/5ff7e/2022-07-18-17-14-50.png 375w,\n/static/e93cc7d764f5ecd567b1b1c622a63ab7/1d69c/2022-07-18-17-14-50.png 750w,\n/static/e93cc7d764f5ecd567b1b1c622a63ab7/58bb7/2022-07-18-17-14-50.png 985w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h4>도메인 모듈</h4>\n<p>도메인 모듈은 프로젝트 내의 핵심 도메인 로직들을 나타내는 <code class=\"language-text\">Entity</code>, <code class=\"language-text\">EntityRepository</code>, <code class=\"language-text\">DomainService</code>들로 구성하였습니다.</p>\n<h2>문제 #1</h2>\n<p>Gradle 7 이전에는 compile 명령을 활용해 의존성을 불러왔음.\n그러나 이제는 <code class=\"language-text\">api</code>, <code class=\"language-text\">implementation</code> 명령을 통해 의존성을 관리함.  </p>\n<ul>\n<li>api : 불러오는 라이브러리가 의존하고 있는 관련된 다른 라이브러리들까지 같이 불러옴</li>\n<li>implementation : 불러오는 라이브러리만 불러옴</li>\n</ul>\n<p>멀티모듈 프로젝트 구성시 공통모듈(common), 도메인 모듈(domain) 등의 모듈을 구축하게 된다.<br>\n이러한 모듈들은 api 명령을 활용해 어플리케이션 모듈에서 해당 모듈들을 불러올 시 관련된 의존성을 한꺼번에 불러올 수 있도록 하는 것이 좋다.\n반면에 어플리케이션 모듈에서 의존성을 불러올 경우에는 implementation을 활용해 별도의 하위 의존성을 노출하지 않도록 합니다.  </p>\n<h2>관련 포스팅</h2>\n<p><a href=\"https://techblog.woowahan.com/2637/\">우아한 형제들 기술블로그 - 멀티모듈 설계 이야기</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/spring/spring-security-authentication-principal/","relativePath":"posts/spring/spring-security-authentication-principal.md","relativeDir":"posts/spring","base":"spring-security-authentication-principal.md","name":"spring-security-authentication-principal","frontmatter":{"title":"Spring Security의 @AuthenticationPrincipal 동작방식","excerpt":"","date":"2022-08-05","thumb_img_path":"images/springBootLogo-3.jpeg","thumb_img_alt":"reactLogo","content_img_path":"images/springBootLogo-3.jpeg","content_img_alt":"reactLogo","seo":{"title":"Spring Security의 WebSecurityConfigurerAdapter Deprecated","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/jpaLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h2>개요</h2>\n<p>최근 사이드 프로젝트를 진행하면서 인증을 적용하고 있습니다.\n그 과정에서 Spring Security를 사용해 사용자를 식별하는 @AuthenticationPrincipal 어노테이션을 제대로 사용하지 못해 동작방식을 알아보게 되었습니다.</p>\n<h2>SecurityContext</h2>\n<p>우선 스프링 시큐리티는 기본적으로 Security Context를 통해 인증여부를 관리합니다.\n인가가 정상적으로 처리될 경우 <code class=\"language-text\">SecurityContextHolder</code>내의 <code class=\"language-text\">SecurityContext</code>에 Authentication 인증객체를 저장합니다.\n이때 Authentication 인증객체에는 아래의 사항들이 Thread Local에 저장되어 전역적으로 관리된다.</p>\n<ul>\n<li>principal</li>\n<li>credentials</li>\n<li>authorities</li>\n<li>details</li>\n<li>Authenticated</li>\n</ul>\n<p>따라서 아래의 코드를 통해 인증객체를 가져와 최종인증 결과를 참조할 수 있습니다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"java\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Authentication</span><span class=\"mtk1\"> </span><span class=\"mtk12\">authentication</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">SecurityContexHolder</span><span class=\"mtk1\">.</span><span class=\"mtk11\">getContext</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                                                    .</span><span class=\"mtk11\">getAuthentication</span><span class=\"mtk1\">();</span></span></span></code></pre>\n<h2>@AuthenticationPrincipal</h2>\n<p>위에서 간단하게 어떻게 인증객체를 조회하는 방법을 알아보았습니다.\n이렇게 가져온 인증객체를 사용하기 위해 원하는 클래스로 바인딩하는 과정이 필요하고,\n이를 지원하는 어노테이션인 <code class=\"language-text\">@AuthenticationPrincipal</code>을 사용한다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"java\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @</span><span class=\"mtk10\">GetMapping</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;/api/1&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">public</span><span class=\"mtk1\"> </span><span class=\"mtk10\">String</span><span class=\"mtk1\"> </span><span class=\"mtk11\">sh</span><span class=\"mtk1\">(@</span><span class=\"mtk10\">AuthenticationPrincipal</span><span class=\"mtk1\"> </span><span class=\"mtk10\">UserPrincipal</span><span class=\"mtk1\"> userPrincipal) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&quot;hello&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span></code></pre>\n<p>그렇기 때문에 <code class=\"language-text\">@AuthenticationPrincipal</code>에 인증객체와 원하는 클래스(UserPrincipal)을 바인딩하는 Resolver가 필요합니다.\n그 Resolver가 바로 <code class=\"language-text\">AuthenticationPrincipalArgumentResolver</code> 입니다!</p>\n<h2>AuthenticationPrincipalArgumentResolver</h2>\n<p>그럼 한번 Resolver가 어떻게 동작하는지 과정을 알아보겠습니다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 67.5531914893617%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACiUlEQVQ4y42T2W7bSBBF9T2WKbHJ5r42yaa4iSIl2xpZSTCZ7f//4AxIOYExD8E8HBS6gSrg3qq78fIDpiwRTobppghXIdz6gaVwRYYQObZbY7sa4Sz/JY6ZIUWOYSQ8G/FPNkVzQ7/9Qfv+neH6jbfznePxK4frP3TXvzm+fKeevhEP7xTHO93pTlafUdVIVc2E0RE/6AnCYa2bQ3tjfv2L8fInQ/eFRt/J8xk/PhFmM8GCmjDSDpENRHmPr1o81RFmA77f4X1iI6Um9loCv2e3zxB2sUo1RLyy26dsnyKMbbyyXXh68LSN2D7HP1klh/1EMZ3pXl4px4l+/I2Xy+8U3YR3rknOPa7S2EmJlRZYSYGdlus7chtCtyINNLZdYuxSNmE6oMaZYpjJjzNZO9ENN8bxC4f+heQwIsMDwq2wPI3lavZmvqr5L+tA26ko2ytBfcRtOtL2Qj/eqPSEa2n8uEdGLTJssMMGJ2wxhVqbjX36qB8sQzeOq2maN4L6gOwLsu5E29yo64mmv1LqGWOXsFsaPpp+xUZ6Nc38lby9MJxvVN0FPx7pxzvddMUvD+wjRZwNZNm4EgQtz8/JxyISDCN91EVyFHYcmlfS5Ejg9kRhi6NynKTETWtEWODJEsdS7NycvZ9j+grb00TxgONrhK9wHP0h2a5o6lem9p1Mn4mHE8l8Qp1nmtMbQd4QhxVpUpFpTahKnLAkixoKdcQra2RZEqoWKSs2i8Ge0EizRiwRXOIlNZbU+F6DbZXsRYolc1xXYds55v4ROyEydjJjL3NMR633u/FlTei3BOHjsBdvHvn85NFu8Shlazzq+v6xXeMTi4dSlPh+Q5IOmEvY/8cmf7XlfwEJiN/9UI815gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2022 08 21 14 02 02\"\n        title=\"2022 08 21 14 02 02\"\n        src=\"/static/64aaffa0fffea21f23378910b571552c/1d69c/2022-08-21-14-02-02.png\"\n        srcset=\"/static/64aaffa0fffea21f23378910b571552c/4dcb9/2022-08-21-14-02-02.png 188w,\n/static/64aaffa0fffea21f23378910b571552c/5ff7e/2022-08-21-14-02-02.png 375w,\n/static/64aaffa0fffea21f23378910b571552c/1d69c/2022-08-21-14-02-02.png 750w,\n/static/64aaffa0fffea21f23378910b571552c/b12f7/2022-08-21-14-02-02.png 1020w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2>관련 포스팅</h2>\n<p><a href=\"https://sas-study.tistory.com/410\">[Spring Security] @AuthenticationPrincipal 어노테이션은 어떻게 동작할까??</a>\n<a href=\"https://catsbi.oopy.io/f9b0d83c-4775-47da-9c81-2261851fe0d0\">스프링 주요 아키텍처의 이해</a></p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"json\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;code&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;INACTIVATE_USER&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;message&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk8\">&quot;User is inactive&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk15 { color: #C586C0; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/spring/spring-security-webadapter-deprecated/","relativePath":"posts/spring/spring-security-webadapter-deprecated.md","relativeDir":"posts/spring","base":"spring-security-webadapter-deprecated.md","name":"spring-security-webadapter-deprecated","frontmatter":{"title":"Spring Security의 WebSecurityConfigurerAdapter Deprecated","excerpt":"","date":"2022-03-28","thumb_img_path":"images/springBootLogo-3.jpeg","thumb_img_alt":"reactLogo","content_img_path":"images/springBootLogo-3.jpeg","content_img_alt":"reactLogo","seo":{"title":"Spring Security의 WebSecurityConfigurerAdapter Deprecated","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/jpaLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h2>개요</h2>\n<p>기존 스프링에서 인증을 구현하기 위해 많이들 사용하는 <code class=\"language-text\">Spring Security</code>의 Config 설정 방식이 변경되었다.\n이전에는 Config 파일에 WebSecurityConfigurerAdapter를 상속받아 구현하는 방식으로 사용했었는데,\nSpring Security 5.7.0-M2 버전 부터는 이 설정방식이 deprecated 되었다.</p>\n<h2>관련 포스팅</h2>\n<p><a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\">스프링 커뮤니티 블로그글</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/react/react-start/","relativePath":"posts/react/react-start.md","relativeDir":"posts/react","base":"react-start.md","name":"react-start","frontmatter":{"title":"React 시작하기","excerpt":"","date":"2021-06-09","thumb_img_path":"images/reactLogo.png","thumb_img_alt":"reactLogo","content_img_path":"images/reactLogo.png","content_img_alt":"reactLogo","seo":{"title":"React 시작하기","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/reactLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<p><img src=\"../../../images/react-event-handler.png\" alt=\"Awesome image\"></p>\n<h1>React 시작하기</h1>\n<p>React에서 onClick과 같은 이벤트를 핸들링할 수 있는 이벤트 핸들러에 매개변수를 전달할 때 아래의 규칙을 따르는 것 같다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">functionName</span><span class=\"mtk1\">(...</span><span class=\"mtk12\">params</span><span class=\"mtk1\">, </span><span class=\"mtk12\">e</span><span class=\"mtk1\">[</span><span class=\"mtk12\">Event객체</span><span class=\"mtk1\"> </span><span class=\"mtk12\">혹은</span><span class=\"mtk1\"> </span><span class=\"mtk4\">this</span><span class=\"mtk1\">])</span></span></span></code></pre>\n<p>공식 문서에서 이렇게 사용하라고 되어 있으나 e, ...params와 같이 사용할 수 없는 이유에 대해서는 아직 의문이다.</p>\n<p>이부분은 추가적으로 구글링하여 업데이트할 계획이다.</p>\n<p>출처 : <a href=\"https://ko.reactjs.org/docs/handling-events.html\">https://ko.reactjs.org/docs/handling-events.html</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/nestjs/a/","relativePath":"posts/nestjs/a.md","relativeDir":"posts/nestjs","base":"a.md","name":"a","frontmatter":{"title":"NestJS TypeORM Settup with Confige Module","excerpt":"NestJS의 config 파일을 코드와 분리하기 위해 몸부림친 기록","date":"2021-10-13 15:00","thumb_img_path":"images/nestjsLogo.png","thumb_img_alt":"Hikers on the trail","content_img_path":"images/nestjsLogo.png","content_img_alt":"Hikers on the trail","seo":{"title":"NestJS TypeORM Settup with Confige Module","description":"NestJS의 config 파일을 코드와 분리하기 위해 몸부림친 기록","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"Basic Rules For Walking In The Mountains","keyName":"property"},{"name":"og:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes.","keyName":"property"},{"name":"og:image","value":"images/jsLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Basic Rules For Walking In The Mountains"},{"name":"twitter:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes."},{"name":"twitter:image","value":"images/jsLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>Nest.JS TypeORM with Config Module</h1>\n<p>출처 :\n<a href=\"https://www.youtube.com/watch?v=dZd9tZe5w3M\">https://www.youtube.com/watch?v=dZd9tZe5w3M</a><br>\n<a href=\"https://gaemi606.tistory.com/entry/NestJS-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%97%B0%EA%B2%B0-%EC%84%A4%EC%A0%95-%EC%A0%95%EB%B3%B4%EB%A5%BC-%EC%9E%85%EB%A0%A5%ED%95%98%EB%8A%94-%EB%8B%A4%EC%96%91%ED%95%9C-%EB%B0%A9%EB%B2%95-database-connection\">비교하기 좋은 사이트</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/nestjs/nestjs-authentication/","relativePath":"posts/nestjs/nestjs-authentication.md","relativeDir":"posts/nestjs","base":"nestjs-authentication.md","name":"nestjs-authentication","frontmatter":{"title":"NestJS Authentication","excerpt":"Nest.js의 인증처리를 구현할 때에 사용되는 passport 모듈의 정확한 동작방식을 정리","date":"2021-12-22 23:00","thumb_img_path":"images/nestjsLogo.png","content_img_path":"images/nestjsLogo.png","seo":{"title":"NestJS Serialization","description":"Nest.js의 인증처리를 구현할 때에 사용되는 passport 모듈의 정확한 동작방식을 정리"},"template":"post"},"html":"<h1>Nest.js에서 passport 모듈 동작방식</h1>\n<p>Nest.JS 프레임워크를 사용하며 인증을 구현하는 과정에서 인증을 디버깅하는 과정에서 어려움을 겪어 Passport 모듈 동작구조를 정리한 결과물입니다.</p>\n<h2>무엇이 문제인가?</h2>\n<p>우선 Passport와 Strategy를 사용해 인증을 구현할 경우 사용자 값을 제대로 인증하였는지,<br>\n인증했다면 결과값이 어떻게 나오는지 정확하게 파악하기가 어려운 문제가 있었다.\n너무나도 모듈이 추상화되어 있어서 인지 Passport Strategy를 extend하여 validate에 작성한 코드의 정상 동작여부 파악이 너무 어려웠다.</p>\n<h2>제작자의 말에 따르면...</h2>\n<p>Nest.JS Contributor인 \"Jay McDoniel\"의 말에 따르면 사용자가 @nestjs/passport의 AuthGuard를<br>\n커스터마이징하여 사용할 경우,\n해당 Guard는 \"AuthGuard()#canActivate()\" 메소드를 실행하고 PassportStrategy를 호출한다고 한다.\n그후 PassportStrategy#validate()가 실행되며 Request 객체에 검증된 값을 포함하게 된다.</p>\n<h2>인증 모듈 구성전략</h2>\n<p>이번 분석을 통해 Guard#canActivate()에서는 예외를 처리하고, Strategy#validate()에서는 사용자 인증만을 처리해야겠다고 생각했습니다.\n결과적으로 아래와 같은 인증 모듈을 구성하였습니다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// 인증 Guard 데코레이터</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk12\">async</span><span class=\"mtk1\"> </span><span class=\"mtk11\">canActivate</span><span class=\"mtk1\">(</span><span class=\"mtk12\">context</span><span class=\"mtk1\">: </span><span class=\"mtk12\">ExecutionContext</span><span class=\"mtk1\">): </span><span class=\"mtk10\">Promise</span><span class=\"mtk1\">&lt;</span><span class=\"mtk12\">boolean</span><span class=\"mtk1\">&gt; {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    try {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      const </span><span class=\"mtk12\">request</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">context</span><span class=\"mtk1\">.</span><span class=\"mtk11\">switchToHttp</span><span class=\"mtk1\">().</span><span class=\"mtk11\">getRequest</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      const </span><span class=\"mtk12\">isActivate</span><span class=\"mtk1\"> = (</span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk4\">super</span><span class=\"mtk1\">.</span><span class=\"mtk11\">canActivate</span><span class=\"mtk1\">(</span><span class=\"mtk12\">context</span><span class=\"mtk1\">)) </span><span class=\"mtk15\">as</span><span class=\"mtk1\"> </span><span class=\"mtk10\">boolean</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      const { </span><span class=\"mtk12\">user</span><span class=\"mtk1\"> } = </span><span class=\"mtk12\">request</span><span class=\"mtk1\">.</span><span class=\"mtk12\">user</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (!</span><span class=\"mtk12\">user</span><span class=\"mtk1\">) </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">false</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">isActivate</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    } </span><span class=\"mtk15\">catch</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">error</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">logger</span><span class=\"mtk1\">.</span><span class=\"mtk11\">error</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`JWT Auth Guard - Activate failed`</span><span class=\"mtk1\">, </span><span class=\"mtk12\">error</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\">// JWT 토큰 인증에 실패할 경우 401 ERROR를 반환</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\">// canAcivate가 실패할 경우 error 객체에 해당 사항이 저장됨</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">error</span><span class=\"mtk1\">.</span><span class=\"mtk12\">status</span><span class=\"mtk1\"> === </span><span class=\"mtk7\">401</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"17\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">UnauthorizedException</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"18\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk12\">ResponseEntity</span><span class=\"mtk1\">.</span><span class=\"mtk11\">ERROR_WITH</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;인증에 실패하였습니다.&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">ResponseStatus</span><span class=\"mtk1\">.</span><span class=\"mtk12\">UNAUTHORIZED</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"19\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"20\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"21\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"22\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\">// 이외의 모든 예외상황의 경우 500 ERROR를 반환</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"23\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk15\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">BadRequestException</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"24\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">ResponseEntity</span><span class=\"mtk1\">.</span><span class=\"mtk11\">ERROR_WITH</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;서버 문제가 발생하였습니다.&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">ResponseStatus</span><span class=\"mtk1\">.</span><span class=\"mtk12\">SERVER_ERROR</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"25\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"26\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"27\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span></code></pre>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// 인증 Strategy</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk12\">async</span><span class=\"mtk1\"> </span><span class=\"mtk11\">validate</span><span class=\"mtk1\">(</span><span class=\"mtk12\">payload</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">id</span><span class=\"mtk1\">, </span><span class=\"mtk12\">role</span><span class=\"mtk1\"> } = </span><span class=\"mtk12\">payload</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">user</span><span class=\"mtk1\">: </span><span class=\"mtk10\">User</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">userService</span><span class=\"mtk1\">.</span><span class=\"mtk11\">findById</span><span class=\"mtk1\">(</span><span class=\"mtk12\">id</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk10\">Object</span><span class=\"mtk1\">.</span><span class=\"mtk11\">keys</span><span class=\"mtk1\">(</span><span class=\"mtk12\">user</span><span class=\"mtk1\">).</span><span class=\"mtk12\">length</span><span class=\"mtk1\"> &lt;= </span><span class=\"mtk7\">0</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">UnauthorizedException</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;JWT Strategy - Auth Validation fail&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">role</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">admin</span><span class=\"mtk1\">: </span><span class=\"mtk10\">Admin</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">adminService</span><span class=\"mtk1\">.</span><span class=\"mtk11\">findOneByUserId</span><span class=\"mtk1\">(</span><span class=\"mtk12\">id</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">user</span><span class=\"mtk1\">, </span><span class=\"mtk12\">admin</span><span class=\"mtk1\"> };</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">user</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>출처 :</p>\n<ol>\n<li>설명글 : <a href=\"https://stackoverflow.com/questions/65557077/passportjs-nestjs-canactivate-method-of-authguardjwt\">https://stackoverflow.com/questions/65557077/passportjs-nestjs-canactivate-method-of-authguardjwt</a></li>\n</ol>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk15 { color: #C586C0; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk7 { color: #B5CEA8; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/nestjs/nestjs-serialization/","relativePath":"posts/nestjs/nestjs-serialization.md","relativeDir":"posts/nestjs","base":"nestjs-serialization.md","name":"nestjs-serialization","frontmatter":{"title":"NestJS Serialization","excerpt":"보다 나은 코드관리를 위해 NestJS의 Request LifeCycle을 공부하는 과정에서 알게된 사실을 정리","date":"2021-12-15 19:00","thumb_img_path":"images/nestjsLogo.png","content_img_path":"images/nestjsLogo.png","seo":{"title":"NestJS Serialization","description":"보다 나은 코드관리를 위해 NestJS의 Request LifeCycle을 공부하는 과정에서 알게된 사실을 정리"},"template":"post"},"html":"<p>Nest.js를 활용한 Bakc-End API를 개발하는 과정에서 반환값을 전달 시 어떻게 해야하는지에 대해 공부하다가 알게된 사실을 정리하였습니다.</p>\n<h1>직렬화(Serialization)란?</h1>\n<p>무언가를 옯기는 과정에서 프로그램이 처리하기 좋은 방향으로 변환하는 것을 의미한다. (역직렬화는 이의 반대)\n나의 경험을 예시로 Client가 보내는 Request 객체를 Server가 처리하기 좋은 형태의 DTO로 변환하는 상황을 들 수 있다.</p>\n<p>직 렬 화 : Client(json) -> (직렬화) -> Server(Object)<br>\n역직렬화 : Server(Object) -> (역직렬화) -> Client(json)\n<img src=\"../../../images/serialization-flow.png\" alt=\"serialization-flow\"></p>\n<h1>왜 이걸 찾아보게 되었는가?</h1>\n<p>Nest.js의 class-validator를 사용한 직렬화 방법은 알고 있었다.\nController에서 <del></del><del></del><del></del><del></del>을 통해 Request Body의 데이터를 검증하고 파싱하는 방법으로 요청을 처리하고 있었다.\n위 요청을 처리하고 반환하는 과정에서 상태, 메세지 등을 포함한 채로 전달하는 방법에 많은 고민이 생겼다.</p>\n<p>보다 깔끔한 코드를 위해서는 Service는 단순히 객체를 반환하도록 구성하는 것이 맞고,\nContrller 단에서 Service로부터 받은 객체를 부가정보들과 함께 반환해야할 것 같다고 생각했다.<br>\n그러나, 처음 생각한 방법으로 코드를 작성하면 너무 반복적이고, 지저분한 코드가 만들어질 것이라고 생각했다.</p>\n<p>이를 해결하기 위해 검색해보니 Spring에는 Response Entity라는 객체를 통해 Service로부터 받은 데이터를 여러 메세지들과 함께 반환하는 것으로 보였다.<br>\nNest.js 자체 라이브러리 중에는 이러한 기능이 없는 것으로 보여 jojoldu님의 코드를 기반으로 구현하였다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// User.Controller.ts</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  @</span><span class=\"mtk11\">Get</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">async</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getAllUser</span><span class=\"mtk1\">(): </span><span class=\"mtk10\">Promise</span><span class=\"mtk1\">&lt;</span><span class=\"mtk12\">ResponseEntity</span><span class=\"mtk1\">&lt;</span><span class=\"mtk12\">User</span><span class=\"mtk1\">[]&gt;&gt; {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    this.logger.log(</span><span class=\"mtk8\">&#39;User GET Request&#39;</span><span class=\"mtk12\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk12\">    return ResponseEntity.OK_WITH(await this.userService.getAll());</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk12\">  }</span></span></span></code></pre>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// ResponseEntity.ts</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ResponseEntity</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt; {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  @</span><span class=\"mtk11\">Exclude</span><span class=\"mtk1\">() </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk4\">readonly</span><span class=\"mtk1\"> </span><span class=\"mtk12\">_statusCode</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  @</span><span class=\"mtk11\">Exclude</span><span class=\"mtk1\">() </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk4\">readonly</span><span class=\"mtk1\"> </span><span class=\"mtk12\">_message</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  @</span><span class=\"mtk11\">Exclude</span><span class=\"mtk1\">() </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk4\">readonly</span><span class=\"mtk1\"> </span><span class=\"mtk12\">_data</span><span class=\"mtk1\">: </span><span class=\"mtk10\">T</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk4\">constructor</span><span class=\"mtk1\">(</span><span class=\"mtk12\">status</span><span class=\"mtk1\">: </span><span class=\"mtk10\">ResponseStatus</span><span class=\"mtk1\">, </span><span class=\"mtk12\">message</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">, </span><span class=\"mtk12\">data</span><span class=\"mtk1\">: </span><span class=\"mtk10\">T</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">_statusCode</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">ResponseStatus</span><span class=\"mtk1\">[</span><span class=\"mtk12\">status</span><span class=\"mtk1\">];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">_message</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">message</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">_data</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">data</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">static</span><span class=\"mtk1\"> </span><span class=\"mtk11\">OK</span><span class=\"mtk1\">(): </span><span class=\"mtk10\">ResponseEntity</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">string</span><span class=\"mtk1\">&gt; {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ResponseEntity</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">string</span><span class=\"mtk1\">&gt;(</span><span class=\"mtk12\">ResponseStatus</span><span class=\"mtk1\">.</span><span class=\"mtk12\">OK</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&#39;&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&#39;&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"17\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">static</span><span class=\"mtk1\"> </span><span class=\"mtk11\">OK_WITH</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt;(</span><span class=\"mtk12\">data</span><span class=\"mtk1\">: </span><span class=\"mtk10\">T</span><span class=\"mtk1\">): </span><span class=\"mtk10\">ResponseEntity</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt; {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"18\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ResponseEntity</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">T</span><span class=\"mtk1\">&gt;(</span><span class=\"mtk12\">ResponseStatus</span><span class=\"mtk1\">.</span><span class=\"mtk12\">OK</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&#39;&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">data</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"19\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"20\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"21\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  @</span><span class=\"mtk11\">Expose</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"22\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">get</span><span class=\"mtk1\"> </span><span class=\"mtk11\">statusCode</span><span class=\"mtk1\">(): </span><span class=\"mtk10\">string</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"23\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">_statusCode</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"24\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"25\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"26\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  @</span><span class=\"mtk11\">Expose</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"27\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">get</span><span class=\"mtk1\"> </span><span class=\"mtk11\">message</span><span class=\"mtk1\">(): </span><span class=\"mtk10\">string</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"28\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">_message</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"29\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"30\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"31\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  @</span><span class=\"mtk11\">Expose</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"32\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">get</span><span class=\"mtk1\"> </span><span class=\"mtk11\">data</span><span class=\"mtk1\">(): </span><span class=\"mtk10\">T</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"33\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">_data</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"34\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"35\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>Response Entity 구현을 통해 반복적이고 재사용이 불가능한 코드의 사용을 방지할 수 있었다.</p>\n<p>출처 :</p>\n<ol>\n<li>이미지출처 : <a href=\"https://medium.com/@lunay0ung/basics-%EC%A7%81%EB%A0%AC%ED%99%94-serialization-%EB%9E%80-feat-java-2f3eb11e9a8\">https://medium.com/@lunay0ung/basics-%EC%A7%81%EB%A0%AC%ED%99%94-serialization-%EB%9E%80-feat-java-2f3eb11e9a8</a></li>\n<li>Nestjs 직렬화 내용출처 : <a href=\"https://jojoldu.tistory.com/610\">https://jojoldu.tistory.com/610</a></li>\n</ol>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk15 { color: #C586C0; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/nestjs/nestjs-testing-module-usage/","relativePath":"posts/nestjs/nestjs-testing-module-usage.md","relativeDir":"posts/nestjs","base":"nestjs-testing-module-usage.md","name":"nestjs-testing-module-usage","frontmatter":{"title":"NestJS Testing Module","excerpt":"NestJS의 유닛테스트를 작성하기 위한 jest & testing 모듈 사용법 정리","date":"2021-12-05 23:00","thumb_img_path":"images/nestjsLogo.png","thumb_img_alt":"Hikers on the trail","content_img_path":"images/nestjsLogo.png","content_img_alt":"Hikers on the trail","seo":{"title":"NestJS Testing Module","description":"NestJS의 유닛테스트를 작성하기 위한 jest & testing 모듈 사용법 정리","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"Basic Rules For Walking In The Mountains","keyName":"property"},{"name":"og:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes.","keyName":"property"},{"name":"og:image","value":"images/jsLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Basic Rules For Walking In The Mountains"},{"name":"twitter:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes."},{"name":"twitter:image","value":"images/jsLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>Nest.JS TypeORM with Config Module</h1>\n<p>출처 :\n<a href=\"https://www.youtube.com/watch?v=dZd9tZe5w3M\">https://www.youtube.com/watch?v=dZd9tZe5w3M</a><br>\n<a href=\"https://gaemi606.tistory.com/entry/NestJS-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%97%B0%EA%B2%B0-%EC%84%A4%EC%A0%95-%EC%A0%95%EB%B3%B4%EB%A5%BC-%EC%9E%85%EB%A0%A5%ED%95%98%EB%8A%94-%EB%8B%A4%EC%96%91%ED%95%9C-%EB%B0%A9%EB%B2%95-database-connection\">비교하기 좋은 사이트</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/nestjs/nestjs-techniques-logging/","relativePath":"posts/nestjs/nestjs-techniques-logging.md","relativeDir":"posts/nestjs","base":"nestjs-techniques-logging.md","name":"nestjs-techniques-logging","frontmatter":{"title":"NestJS Techniques Logging","excerpt":"NestJS Techniques Logging 문서중 궁금한 사항을 직접 구현해보면서 확인해보았습니다.","date":"2022-01-10 19:00","thumb_img_path":"images/nestjsLogo.png","content_img_path":"images/nestjsLogo.png","seo":{"title":"NestJS Techniques Logging","description":"NestJS Techniques Logging 문서중 궁금한 사항을 직접 구현해보면서 확인해보았습니다."},"template":"post"},"html":"<h1>NestJS Techniques Logging</h1>\n<h4>(참고사항 - 개인적으로 궁금해서 공식문서 내용 확인해봄)</h4>\n<p>NestJS의 인스턴스 생성 옵션중 logger에 여러가지 옵션을 주입할 수 있다.\n<mark>false</mark>, <mark>console</mark>, <mark>LoggerService(Custom Logger)</mark>  </p>\n<p>아래의 예제 코드와 사진을 통해 확인할 수 있듯이 개발자의 입맛대로 로거를 선택/확장하여 사용할 수 있도록 만들어져 있는 것을 확인하였다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// main.ts</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">NestFactory</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;@nestjs/core&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">import</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">AppModule</span><span class=\"mtk1\"> } </span><span class=\"mtk15\">from</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;./app.module&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">async</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">bootstrap</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">app</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk12\">NestFactory</span><span class=\"mtk1\">.</span><span class=\"mtk11\">create</span><span class=\"mtk1\">(</span><span class=\"mtk12\">AppModule</span><span class=\"mtk1\">, {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">logger:</span><span class=\"mtk1\"> </span><span class=\"mtk10\">console</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk12\">app</span><span class=\"mtk1\">.</span><span class=\"mtk11\">listen</span><span class=\"mtk1\">(</span><span class=\"mtk7\">3000</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">bootstrap</span><span class=\"mtk1\">();</span></span></span></code></pre>\n<p><img src=\"../../../../images/nestjs-logger-default.png\" alt=\"NestJS 기본 로거\">  </p>\n<p><img src=\"../../../../images/nestjs-logger-custom-console.png\" alt=\"NestJS 로거 전역객체 console 커스텀\">\n<em>Nest기본 로거가 console.log 형태로 출력되는 것을 확인할 수 있다.</em></p>\n<p>참고자료 :<br>\n<em>-</em> <a href=\"https://docs.nestjs.com/techniques/logger\">NestJS Logger Document</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk15 { color: #C586C0; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk7 { color: #B5CEA8; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/nestjs/nestjs-logger/","relativePath":"posts/nestjs/nestjs-logger.md","relativeDir":"posts/nestjs","base":"nestjs-logger.md","name":"nestjs-logger","frontmatter":{"title":"NestJS Logging","excerpt":"Nest.js에서 Winston을 활용한 Logging 서비스 구현하기","date":"2022-01-10 19:00","thumb_img_path":"images/nestjsLogo.png","content_img_path":"images/nestjsLogo.png","seo":{"title":"NestJS Logging","description":"Nest.js에서 Winston을 활용한 Logging 서비스 구현하기"},"template":"post"},"html":"<h1>NestJS 로깅?</h1>\n<p>로깅을 수행하는 과정에서 아쉽게 해결한 부분을 보완하고자 합니다.<br>\nLocal에서 개발할 때와는 달리 Production을 운영/유지하는 과정에서는 문제를 확인하기 위한 로깅이 필수적인 것 같습니다. 만약 서버의 장애나 이슈가 생겼을 경우 이를 해결하기 위해 참고할 지표가 필요하기 때문입니다.</p>\n<p>기존 ExpressJS 환경에서 개발할 때에는 <mark>미들웨어</mark>을 활용하여 사용자 요청에 대한 정상처리, 에러발생 등을 확인하였습니다. 하지만 이번 기회에 제가 사용하고 있던 로깅방식의 구명이 많이 뚫려있음을 깨닫고 NestJS에서는 어떻게 로깅을 처리하면 좋을지 정리해 보고자 합니다.</p>\n<h1>NestJS에서의 로깅전략!</h1>\n<p>winston으로 로그 레벨, 타임라인을 관리하고 미들웨어를 사용하여 요청/응답 정보들을 로깅을 할 수 있게 해서 Express 로그를 관리하는 것이 이번 로깅의 전략입니다.</p>\n<h1>NestJS Logger 미들웨어</h1>\n<p>우선 NestJS의 미들웨어는 express의 미들웨어와 동일한 기능을 가집니다.<br>\n라우트 핸들링 이전에 호출되며 요청(이하 Request) 및 응답(이하 Response)을 개발자 입맛에 맞게 변경합니다. 이후 <mark>next( )</mark>를 호출해 다음 미들웨어에게 전달하거나 Request-Response를 종료합니다. </p>\n<!-- next()를 통해 정확히 어떤 값을 전달하는지 추가 필요 -->\n<!-- 만약 next()를 통해 전달하지 않을 경우 Request를 계속 잡고 있다가 Timeout처리되는 것으로 알고 있으나 확인 필요 -->\n<p>NestJS의 미들웨어는 아래의 코드와 같이 NestMiddleware를 implements하여 반드시 필수 메서드 등을 구현하도록 강제합니다.</p>\n<p>추가적으로 <mark>main.ts</mark>에서 <mark>INestApplication</mark> 인스턴스에서 제공하는 <mark>use</mark> 모든 경로를 한번에 바인딩할 수 있지만 그럴 경우 DI의 혜택을 받지 못합니다. 따라서 NestApplication 인스턴스에 <mark>app.use()</mark>를 통해 바인딩하는 행위는 지양해야 할 것 같습니다.</p>\n<p>더불어 클래스형이 아닌 <a href=\"https://docs.nestjs.kr/middleware#functional-middleware\">함수형 미들웨어</a>, <a href=\"https://docs.nestjs.kr/middleware#excluding-routes\">특정 라우터 제외하기</a>, <a href=\"https://docs.nestjs.kr/middleware#route-wildcards\">패턴 기반으로 라우트 지정하기</a>, <a href=\"https://docs.nestjs.kr/middleware#multiple-middleware\">여러 미들웨어 바인딩하기</a> 등의 기능을 선택적으로 활용할 수 있습니다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// logger.middleware.ts</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk11\">Injectable</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">LoggerMiddleware</span><span class=\"mtk1\"> </span><span class=\"mtk4\">implements</span><span class=\"mtk1\"> </span><span class=\"mtk10\">NestMiddleware</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk12\">logger</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Logger</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;HTTP&#39;</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// 수정요망</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">use</span><span class=\"mtk1\">(</span><span class=\"mtk12\">request</span><span class=\"mtk1\">: </span><span class=\"mtk10\">Request</span><span class=\"mtk1\">, </span><span class=\"mtk12\">response</span><span class=\"mtk1\">: </span><span class=\"mtk10\">Response</span><span class=\"mtk1\">, </span><span class=\"mtk12\">next</span><span class=\"mtk1\">: </span><span class=\"mtk10\">NextFunction</span><span class=\"mtk1\">): </span><span class=\"mtk10\">void</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">ip</span><span class=\"mtk1\">, </span><span class=\"mtk12\">method</span><span class=\"mtk1\">, </span><span class=\"mtk12\">originalUrl</span><span class=\"mtk1\"> } = </span><span class=\"mtk12\">request</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">userAgent</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">request</span><span class=\"mtk1\">.</span><span class=\"mtk11\">get</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;user-agent&#39;</span><span class=\"mtk1\">) || </span><span class=\"mtk8\">&#39;&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// Request가 들어올 때 실행됨</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">logger</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">`Request Detected`</span><span class=\"mtk1\">); </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// Response가 종료될 때 실행됨</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">response</span><span class=\"mtk1\">.</span><span class=\"mtk11\">on</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;finish&#39;</span><span class=\"mtk1\">, () </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> { </span><span class=\"mtk12\">statusCode</span><span class=\"mtk1\"> } = </span><span class=\"mtk12\">response</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">contentLength</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">response</span><span class=\"mtk1\">.</span><span class=\"mtk11\">get</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;content-length&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">this</span><span class=\"mtk1\">.</span><span class=\"mtk12\">logger</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk8\">`</span><span class=\"mtk4\">${</span><span class=\"mtk12\">method</span><span class=\"mtk4\">}</span><span class=\"mtk8\"> </span><span class=\"mtk4\">${</span><span class=\"mtk12\">originalUrl</span><span class=\"mtk4\">}</span><span class=\"mtk8\"> </span><span class=\"mtk4\">${</span><span class=\"mtk12\">statusCode</span><span class=\"mtk4\">}</span><span class=\"mtk8\"> </span><span class=\"mtk4\">${</span><span class=\"mtk12\">contentLength</span><span class=\"mtk4\">}</span><span class=\"mtk8\"> - </span><span class=\"mtk4\">${</span><span class=\"mtk12\">userAgent</span><span class=\"mtk4\">}</span><span class=\"mtk8\"> </span><span class=\"mtk4\">${</span><span class=\"mtk12\">ip</span><span class=\"mtk4\">}</span><span class=\"mtk8\">`</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">next</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// app.module.ts</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk11\">Module</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">imports:</span><span class=\"mtk1\"> [],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">controllers:</span><span class=\"mtk1\"> [</span><span class=\"mtk12\">AppController</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">providers:</span><span class=\"mtk1\"> [</span><span class=\"mtk12\">AppService</span><span class=\"mtk1\">, </span><span class=\"mtk12\">Logger</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">})</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk4\">class</span><span class=\"mtk1\"> </span><span class=\"mtk10\">AppModule</span><span class=\"mtk1\"> </span><span class=\"mtk4\">implements</span><span class=\"mtk1\"> </span><span class=\"mtk10\">NestModule</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">configure</span><span class=\"mtk1\">(</span><span class=\"mtk12\">consumer</span><span class=\"mtk1\">: </span><span class=\"mtk10\">MiddlewareConsumer</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">consumer</span><span class=\"mtk1\">.</span><span class=\"mtk11\">apply</span><span class=\"mtk1\">(</span><span class=\"mtk12\">LoggerMiddleware</span><span class=\"mtk1\">).</span><span class=\"mtk11\">forRoutes</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;*&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p><img src=\"../../../images/nest-middleware-log-example.png\" alt=\"asdf\">\n<em>LoggerMiddleware에서 로그가 정상적으로 찍히는 것을 확인할 수 있다.</em></p>\n<h1>NestJS 로깅 라이브러리</h1>\n<p>NestJS에는 자체 로깅 라이브러리인 <mark>Logger</mark>가 있지만, 보다 효과적이고 세세한 로그를 얻기 위해 해당 라이브러리를 확장/커스텀하여 사용해보겠습니다.</p>\n<h2>winston &#x26; nest-winston</h2>\n<p>winston : 로그 파일 및 로그 레벨 관리 모듈\nwinston-datily-rotate-file : 매일 날짜 별로 로그 파일 생성 및 관리 모듈 ( 시간이 지나면 자동으로 삭제 &#x26; 압축 관리 )</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// main.ts</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">async</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">bootstrap</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">app</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk12\">NestFactory</span><span class=\"mtk1\">.</span><span class=\"mtk11\">create</span><span class=\"mtk1\">(</span><span class=\"mtk12\">AppModule</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">app</span><span class=\"mtk1\">.</span><span class=\"mtk11\">useLogger</span><span class=\"mtk1\">(</span><span class=\"mtk12\">app</span><span class=\"mtk1\">.</span><span class=\"mtk11\">get</span><span class=\"mtk1\">(</span><span class=\"mtk12\">WINSTON_MODULE_NEST_PROVIDER</span><span class=\"mtk1\">));</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">await</span><span class=\"mtk1\"> </span><span class=\"mtk12\">app</span><span class=\"mtk1\">.</span><span class=\"mtk11\">listen</span><span class=\"mtk1\">(</span><span class=\"mtk7\">3000</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk11\">bootstrap</span><span class=\"mtk1\">();</span></span></span></code></pre>\n<p><em>app.useLogger를 사용해 Winston Logger(Logger Service)를 전역으로 적용합니다.</em></p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// app.module.ts</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk11\">Module</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">imports:</span><span class=\"mtk1\"> [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">WinstonModule</span><span class=\"mtk1\">.</span><span class=\"mtk11\">forRoot</span><span class=\"mtk1\">(</span><span class=\"mtk11\">getWinstonOptions</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&#39;APP NAME&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">process</span><span class=\"mtk1\">.</span><span class=\"mtk12\">env</span><span class=\"mtk1\">.</span><span class=\"mtk12\">NODE_ENV</span><span class=\"mtk1\">)),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">controllers:</span><span class=\"mtk1\"> [</span><span class=\"mtk12\">AppController</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">providers:</span><span class=\"mtk1\"> [</span><span class=\"mtk12\">AppService</span><span class=\"mtk1\">, </span><span class=\"mtk12\">Logger</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">})</span></span></span></code></pre>\n<p><em>Module에 import하여 해당 모듈에 로거를 적용합니다.</em></p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// logger.winston.ts</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk15\">export</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getWinstonOptions</span><span class=\"mtk1\">(</span><span class=\"mtk12\">moduleName</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">, </span><span class=\"mtk12\">nodeEnv</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">isLocalEnv</span><span class=\"mtk1\"> = [</span><span class=\"mtk8\">&#39;local&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk8\">&#39;test&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">undefined</span><span class=\"mtk1\">].</span><span class=\"mtk11\">includes</span><span class=\"mtk1\">(</span><span class=\"mtk12\">nodeEnv</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk12\">transportsOption</span><span class=\"mtk1\">: ( </span><span class=\"mtk10\">transports</span><span class=\"mtk1\">.</span><span class=\"mtk10\">ConsoleTransportInstance</span><span class=\"mtk1\"> | </span><span class=\"mtk10\">transports</span><span class=\"mtk1\">.</span><span class=\"mtk10\">FileTransportInstance</span><span class=\"mtk1\"> )[] = </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">transports</span><span class=\"mtk1\">.</span><span class=\"mtk10\">Console</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">level:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">process</span><span class=\"mtk1\">.</span><span class=\"mtk12\">env</span><span class=\"mtk1\">.</span><span class=\"mtk12\">NODE_ENV</span><span class=\"mtk1\"> === </span><span class=\"mtk8\">&#39;production&#39;</span><span class=\"mtk1\"> ? </span><span class=\"mtk8\">&#39;info&#39;</span><span class=\"mtk1\"> : </span><span class=\"mtk8\">&#39;silly&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">format:</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getLocalFormat</span><span class=\"mtk1\">(</span><span class=\"mtk12\">moduleName</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (!</span><span class=\"mtk12\">isLocalEnv</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">transportsOption</span><span class=\"mtk1\">.</span><span class=\"mtk11\">push</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">transports</span><span class=\"mtk1\">.</span><span class=\"mtk10\">File</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">dirname:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;log/error/&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">filename:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;error.log&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">level:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;error&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">format:</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getProductionFormat</span><span class=\"mtk1\">(</span><span class=\"mtk12\">moduleName</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">transports</span><span class=\"mtk1\">.</span><span class=\"mtk10\">File</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">dirname:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;log/info/&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">filename:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;info.log&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">level:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;info&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk12\">format:</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getProductionFormat</span><span class=\"mtk1\">(</span><span class=\"mtk12\">moduleName</span><span class=\"mtk1\">),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      }),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">transports:</span><span class=\"mtk1\"> </span><span class=\"mtk12\">transportsOption</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  };</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getLocalFormat</span><span class=\"mtk1\">(</span><span class=\"mtk12\">moduleName</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">format</span><span class=\"mtk1\">.</span><span class=\"mtk11\">combine</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">format</span><span class=\"mtk1\">.</span><span class=\"mtk11\">timestamp</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">format:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;YYYY-MM-DD HH:mm:ss&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">nestWinstonModuleUtilities</span><span class=\"mtk1\">.</span><span class=\"mtk12\">format</span><span class=\"mtk1\">.</span><span class=\"mtk11\">nestLike</span><span class=\"mtk1\">(</span><span class=\"mtk12\">moduleName</span><span class=\"mtk1\">, {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">prettyPrint:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">true</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getProductionFormat</span><span class=\"mtk1\">(</span><span class=\"mtk12\">moduleName</span><span class=\"mtk1\">: </span><span class=\"mtk10\">string</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">format</span><span class=\"mtk1\">.</span><span class=\"mtk11\">combine</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">format</span><span class=\"mtk1\">.</span><span class=\"mtk11\">timestamp</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">format:</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;YYYY-MM-DD HH:mm:ss&#39;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">nestWinstonModuleUtilities</span><span class=\"mtk1\">.</span><span class=\"mtk12\">format</span><span class=\"mtk1\">.</span><span class=\"mtk11\">nestLike</span><span class=\"mtk1\">(</span><span class=\"mtk12\">moduleName</span><span class=\"mtk1\">, {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">prettyPrint:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">true</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">format</span><span class=\"mtk1\">.</span><span class=\"mtk11\">json</span><span class=\"mtk1\">(),</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p><em>개발환경일 경우 로그를 콘솔로만 찍고, 배포환경일 경우 파일로 남기도록 합니다.</em></p>\n<h4>해당 포스트의 코드는 아래에서 확인 가능합니다.</h4>\n<p><em>-</em> <a href=\"https://github.com/sysnar/nestjs-logger-workplace\">Github Source Code</a>  </p>\n<p>참고자료 :<br>\n<em>-</em> <a href=\"https://docs.nestjs.kr/middleware\">NestJS Middleware Document</a><br>\n<em>-</em> <a href=\"https://javascript.plainenglish.io/how-to-use-nestjs-logger-2a9cb107bce9\">NestJS Logger Middleware</a><br>\n<em>-</em> <a href=\"https://velog.io/@sgh002400/NestJS#implements-injectabledi%EB%A5%BC-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0\">Implements 설명</a><br>\n<em>-</em> <a href=\"http://tostring.it/2014/06/23/advanced-logging-with-nodejs/\">Morgan In Express</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk15 { color: #C586C0; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk7 { color: #B5CEA8; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/javascript/closure/","relativePath":"posts/javascript/closure.md","relativeDir":"posts/javascript","base":"closure.md","name":"closure","frontmatter":{"title":"Javascript Closure","excerpt":"Javascript Closure 개념을 다시한번 정리하였습니다.","date":"2021-10-06 24:00","thumb_img_path":"images/jsLogo.png","thumb_img_alt":"Hikers on the trail","content_img_path":"images/jsLogo.png","content_img_alt":"Hikers on the trail","seo":{"title":"Javascript Gatter와 Setter","description":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes.","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"Basic Rules For Walking In The Mountains","keyName":"property"},{"name":"og:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes.","keyName":"property"},{"name":"og:image","value":"images/jsLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Basic Rules For Walking In The Mountains"},{"name":"twitter:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes."},{"name":"twitter:image","value":"images/jsLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>Javascript 클로저(Closure)</h1>\n<ol>\n<li><a href=\"https://sysnar.github.io/posts/javascript/scope/\">실행 컨텍스트 (Execution Context)</a></li>\n<li><a href=\"https://sysnar.github.io/posts/javascript/closure/\">클로저</a></li>\n<li><a href=\"https://sysnar.github.io/posts/javascript/lexical%20scoping/\">lexical scoping</a></li>\n</ol>\n<h2>클로저(Closure)의 정의</h2>\n<p>클로저란 특정한 함수를 의미하며, 스코프의 개념을 이용하여 변수에 접근할 수 있는 범위(scope)를 제한하는 개념입니다.</p>\n<p>따라서 클로저 함수의 특징을 다음과 같이 설명할 수 있습니다.</p>\n<ul>\n<li>외부함수에서 내부함수 스코프에 접근할 수 없다.</li>\n<li>내부 함수에는 외부 함수 스코프에 접근할 수 있다.</li>\n<li>외부 함수의 실행이 종료된 후에도 클로저 함수는 외부 함수 스코프에 접근할 수 있다.</li>\n</ul>\n<p>이 내용과 관련된 좋은 코드가 <code class=\"language-text\">제로초(조현영)</code>님의 블로그에 있어 첨부합니다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk11\">makeClosure</span><span class=\"mtk1\"> = </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> () {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">name</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;zero&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> () {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">name</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  };</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">closure</span><span class=\"mtk1\"> = </span><span class=\"mtk11\">makeClosure</span><span class=\"mtk1\">(); </span><span class=\"mtk3\">// function () { console.log(name); }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">closure</span><span class=\"mtk1\">(); </span><span class=\"mtk3\">// &#39;zero&#39;;</span></span></span></code></pre>\n<p>위의 코드처럼 전역 스코프에서는 name 변수에 접근할 수 없지만,<br>\nmakeClosure 내부 함수에서는 접근하여 값을 출력하는 것을 확인할 수 있습니다.</p>\n<h2>클로저(Closure)를 쓰는 이유</h2>\n<ol>\n<li>데이터 보존 : 함수의 실행이 끝나더라도 데이터를 스코프 안에 간직한 채로 계속 사용할 수 있습니다.</li>\n<li>캡슐화 : 클로저 함수에 값이 종속되어 외부에서 접근할 수 없기 때문에 안전하게 데이터의 불변성을 지킬 수 있습니다.</li>\n</ol>\n<h2>결과적으로 클로저(Closure)란</h2>\n<p>함수를 리턴하는 함수가 아니라 내부함수(function)가 상위 스코프(makeClosure)의 값을 참조하고 있고 외부에서 실행하였을 때<br>\n상위 스코프의 값(name)을 수정할 수 없는 형태를 의미합니다.</p>\n<p>출처 :<br>\n<a href=\"https://www.zerocho.com/category/JavaScript/post/5741d96d094da4986bc950a0\">https://www.zerocho.com/category/JavaScript/post/5741d96d094da4986bc950a0</a><br>\n<a href=\"https://hanamon.kr/javascript-%ED%81%B4%EB%A1%9C%EC%A0%80/\">https://hanamon.kr/javascript-%ED%81%B4%EB%A1%9C%EC%A0%80/</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk15 { color: #C586C0; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/javascript/ logical-operator/","relativePath":"posts/javascript/ logical-operator.md","relativeDir":"posts/javascript","base":" logical-operator.md","name":" logical-operator","frontmatter":{"title":"Nodejs Logical Operator","excerpt":"Javascript에서의 연산자 값을 조금더 명확히 알아본 내용을 정리했습니다.","date":"2021-11-11 23:00","thumb_img_path":"images/jsLogo.png","thumb_img_alt":"Hikers on the trail","content_img_path":"images/jsLogo.png","content_img_alt":"Hikers on the trail","seo":{"title":"NestJS TypeORM Settup with Confige Module","description":"NestJS의 config 파일을 코드와 분리하기 위해 몸부림친 기록","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"Basic Rules For Walking In The Mountains","keyName":"property"},{"name":"og:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes.","keyName":"property"},{"name":"og:image","value":"images/jsLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Basic Rules For Walking In The Mountains"},{"name":"twitter:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes."},{"name":"twitter:image","value":"images/jsLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>논리연산자 (Logical Operator)</h1>\n<p>or(||), and(&#x26;&#x26;)와 같은 논리연산자는 프로그래밍을 처음 배울때 변수 할당 다음으로 배웠던 기억이 있다.<br>\n그럼 이제와서야 연산자를 \"굳이\" 다시 정리하는 이유는 무엇일까?</p>\n<p>그이유는 <mark>널 병합 연산자(Nullish coalescing operator)</mark>를 알게 됨에 따라 한번쯤은 명확하게 정리하고 가야겠다는 생각이 들어서이다.</p>\n<h2>1. OR (||)</h2>\n<p>주변에도 물어봤었지만 OR 연산자의 결과값을 직접적으로 찍어본 분들이 많이 없는 것 같았다.<br>\n나도 이번에 널 병합 연산자를 알게되어 찾아보던 도중 찍어보았으니 말이다.  </p>\n<p>우선 javascript 에서의 OR 연산자는 단순히 boolean 만을 리턴하지 않는다.<br>\nJavascript에서 OR 연산은 아래의 순서에 따라 Truthy한 값을 찾아서 리턴하는 연산이다.</p>\n<ol>\n<li>가장 왼쪽 피연산자부터 시작해 오른쪽으로 나아가며 피연산자를 평가합니다.</li>\n<li>각 피연산자를 불린형으로 변환합니다. 변환 후 그 값이 true이면 연산을 멈추고 해당 피연산자의 변환 전 원래 값을 반환합니다.</li>\n<li>피연산자 모두를 평가한 경우(모든 피연산자가 false로 평가되는 경우)엔 마지막 피연산자를 반환합니다.</li>\n</ol>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk7\">10</span><span class=\"mtk1\"> || </span><span class=\"mtk7\">20</span><span class=\"mtk1\">) </span><span class=\"mtk3\">// 10</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk7\">30</span><span class=\"mtk1\"> || </span><span class=\"mtk7\">20</span><span class=\"mtk1\">) </span><span class=\"mtk3\">// 30</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk4\">false</span><span class=\"mtk1\"> || </span><span class=\"mtk4\">true</span><span class=\"mtk1\">) </span><span class=\"mtk3\">// true</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk4\">true</span><span class=\"mtk1\"> || </span><span class=\"mtk4\">false</span><span class=\"mtk1\">) </span><span class=\"mtk3\">// true</span></span></span></code></pre>\n<h2>2. AND (&#x26;&#x26;)</h2>\n<p>and 연산도 OR 연산과 유사하지만 조금은 다르다.<br>\nboolean값을 리턴하는 것이 아닌 \"값\"을 리턴하고 OR와는 달리 Falsy한 값을 찾아 리턴한다.</p>\n<ol>\n<li>가장 왼쪽 피연산자부터 시작해 오른쪽으로 나아가며 피연산자를 평가합니다.</li>\n<li>각 피연산자는 불린형으로 변환됩니다. 변환 후 값이 false이면 평가를 멈추고 해당 피연산자의 변환 전 원래 값을 반환합니다.</li>\n<li>피연산자 모두가 평가되는 경우(모든 피연산자가 true로 평가되는 경우)엔 마지막 피연산자가 반환됩니다.</li>\n</ol>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk7\">10</span><span class=\"mtk1\"> &amp;&amp; </span><span class=\"mtk7\">20</span><span class=\"mtk1\">) </span><span class=\"mtk3\">// 20</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk7\">30</span><span class=\"mtk1\"> &amp;&amp; </span><span class=\"mtk7\">20</span><span class=\"mtk1\">) </span><span class=\"mtk3\">// 20</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk4\">false</span><span class=\"mtk1\"> &amp;&amp; </span><span class=\"mtk4\">true</span><span class=\"mtk1\">) </span><span class=\"mtk3\">// false</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk4\">true</span><span class=\"mtk1\"> &amp;&amp; </span><span class=\"mtk4\">false</span><span class=\"mtk1\">) </span><span class=\"mtk3\">// false</span></span></span></code></pre>\n<h2>3. Nullish Coalescing Operator (??)</h2>\n<p>null 병합 연산자(nullish coalescing operator) ??를 사용하면 짧은 문법으로 여러 피연산자 중 그 값이 ‘확정되어있는’ 변수를 찾을 수 있습니다.<br>\n언뜻보면 OR 연산과 유사해 보이지만 큰차이점을 가지고 있습니다.</p>\n<ol>\n<li><mark>||</mark> 는 첫 번째 truthy 값을 반환합니다.</li>\n<li><mark>??</mark> 는 첫 번째 정의된(defined) 값을 반환합니다.</li>\n</ol>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk12\">height</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">height</span><span class=\"mtk1\"> ?? </span><span class=\"mtk7\">100</span><span class=\"mtk1\">;</span></span></span></code></pre>\n<p>위와 같은 코드가 실행될 경우 height 값이 할당되어 있지 않았을 경우 height 에는 100이라는 값이 할당된다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">height</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">0</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">alert</span><span class=\"mtk1\">(</span><span class=\"mtk12\">height</span><span class=\"mtk1\"> || </span><span class=\"mtk7\">100</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// 100</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">alert</span><span class=\"mtk1\">(</span><span class=\"mtk12\">height</span><span class=\"mtk1\"> ?? </span><span class=\"mtk7\">100</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// 0</span></span></span></code></pre>\n<p>이러한 점에서 OR 연산과는 차이를 보이는 것이다.</p>\n<h2>마지막으로</h2>\n<p>끝으로 ?? 연산은 우선순위가 생각보다 낮으며, 대부분의 연산보다 나중에 연산되고 =, ?보다는 먼저 연산된다.\n추가적으로 ?? 연산은 안전성 문제로 인해 &#x26;&#x26;나 || 연산과는 같이 사용이 불가하니 사용에 주의해야할 것 같다.</p>\n<p>출처 :\n<a href=\"https://www.youtube.com/watch?v=dZd9tZe5w3M\">https://www.youtube.com/watch?v=dZd9tZe5w3M</a><br>\n<a href=\"https://gaemi606.tistory.com/entry/NestJS-%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4-%EC%97%B0%EA%B2%B0-%EC%84%A4%EC%A0%95-%EC%A0%95%EB%B3%B4%EB%A5%BC-%EC%9E%85%EB%A0%A5%ED%95%98%EB%8A%94-%EB%8B%A4%EC%96%91%ED%95%9C-%EB%B0%A9%EB%B2%95-database-connection\">비교하기 좋은 사이트</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk7 { color: #B5CEA8; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/jpa/jpa-fk-no-constraint/","relativePath":"posts/jpa/jpa-fk-no-constraint.md","relativeDir":"posts/jpa","base":"jpa-fk-no-constraint.md","name":"jpa-fk-no-constraint","frontmatter":{"title":"Spring JPA 연관관계 유지하며 ForeignKey 제거하기","excerpt":"","date":"2022-03-28","thumb_img_path":"images/jpa-logo.png","thumb_img_alt":"reactLogo","content_img_path":"images/jpa-logo.png","content_img_alt":"reactLogo","seo":{"title":"React 시작하기","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/jpaLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h2>JPA에서 연관관계만 남기고 FK를 제거하려면 어떻게 하지?</h2>\n<p>Nest.JS에서 사용하던 방식 : <a href=\"https://jojoldu.tistory.com/605\">https://jojoldu.tistory.com/605</a></p>\n<h2>결과</h2>\n<p>스프링에서는 foreignKey 옵션의 <code class=\"language-text\">ConstraintMode.NO_CONSTRAINT</code> 값을 적용하여 사용하면 된다.  </p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"java\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">JoinColumns</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    value = ...,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    foreignKey = @</span><span class=\"mtk10\">ForeignKey</span><span class=\"mtk1\">(value = </span><span class=\"mtk12\">ConstraintMode</span><span class=\"mtk1\">.</span><span class=\"mtk12\">NO_CONSTRAINT</span><span class=\"mtk1\">))</span></span></span></code></pre>\n<p>출처: <a href=\"https://kim-solshar.tistory.com/70\">https://kim-solshar.tistory.com/70</a> [김솔샤르의 인사이트]</p>\n<p>git pull origin main --allow-unrelated-histories</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/javascript/hoisting/","relativePath":"posts/javascript/hoisting.md","relativeDir":"posts/javascript","base":"hoisting.md","name":"hoisting","frontmatter":{"title":"Javascript Hoisting","excerpt":"Javascript Hoisting의 개념을 정리하였습니다.","date":"2021-07-13 11:23","thumb_img_path":"images/jsLogo.png","content_img_path":"images/jsLogo.png","seo":{"title":"Javascript Hoisting","description":"Javascript Hoisting의 개념을 정리하였습니다."},"template":"post"},"html":"<h1>Hoisting</h1>\n<p>언젠가 다뤄야한다고 생각한 호이스팅(Hoisting)이라는 개념에 다뤄보고자 한다.<br>\nHoisting의 사전적 의미는 아래와 사진과 같이 \"무언가를 끌어올린다\" 이다.</p>\n<p><img src=\"../../../images/hoistring_dic.png\" alt=\"Awesome image\"></p>\n<p>Javascript에서 Hoisting 은 함수, 변수(var) 등을 끌어올려 선언하기 전 상태임에도 사용할 수 있도록 하는 것이다.</p>\n<p>기존에 C언어에서 함수를 정의하고 사용하기 위해 Code #004와 같이 사용했었던 경험이 있다.</p>\n<p>자세하게 설명하자면 ECMA Script 5에서 변수 선언시 var 변수/함수를 스코프의 가장 위로 옮겨서 선언하는 것이다.</p>\n<p>즉 Global 영역에 선언된 변수(const/let제외한 var만) 또는 함수는 자바사크립트 엔진이 가장 먼저 해석하게 된다</p>\n<p>단 할당구문은 런타임과정 이루어지기 때문에 hosting이 되지 않는다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// Code #01</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">a</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// undefined</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">a</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">100</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">a</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// 100</span></span></span></code></pre>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// Code #002</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">catName</span><span class=\"mtk1\">(</span><span class=\"mtk12\">name</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;My cat&#39;s name is &quot;</span><span class=\"mtk1\"> + </span><span class=\"mtk12\">name</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">catName</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;Tigger&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">/*</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">위 코드의 결과는: &quot;My cat&#39;s name is Tigger&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">*/</span></span></span></code></pre>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// Code #003</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">catName</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;Chloe&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">catName</span><span class=\"mtk1\">(</span><span class=\"mtk12\">name</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;My cat&#39;s name is &quot;</span><span class=\"mtk1\"> + </span><span class=\"mtk12\">name</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">/*</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">위 코드의 결과는: &quot;My cat&#39;s name is Chloe&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">*/</span></span></span></code></pre>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// Code #004</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">#</span><span class=\"mtk12\">include</span><span class=\"mtk1\"> &lt;</span><span class=\"mtk12\">stdio</span><span class=\"mtk1\">.</span><span class=\"mtk12\">h</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Hoist</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk12\">int</span><span class=\"mtk1\"> </span><span class=\"mtk11\">main</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk11\">Hoist</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk7\">0</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Hoist</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">\t</span><span class=\"mtk11\">print</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;Hoist Sucess&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h2>호이스팅 문제점 예시)</h2>\n<p>전역변수로 생성된 a가 test 함수 내에서 재선언/초기화 되면서 첫 console.log(a)가 100이 아닌 undefined를 출력하는 것을 확인할 수 있다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">a</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">100</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">test</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">a</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// undefined</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">a</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">200</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">a</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// 200</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">test</span><span class=\"mtk1\">();</span></span></span></code></pre>\n<p>위와 같은 에러를 방지하기 위해 hoisting이라는 현상을 잘 컨트롤해야 하는 필요성이 생겼다.</p>\n<p>이를 위해서 javascript의 Scope 개념을 잘 이해해야 한다.</p>\n<p>더 나아가 ES6에선 이를 해결하기 위해 let, const를 사용한다.</p>\n<p>또한 'use strict'; 시 hoisting을 사용하지 못하도록 제한하기 때문에 이것 또한 좋은 방법인 것 같다.</p>\n<p>출처 :</p>\n<p><a href=\"https://developer.mozilla.org/ko/docs/Glossary/Hoisting\">https://developer.mozilla.org/ko/docs/Glossary/Hoisting</a></p>\n<p><a href=\"https://cbw1030.tistory.com/24\">https://cbw1030.tistory.com/24</a></p>\n<p><a href=\"https://negabaro.github.io/archive/js-Hoisting\">https://negabaro.github.io/archive/js-Hoisting</a></p>\n<p><a href=\"https://pjh3749.tistory.com/201\">https://pjh3749.tistory.com/201</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk7 { color: #B5CEA8; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk15 { color: #C586C0; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/javascript/lexical scoping/","relativePath":"posts/javascript/lexical scoping.md","relativeDir":"posts/javascript","base":"lexical scoping.md","name":"lexical scoping","frontmatter":{"title":"Javascript Lexical Scoping","excerpt":"Javascript 동작구조인 Lexical Scope에 대해 기록합니다.","date":"2021-10-07 00:20","thumb_img_path":"images/jsLogo.png","thumb_img_alt":"Hikers on the trail","content_img_path":"images/jsLogo.png","content_img_alt":"Hikers on the trail","seo":{"title":"Javascript Gatter와 Setter","description":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes.","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"Basic Rules For Walking In The Mountains","keyName":"property"},{"name":"og:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes.","keyName":"property"},{"name":"og:image","value":"images/jsLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Basic Rules For Walking In The Mountains"},{"name":"twitter:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes."},{"name":"twitter:image","value":"images/jsLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>Javascript Lexical Scoping</h1>\n<p>javascript 에서의 this를 공부하기 전 scope의 개념을 정확하게 설명할 수 있도록 정리하려고 합니다.</p>\n<ol>\n<li><a href=\"https://sysnar.github.io/posts/javascript/scope/\">실행 컨텍스트 (Execution Context)</a></li>\n<li><a href=\"https://sysnar.github.io/posts/javascript/closure/\">클로저</a></li>\n<li><a href=\"https://sysnar.github.io/posts/javascript/lexical%20scoping/\">lexical scoping</a></li>\n</ol>\n<h2>Scope란?</h2>\n<p>javascript를 쓰다보면 <code class=\"language-text\">Scope</code>라는 단어를 참 많이도 접하지만, 정작 한줄로 설명하기는 어려운 것 같습니다.</p>\n<p><code class=\"language-text\">Scope</code>는 한마디로 <mark>변수에 접근할 수 있는 범위</mark>라고 정의할 수 있습니다.</p>\n<p>이런 Scope에는 2가지 종류가 있습니다.</p>\n<ol>\n<li>전역 스코프(Global Scope)</li>\n<li>지역 스코드(Local Scope)</li>\n</ol>\n<p>Global Scope는 웹 브라우저의 경우(window, docuement), Node.js의 경우(global) 등의 객체에 선언되어 어느 곳이던지 해당 변수에 접근하여 사용할 수 있다는 뜻이며,<br>\nLocal Scope는 특정 범위가 주어지고 그 범위 안에서만 접근할 수 있다는 것을 의미합니다.</p>\n<p>이 내용을 이해하기 위한 간단한 예시가 있습니다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">x</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;global&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ex</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">x</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;change&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">ex</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">alert</span><span class=\"mtk1\">(</span><span class=\"mtk12\">x</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// &#39;change&#39;</span></span></span></code></pre>\n<p>javascript의 특성상 변수의 범위를 호출한 함수의 Local Scope부터 전역 변수들이 있는\nGlobal Scope까지 범위를 점차 넓혀가며 찾기 때문에 함수 ex의 Scope 내에 없는 변수 x를 찾아 값을 변경하게 됩니다.<br>\n만약 함수 ex 내에 변수 x가 존재했다면 지역변수 x에 값을 할당하고 전역변수의 값은 변경되지 않았을 것 입니다.</p>\n<p><img src=\"../../../images/scopeExample.png\" alt=\"Awesome image\"></p>\n<h2>Scope Chain</h2>\n<p>전역변수와 지역변수 같의 관계에서 나오는 개념이다.<br>\n내부 함수에서는 외부에 접근이 가능하지만 외부에서는 접근이 불가능한 특성을 가진다.<br>\n아래의 예시에서 확인이 가능하듯이 내부 함수에서 선언되어 있지 않은 name이라는 변수를 호출할 때<br>\n계속적으로 스코프를 확장해나가며 결과적으로는 전역변수를 호출하는 것을 확인할 수 있다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">name</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;zero&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">outer</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;외부&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">name</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">inner</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">enemy</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;nero&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;내부&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk12\">name</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">inner</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">outer</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">enemy</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// undefined</span></span></span></code></pre>\n<h2>Lexical Scoping</h2>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">name</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;zero&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">log</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">name</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">wrapper</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">name</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;nero&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">log</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">wrapper</span><span class=\"mtk1\">(); </span><span class=\"mtk3\">// nero</span></span></span></code></pre>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">name</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;zero&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">log</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">name</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">wrapper</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">name</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;nero&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">log</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">wrapper</span><span class=\"mtk1\">(); </span><span class=\"mtk3\">//zero</span></span></span></code></pre>\n<p>출처 :<br>\n<a href=\"https://www.zerocho.com/category/Javascript/post/5740531574288ebc5f2ba97e\">https://www.zerocho.com/category/Javascript/post/5740531574288ebc5f2ba97e</a><br>\n<a href=\"https://medium.com/@su_bak/javascript-%EC%8A%A4%EC%BD%94%ED%94%84-scope-%EB%9E%80-bc761cba1023\">https://medium.com/@su_bak/javascript-스코프-scope-란-bc761cba1023</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/javascript/hoistring problems/","relativePath":"posts/javascript/hoistring problems.md","relativeDir":"posts/javascript","base":"hoistring problems.md","name":"hoistring problems","frontmatter":{"title":"실시간 데이터 업데이트 로직 장애","excerpt":"AJAX를 활용하여 10초간 페이지를 업데이트하는 어플리케이션의 db조회가 깨졌던 경험을 기록합니다.","date":"2021-10-28 23:21","thumb_img_path":"images/jsLogo.png","thumb_img_alt":"Hikers on the trail","content_img_path":"images/jsLogo.png","content_img_alt":"Hikers on the trail","seo":{"title":"NestJS TypeORM Settup with Confige Module","description":"NestJS의 config 파일을 코드와 분리하기 위해 몸부림친 기록","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"Basic Rules For Walking In The Mountains","keyName":"property"},{"name":"og:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes.","keyName":"property"},{"name":"og:image","value":"images/jsLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Basic Rules For Walking In The Mountains"},{"name":"twitter:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes."},{"name":"twitter:image","value":"images/jsLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>뭐가 문제였을까요..?</h1>\n<p>서비스 실패의 문제는 hoisting으로 인한 db select query의 오염이었습니다.<br>\n서비스 함수 안에 query를 선언할 때 let 혹은 var를 사용하여 선언하지 않고 할당하여\n여러 Request가 같이 들어올 때 db의 값을 조회하는 query 변수가 가리키는 값이 변경되며\n제대로된 query를 보내지 못하고 데이터값이 null을 뿜는 현상이었습니다...</p>\n<h2>꺼진 함수 다시보자</h2>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">mainFunc</span><span class=\"mtk1\"> = () </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">query</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;SELECT * FROM TABLE_NAME;&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// long term db query</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">const</span><span class=\"mtk1\"> </span><span class=\"mtk11\">interceptFunc</span><span class=\"mtk1\"> = () </span><span class=\"mtk4\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk12\">query</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;INSERT ~~~&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// insert &amp; select db query</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">};</span></span></span></code></pre>\n<p>위와 같이 query가 함수 내에 선언되지 않을 경우 전역변수로 선언이 되게 되며,<br>\n이에 따라 하나의 변수를 여러 함수가 공유하여 side effect를 야기할 수 있습니다.</p>\n<h2>해결방법</h2>\n<p>이번에 겪었던 문제의 재발을 방지하기 위해 한가지 약속을 하기로 하였습니다.<br>\n함수 내에 raw query 문을 작성하여 DB에 요청을 보낼 경우 해당 쿼리문이 재수정될 수 없도록\n<code class=\"language-text\">const</code>를 사용해 리터럴로 선언하여 사용하기 였습니다.</p>\n<h2>마지막으로</h2>\n<p>Javascript 문법을 공부하면서 글로만 봐왔던 문제를 실제로 겪으니 그 중요성을 알게된 것 같습니다.<br>\n앞으로의 개발과정에서는 이러한 문제가 발생하지 않도록 ES6+ 문법을 더욱 탄탄히 해야할 것 같습니다.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/javascript/promise/","relativePath":"posts/javascript/promise.md","relativeDir":"posts/javascript","base":"promise.md","name":"promise","frontmatter":{"title":"Javascript Promise","excerpt":"Javascript Promise의 개념을 정리하였습니다.","date":"2021-06-24 11:31","thumb_img_path":"images/jsLogo.png","content_img_path":"images/jsLogo.png","seo":{"title":"Javascript Promise","description":"Javascript Promise의 개념을 정리하였습니다."},"template":"post"},"html":"<h1>Promise... Promise..? Promise..!</h1>\n<p>프로미스는 자바스크립트 비동기 처리를 위해 사용하는 객체의 이름입니다.</p>\n<p>※ 자바스크립트 비동기 처리 : 특정 코드의 실행이 완료될 때까지 기다리지 않고 다음 코드를 먼저 실행하는 Javascript의 특성</p>\n<h2>Promise를 왜 쓸까요?</h2>\n<p>기존의 javascript 비동기 처리 방식에서 순차적인 로직을 처리하기 위해서 기존의 Callback Hell이 가지고 있던</p>\n<p>에러처리의 문제를 해결하고 코드 작성에 있어서 콜백에 비해 많은 유연성, 직관성을 부여하기 때문이다.</p>\n<p>01_Promise State (상태)\nPromise는 Callback 체이닝에 비해 상태를 직관적으로 확인하여 처리하기가 용이하다.</p>\n<ul>\n<li>Pending (대기)</li>\n</ul>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Promise</span><span class=\"mtk1\">(); </span><span class=\"mtk3\">// 기본 Promise 선언 -&gt; 현 상태는 Pending 상태</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Promise</span><span class=\"mtk1\">(</span><span class=\"mtk4\">function</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">resolve</span><span class=\"mtk1\">, </span><span class=\"mtk12\">reject</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// callback으로 resolve와 reject를 가짐</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// resolve -&gt; Fufilled로 Promise의 상태를 반환</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// reject -&gt; Rejected로 Promise의 상태를 반환</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">});</span></span></span></code></pre>\n<ul>\n<li>Fulfilled (이행/완료)</li>\n</ul>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Promise</span><span class=\"mtk1\">(</span><span class=\"mtk4\">function</span><span class=\"mtk1\">(</span><span class=\"mtk12\">resolve</span><span class=\"mtk1\">, </span><span class=\"mtk12\">reject</span><span class=\"mtk1\">){</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">resolve</span><span class=\"mtk1\">(); </span><span class=\"mtk3\">// Promise 객체를 Fulfilled 상태로 반환</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">});</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getData</span><span class=\"mtk1\">(){</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Promise</span><span class=\"mtk1\">(</span><span class=\"mtk4\">function</span><span class=\"mtk1\">(</span><span class=\"mtk12\">resolve</span><span class=\"mtk1\">, </span><span class=\"mtk12\">reject</span><span class=\"mtk1\">){</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">data</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">100</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">resolve</span><span class=\"mtk1\">(</span><span class=\"mtk12\">data</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">});</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// getData 함수의 결과 값 : data(Promise, resolve) 값을 resolvedData로 받음</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">getData</span><span class=\"mtk1\">().</span><span class=\"mtk11\">then</span><span class=\"mtk1\">(</span><span class=\"mtk4\">function</span><span class=\"mtk1\">(</span><span class=\"mtk12\">resolvedData</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">resolvedData</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// 100 출력됨</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<ul>\n<li>Rejected (실패)</li>\n</ul>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Promise</span><span class=\"mtk1\">(</span><span class=\"mtk4\">function</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">resolve</span><span class=\"mtk1\">, </span><span class=\"mtk12\">reject</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">reject</span><span class=\"mtk1\">();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">});</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getData</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Promise</span><span class=\"mtk1\">(</span><span class=\"mtk4\">function</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">resolve</span><span class=\"mtk1\">, </span><span class=\"mtk12\">reject</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">reject</span><span class=\"mtk1\">(</span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Error</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;Request is failed&quot;</span><span class=\"mtk1\">));</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// reject()의 결과 값(Error)를 err 파라미터로 받음</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">getData</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  .</span><span class=\"mtk11\">then</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  .</span><span class=\"mtk11\">catch</span><span class=\"mtk1\">(</span><span class=\"mtk4\">function</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">err</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">err</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// Error: Request is failed</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  });</span></span></span></code></pre>\n<p><img src=\"../../../images/promise-mozila.png\" alt=\"Awesome image\"></p>\n<ul>\n<li>여러개의 프로미스</li>\n</ul>\n<p>Promise Chain에서 발생하는 모든 에러는 .catch(try-catch 아님)에서 처리된다.</p>\n<p>(다만 Chain이 너무 많고 개별적으로 처리하려 할 시 각 각의 .then 안에서 try-catch로 처리할 수도 있다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">getData</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Promise</span><span class=\"mtk1\">({</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"><span class=\"mtk3\">// 여러 개의 프로미스를 알기 쉽게 연결하여 작성</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">getData</span><span class=\"mtk1\">()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  .</span><span class=\"mtk11\">then</span><span class=\"mtk1\">(</span><span class=\"mtk4\">function</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">data</span><span class=\"mtk1\">) {})</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  .</span><span class=\"mtk11\">then</span><span class=\"mtk1\">(</span><span class=\"mtk4\">function</span><span class=\"mtk1\"> () {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">try</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">res</span><span class=\"mtk1\"> &gt; </span><span class=\"mtk7\">3</span><span class=\"mtk1\">) </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">res</span><span class=\"mtk1\"> + </span><span class=\"mtk7\">1</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk15\">else</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk15\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk4\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Error</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;Error occured&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"16\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    } </span><span class=\"mtk15\">catch</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">err</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"17\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;오류 발생&quot;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"18\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk15\">throw</span><span class=\"mtk1\"> </span><span class=\"mtk12\">err</span><span class=\"mtk1\">; </span><span class=\"mtk3\">// throw 하지 않으면 정상종료로 판단하고 다음 then이 실행됨</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"19\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"20\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  })</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"21\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  .</span><span class=\"mtk11\">then</span><span class=\"mtk1\">(</span><span class=\"mtk4\">function</span><span class=\"mtk1\"> () {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"22\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"23\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  })</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"24\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  .</span><span class=\"mtk11\">catch</span><span class=\"mtk1\">(</span><span class=\"mtk4\">function</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">error</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"25\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">error</span><span class=\"mtk1\">.</span><span class=\"mtk12\">message</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"26\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  });</span></span></span></code></pre>\n<p>출처 :</p>\n<p><a href=\"https://joshua1988.github.io/web-development/javascript/promise-for-beginners/\">https://joshua1988.github.io/web-development/javascript/promise-for-beginners/</a></p>\n<p><a href=\"https://coffeeandcakeandnewjeong.tistory.com/17\">https://coffeeandcakeandnewjeong.tistory.com/17</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk15 { color: #C586C0; }\n  .dark-default-dark .mtk7 { color: #B5CEA8; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/javascript/scope/","relativePath":"posts/javascript/scope.md","relativeDir":"posts/javascript","base":"scope.md","name":"scope","frontmatter":{"title":"Javascript Execution Context","excerpt":"자바스크립트가 실행되는 문법의 흐름을 정리","date":"2021-10-06 24:00","thumb_img_path":"images/jsLogo.png","thumb_img_alt":"Hikers on the trail","content_img_path":"images/jsLogo.png","content_img_alt":"Hikers on the trail","seo":{"title":"Javascript Gatter와 Setter","description":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes.","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"Basic Rules For Walking In The Mountains","keyName":"property"},{"name":"og:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes.","keyName":"property"},{"name":"og:image","value":"images/jsLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Basic Rules For Walking In The Mountains"},{"name":"twitter:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes."},{"name":"twitter:image","value":"images/jsLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>Javascript 실행컨텍스트(Execution Context)</h1>\n<p>javascript 에서의 this를 공부하기 전 scope의 개념을 정확하게 설명할 수 있도록 정리하려고 합니다.</p>\n<ol>\n<li><a href=\"https://sysnar.github.io/posts/javascript/scope/\">실행 컨텍스트 (Execution Context)</a></li>\n<li><a href=\"https://sysnar.github.io/posts/javascript/closure/\">클로저</a></li>\n<li><a href=\"https://sysnar.github.io/posts/javascript/lexical%20scoping/\">lexical scoping</a></li>\n</ol>\n<h2>Execution Context?</h2>\n<p>우선 <code class=\"language-text\">Execution Context</code>라는 단어의 뜻은 아래와 같다.<br>\n실행 문맥 : javascript가 실행되는 문법의 흐름</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"js\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"1\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">name</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;zero&quot;</span><span class=\"mtk1\">; </span><span class=\"mtk3\">// (1)변수 선언 (6)변수 대입</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"2\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"3\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">wow</span><span class=\"mtk1\">(</span><span class=\"mtk12\">word</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"4\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// (2)변수 선언 (3)변수 대입</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"5\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">word</span><span class=\"mtk1\"> + </span><span class=\"mtk8\">&quot; &quot;</span><span class=\"mtk1\"> + </span><span class=\"mtk12\">name</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// (11)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"6\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"7\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"8\"></span><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">say</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"9\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// (4)변수 선언 (5)변수 대입</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"10\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">var</span><span class=\"mtk1\"> </span><span class=\"mtk12\">name</span><span class=\"mtk1\"> = </span><span class=\"mtk8\">&quot;nero&quot;</span><span class=\"mtk1\">; </span><span class=\"mtk3\">// (8)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"11\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk10\">console</span><span class=\"mtk1\">.</span><span class=\"mtk11\">log</span><span class=\"mtk1\">(</span><span class=\"mtk12\">name</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// (9)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"12\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk11\">wow</span><span class=\"mtk1\">(</span><span class=\"mtk8\">&quot;hello&quot;</span><span class=\"mtk1\">); </span><span class=\"mtk3\">// (10)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"13\"></span><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"14\"></span><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-gutter-pad\"></span><span class=\"grvsc-gutter grvsc-line-number\" aria-hidden=\"true\" data-content=\"15\"></span><span class=\"grvsc-source\"><span class=\"mtk11\">say</span><span class=\"mtk1\">(); </span><span class=\"mtk3\">// (7)</span></span></span></code></pre>\n<p>출처 : <a href=\"https://www.zerocho.com/category/JavaScript/post/5741d96d094da4986bc950a0\">https://www.zerocho.com/category/JavaScript/post/5741d96d094da4986bc950a0</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/jpa/jpa-transaction-dirty-checking/","relativePath":"posts/jpa/jpa-transaction-dirty-checking.md","relativeDir":"posts/jpa","base":"jpa-transaction-dirty-checking.md","name":"jpa-transaction-dirty-checking","frontmatter":{"title":"Spring Data & JPA Transaction 알아보기","excerpt":"","date":"2022-08-19","thumb_img_path":"images/jpa-logo.png","thumb_img_alt":"reactLogo","content_img_path":"images/jpa-logo.png","content_img_alt":"reactLogo","seo":{"title":"Spring Data & JPA Transaction 알아보기","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/jpaLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h2>JPA 트랜젝션</h2>\n<p><code class=\"language-text\">@Transactional</code> 어노테이션의 옵션</p>\n<ul>\n<li>propagation : 전파 옵션</li>\n<li>isolation : 고립 옵션</li>\n<li>rollbackFor : 롤백 대상 지정</li>\n<li>readOnly : 생성, 수정, 삭제 제한 옵션</li>\n</ul>\n<h2>ACID</h2>\n<p><code class=\"language-text\">원자성(Atomicity)</code>, <code class=\"language-text\">일관성(Consistency)</code>, <code class=\"language-text\">격리성(Isolation)</code>, <code class=\"language-text\">지속성(Durability)</code>으로 이루어진 원칙</p>\n<h2>JPA Persistence Context</h2>\n<h2>Dirty Checking!</h2>\n<p>참고자료 : </p>\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=xqEVS8LzxZM&#x26;t=1350s&#x26;ab_channel=springcamp.io\">김영한님 스프링캠프 강의 - Persistence Context</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=aX9c7z9l_u8&#x26;ab_channel=%EC%9A%B0%EC%95%84%ED%95%9CTech\">우태코 셀리님 발표 - 트랜젝션</a></li>\n<li><a href=\"https://www.youtube.com/watch?v=e9PC0sroCzc&#x26;t=308s&#x26;ab_channel=%EC%9A%B0%EC%95%84%ED%95%9CTech\">우태코 예지니어스님 발표 - 트랜젝션</a></li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/architecture/ddd/","relativePath":"posts/architecture/ddd.md","relativeDir":"posts/architecture","base":"ddd.md","name":"ddd","frontmatter":{"title":"도메인 아키텍처","excerpt":"","date":"2022-06-21","thumb_img_path":"images/architecture-thumbnail.png","thumb_img_alt":"reactLogo","content_img_path":"images/architecture-thumbnail.png","content_img_alt":"reactLogo","seo":{"title":"도메인 아키텍처","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/reactLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/nestjs/","relativePath":"nestjs/index.md","relativeDir":"nestjs","base":"index.md","name":"index","frontmatter":{"title":"Nestjs","seo":{"title":"Nestjs","description":"This is the Nestjs page","extra":[{"name":"og:type","value":"website","keyName":"property"},{"name":"og:title","value":"Blog","keyName":"property"},{"name":"og:description","value":"This is the blog page","keyName":"property"},{"name":"og:image","value":"images/1.jpg","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Blog"},{"name":"twitter:description","value":"This is the blog page"},{"name":"twitter:image","value":"images/1.jpg","relativeUrl":true}]},"template":"nestjs"},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/architecture/oop-domain-design/","relativePath":"posts/architecture/oop-domain-design.md","relativeDir":"posts/architecture","base":"oop-domain-design.md","name":"oop-domain-design","frontmatter":{"title":"객체지향적 도메인 설계에서 쿼리 증가에 대한 고민","excerpt":"","date":"2022-06-22","thumb_img_path":"images/architecture-thumbnail.png","thumb_img_alt":"reactLogo","content_img_path":"images/architecture-thumbnail.png","content_img_alt":"reactLogo","seo":{"title":"객체지향적 도메인 설계에서 쿼리 증가에 대한 고민","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/reactLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>개요</h1>\n<p>안녕하세요 저는 요즘 조영호님의 객체지향 설계에 대한 세미나 영상들을 보고 있는데요.<br>\n세미나 영상 중 궁금한 점들이 생겼으나 해결이 안돼서 ㅠㅠ 도움을 받고자 질문드립니다!</p>\n<p>자바/스프링과 관련된 코드이지만, 백엔드 지식과도 연관이 있다고 생각해서 NestJS 방에 질문드리는 점 이해해주시면 감사하겠습니다! :)</p>\n<h2>질문사항</h2>\n<ol>\n<li>\n<p>JPA / TypeORM 등을 사용할 때 양방향 연관관계를 끊어내려고 연관관계 대신 조회쿼리를 사용하는 것 같은데, 이렇게 개발하는 게 성능이나 클린코드 등에 문제가 없을까요?</p>\n<ul>\n<li>A : 연관관계로 다른 Entity를 가져오기 (join 된 상태에서)</li>\n<li>B : 조회쿼리(findOne)으로 다른 Entity 가져오기</li>\n</ul>\n</li>\n<li>\n<p>하나의 API 요청을 처리하기 위해 5개 이상의 조회 쿼리 등을 사용해도 괜찮은걸까요?</p>\n<ul>\n<li><code class=\"language-text\">초보이다보니 성능을 위해선 무조건 DB에 요청(조회, 수정)하는 횟수를 줄여야돼!</code>라는 생각을 가지는 것 같습니다.</li>\n<li>\n<p>혹시 하나의 API 요청을 처리할 때에 이정도는 넘으면 안돼! 라는 기준이 있을까요?</p>\n<ul>\n<li>물론 항상 trade-off 하시고 계시겠지만, 현업에서 일하고 계신 개발자분들께서 생각하시는 기준이 궁금합니닷..</li>\n</ul>\n</li>\n</ul>\n</li>\n</ol>\n<h2>질문이유</h2>\n<ul>\n<li>조영호님께서 예제로 공개하신 코드를 보면 주문이라는 행위를 처리하기 위해 여러 도메인으로 쪼개고 각자의 도메인과 관련된 행위의 처리를 분리(격리?)해두셨는데요.</li>\n<li>그러다보니 아래의 사진과 같이 Entity 객체를 전달하고, 그 객체와 관련된 Entity 객체를 가져오기 위해 조회쿼리를 날리는 걸 볼 수 있습니다.</li>\n<li>아래의 경우는 상점에 주문이 가능한지 검증을 하는 로직뿐이지만, </li>\n<li>도메인 요구사항이 더 복잡해주실수록 <code class=\"language-text\">findById</code>와 같이 단순 조회성 쿼리들이 8개가 넘어가는 상황이 일어날 것 같은데, 성능상 괜찮은 것인지를 모르겠어서 </li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 750px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.40425531914893%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC1ElEQVQ4y5WUWW7cSBBE+x7iUvteXJrdLQmG/OH73+l5quiWAQNjzXwEAlwqGYyMzIu73tDLjiwZuRR09BhjEEozjSPjMDCOI9M0ffLfcBHa49YH8duD8H6QH6/s339Q7m9o6xBSMs3zfy56maVC+8iyLSxrJd4P0sc7+fXB7eMH6/t3nE+n2i/UnQWnkaay3L5RXz/wuXK73Xh7eyPGyMvLwDRO/+OXpcaEiM+BpSZ8joRSsMZgjMQYhRDi9y9/WXCWWO+IOZBS7JxLJnhHipbgLVIphmdzxlPpv+EitCLkyLZvpH3p6oT3uFJRMaBTwJVMLiuqNWiamOf5LwqFQGlDLTvbWli2RK6JXJpihzeK5CzBaowSX3p5aV+TUlPqzrYUjmPhfq8dxzWdXirZIUQr9pWHQjCLdsD2wyFYvDf4YHFG4bXq7HRrzszwh2dPb4fh6eGnwmtX+LivPO6V/dio+8p6XTmulTVHontaYIhWo01rZiRnT0oeYw2XWbSCBu0DOvgeGx8jqWRKiaR2IHmUksj2bofo3KZIadWfqW6JOBW27uU1UfdCWTO1NWVZ2a8b61o5jtqbJKVgGF7O+e54+bx+8kXbyGwTs7FY5zqMcyjnGI1lMo7ZBIQLtHcnoX9D/gGhuUibkGFBxkyolVAqsVRcWRCpInNF5wWVKiYuzDowaf8b6gnXcZGuIOKGiKUXystCrCdUWZnygigrOl8723JlUoFBOgblGVux/pETFyEV1p/qrvcbflko20rKBd1i5M+Zdk7jnOmWeO8I3mOtxShzZrCPZYuNaB0yaOdxKaG9JwSPcR5tLc5qpBJ9SWitMMb2BdxYa40Uqmdw+DU9fR+6WIn7jr8e5H3n9bFRj5V8PKilEHzLnMI4i7G6hz5Gh7Wuq27DoJTqm+jS8zQJlNIo45CNdVtbGql156ZOqTbzuueu3bPWdIWn6l8r7p+CPwG+ZjlxwZ3gNQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2022 06 22 11 18 49\"\n        title=\"2022 06 22 11 18 49\"\n        src=\"/static/001af9f08f2f5038429eeb8a8107de1b/1d69c/2022-06-22-11-18-49.png\"\n        srcset=\"/static/001af9f08f2f5038429eeb8a8107de1b/4dcb9/2022-06-22-11-18-49.png 188w,\n/static/001af9f08f2f5038429eeb8a8107de1b/5ff7e/2022-06-22-11-18-49.png 375w,\n/static/001af9f08f2f5038429eeb8a8107de1b/1d69c/2022-06-22-11-18-49.png 750w,\n/static/001af9f08f2f5038429eeb8a8107de1b/79e48/2022-06-22-11-18-49.png 865w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2>출처</h2>\n<p>예제 : <a href=\"https://github.com/eternity-oop/Woowahan-OO-03-domain-event\">https://github.com/eternity-oop/Woowahan-OO-03-domain-event</a><br>\n관련영상 : <a href=\"https://www.youtube.com/watch?v=dJ5C4qRqAgA&#x26;ab_channel=%EC%9A%B0%EC%95%84%ED%95%9CTech\">https://www.youtube.com/watch?v=dJ5C4qRqAgA&#x26;ab_channel=%EC%9A%B0%EC%95%84%ED%95%9CTech</a></p>\n<h2>답변</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 450px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.61702127659575%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAACKElEQVQ4y3VT6WoyQRDMQxjdBcEfSvA+1gNPNIImXngr3veRGO8oIvrEeYftj2pYP0L0R9E9vTs9U1XTT4Ig/IiiSGq1Wn5+fqZHUKlUv6DU1Go1Yb8gCIwnURR/kOh0OtlkMtHLywshms1mhtFo5Giz2chut9+iUjMYDNwITQFuiNOcTqc8n8+p1+vRcDik9XpNX19fnG82G+p2uzQYDKjT6VCr1aJSqcS1UChEGo3md0Nc22q1yplMhnK53A3ZbJZQw+ZgMEhut5u8Xi95PB6OPp+PXC7XjfKfhjixVqvRaDSiZrNJ5XKZ+v0+57jVZDLhHCyATrfDTe9Sttvt8ufnJ9O8Xq9MGRKg9vHxwevL5ULL5ZIl2O/3XLtLWdFwOp1So9GgZDJJb29vFI/HKZFI8Pr9/Z0BCVKpFNcAUP9zQ1C22WzyarXiW4FevV5nAyADjMFaMQbUEbH2+/33KUuSJEO78/lM34dvqlartNvtaLFYMD1ErNEcBx+PR5bjYUOHw8ENcatwOMyuRiIRisViFI1G6fX1lSOA7wokSbrvstlslovFImuHJtBOAdbQS9EUWiLi34cuwxS4t91u2T3QAkW4jhzuzmYzpnk4HOh0OrHbcBkXgtO30VOezWg84s3Qazwec45NiJADzwemIbbbbX6TgUAAY8sjqNVq/1O2WCwyJgM/wZB8Ps+oVCo8MYVCgR86Hn46nWbtQNfhcPBMQ3O9Xk//AC6v51Sl+IAHAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2022 06 22 15 54 32\"\n        title=\"2022 06 22 15 54 32\"\n        src=\"/static/8eb78e1276d807d2d1d9f90589ef1a37/fc2a6/2022-06-22-15-54-32.png\"\n        srcset=\"/static/8eb78e1276d807d2d1d9f90589ef1a37/4dcb9/2022-06-22-15-54-32.png 188w,\n/static/8eb78e1276d807d2d1d9f90589ef1a37/5ff7e/2022-06-22-15-54-32.png 375w,\n/static/8eb78e1276d807d2d1d9f90589ef1a37/fc2a6/2022-06-22-15-54-32.png 450w\"\n        sizes=\"(max-width: 450px) 100vw, 450px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/javascript/","relativePath":"javascript/index.md","relativeDir":"javascript","base":"index.md","name":"index","frontmatter":{"title":"javascript","seo":{"title":"javascript","description":"This is the Javascript page","extra":[{"name":"og:type","value":"website","keyName":"property"},{"name":"og:title","value":"Blog","keyName":"property"},{"name":"og:description","value":"This is the blog page","keyName":"property"},{"name":"og:image","value":"images/1.jpg","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Blog"},{"name":"twitter:description","value":"This is the blog page"},{"name":"twitter:image","value":"images/1.jpg","relativeUrl":true}]},"template":"javascript"},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/devops/","relativePath":"devops/index.md","relativeDir":"devops","base":"index.md","name":"index","frontmatter":{"title":"DevOps","seo":{"title":"DevOps","description":"This is the Architecture page","extra":[{"name":"og:type","value":"website","keyName":"property"},{"name":"og:title","value":"Blog","keyName":"property"},{"name":"og:description","value":"This is the blog page","keyName":"property"},{"name":"og:image","value":"images/1.jpg","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Blog"},{"name":"twitter:description","value":"This is the blog page"},{"name":"twitter:image","value":"images/1.jpg","relativeUrl":true}]},"template":"devops"},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/architecture/cqrs-1/","relativePath":"posts/architecture/cqrs-1.md","relativeDir":"posts/architecture","base":"cqrs-1.md","name":"cqrs-1","frontmatter":{"title":"CQRS 데이터 동기화 방법","excerpt":"","date":"2022-07-10","thumb_img_path":"images/architecture-thumbnail.png","thumb_img_alt":"reactLogo","content_img_path":"images/architecture-thumbnail.png","content_img_alt":"reactLogo","seo":{"title":"CQRS 데이터 동기화 방법","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/reactLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<p>CQRS를 공부하다 보면 이벤트 소싱과 연결되어 설명하는 것을 많이 볼 수 있다.<br>\n<code class=\"language-text\">write</code> 시 이벤트를 발생해 <code class=\"language-text\">read</code> 저장소에 데이터를 동기화하는 데에 사용하는 것 같다.</p>\n<p>이 부분에서 궁금한 점이 생겼다.<br>\n보통 조회 속도를 높이기 위해 In-Memory 저장소를 많이 사용하는 것 같은데 이를 어떻게 저장하는 건지 궁금해졌다.</p>\n<p>이를 위해서 Redis의 데이터 저장방식에 대해 알아보아야겠다.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/blog/","relativePath":"blog/index.md","relativeDir":"blog","base":"index.md","name":"index","frontmatter":{"title":"Blog","seo":{"title":"Blog","description":"This is the blog page","extra":[{"name":"og:type","value":"website","keyName":"property"},{"name":"og:title","value":"Blog","keyName":"property"},{"name":"og:description","value":"This is the blog page","keyName":"property"},{"name":"og:image","value":"images/1.jpg","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Blog"},{"name":"twitter:description","value":"This is the blog page"},{"name":"twitter:image","value":"images/1.jpg","relativeUrl":true}]},"template":"blog"},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/algorithms/b-search/","relativePath":"posts/algorithms/b-search.md","relativeDir":"posts/algorithms","base":"b-search.md","name":"b-search","frontmatter":{"title":"Binary Search","excerpt":"Leetcode에서 Binary Search를 문제를 해결하는 과정과 그 해답입니다.","date":"2022-03-23 21:00","thumb_img_path":"images/jsLogo.png","thumb_img_alt":"Hikers on the trail","content_img_path":"images/jsLogo.png","content_img_alt":"Hikers on the trail","seo":{"title":"Binary Search","description":"Leetcode에서 Binary Search를 문제를 해결하는 과정과 그 해답입니다.","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"Basic Rules For Walking In The Mountains","keyName":"property"},{"name":"og:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes.","keyName":"property"},{"name":"og:image","value":"images/jsLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Basic Rules For Walking In The Mountains"},{"name":"twitter:description","value":"Hiking refers to difficult walking through dense forest, undergrowth, or bushes."},{"name":"twitter:image","value":"images/jsLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>이진탐색(Binary Search)</h1>\n<p>이진탐색이란 주어진 배열을 반씩 쪼개가며 찾고자 하는 값을 찾을 때까지 탐색하는 알고리즘이다.<br>\n그렇기 때문에 이진탐색 알고리즘을 적용하기 위해선 배열이 반드시 정렬되어 있어야 한다.<br>\n만약 0 ~ 6이 들어있는 배열에서 5를 찾고자 한다면 아래와 같은 방식으로 검색하게 된다.  </p>\n<h3>첫번째 탐색</h3>\n<p> [0, 1, 2, <mark>3</mark>, 4, 5, 6]  </p>\n<p>  우선 배열의 전체 길이를 반으로 나눈 값을 내립하여 가장 가운데에 존재하는 값(아래부턴 편의상 pivot이라고 함)을 찾는다.<br>\n그다음 pivot이 목표값과 같은지 비교하고 같을 경우 반환, 다를 경우 계속해서 검색한다.<br>\n목표값이 pivot보다 크기 때문에 [<strong>pivot + 1</strong> ~ <strong>배열의 끝</strong>] 까지 검색한다.   </p>\n<h3>두번째 탐색</h3>\n<ol start=\"2\">\n<li>[4, <mark>5</mark>, 6]<br>\npivot이 목표값과 동일하다. 검색을 종료한 뒤 검색의 결과값으로 <mark>5</mark>를 반환한다.</li>\n</ol>\n<h3>종료 조건</h3>\n<p>이진탐색 알고리즘의 종료조건은 크게 2가지이다.</p>\n<ol>\n<li>검색과정에서 목표값을 찾는 경우</li>\n<li>검색과정 배열의 크기를 1까지 줄여가며 탐색하였으나, 목표값을 찾지 못한 경우</li>\n</ol>\n<hr/>  \n<h3>시간복잡도</h3>\n<p>결과적으로 N개의 배열을 검색할 때에 N, N/2, N/4, N/8, ..., 1으로 탐색할 자료의 수가 줄어들기 때문에\n시간 복잡도는 Big O표기법으로 O(logN)으로 나타낼 수 있습니다.</p>\n<p><mark>그럼 여기서 한가지 의문을 가지게 됩니다.</mark><br>\n아래의 예제코드를 보면 반복문을 돌리는 과정에서 배열을 0부터 끝까지 반복하지 않는데<br>\n과연 N, N/2 ... 의 시간이 실제로 소요되느지 의문이 생겼습니다.</p>\n<p>의문에 대한 답은 이렇습니다.<br>\n제가 생각한 방식은 선형적으로 검색을 했을 때의 방식이었습니다.<br>\n이진 탐색은 선형적으로 동작하지 않기 때문에 시간 복잡도의 측정 또한 선형적인 방식들과는 달랐습니다.  </p>\n<p>공부를 통해 배운 핵심은 이진탐색은 탐색 연산을 수행하고 탐색할 데이터를 반으로 줄여나가는 알고리즘이라는 것입니다.<br>\n정리하자면 목표값을 찾고 탐색할 데이터를 나누는 연산이 일어나는데, 그게 최약의 경우 1이 될 때까지 일어나기 때문에 아래와 같은 수식을 가지게 됩니다.<br>\n<mark>N * (1/2)^k = 1</mark> (k값은 탐색횟수)   </p>\n<h3>예제코드 - 반복문</h3>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"javascript\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">function</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Search</span><span class=\"mtk1\">(</span><span class=\"mtk12\">nums</span><span class=\"mtk1\">, </span><span class=\"mtk12\">target</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">left</span><span class=\"mtk1\"> = </span><span class=\"mtk7\">0</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">right</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">nums</span><span class=\"mtk1\">.</span><span class=\"mtk12\">length</span><span class=\"mtk1\"> - </span><span class=\"mtk7\">1</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">while</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">left</span><span class=\"mtk1\"> &lt;= </span><span class=\"mtk12\">right</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk4\">let</span><span class=\"mtk1\"> </span><span class=\"mtk12\">pivot</span><span class=\"mtk1\"> = </span><span class=\"mtk10\">Math</span><span class=\"mtk1\">.</span><span class=\"mtk11\">floor</span><span class=\"mtk1\">((</span><span class=\"mtk12\">left</span><span class=\"mtk1\"> + </span><span class=\"mtk12\">right</span><span class=\"mtk1\">) / </span><span class=\"mtk7\">2</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">nums</span><span class=\"mtk1\">[</span><span class=\"mtk12\">pivot</span><span class=\"mtk1\">] == </span><span class=\"mtk12\">target</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> </span><span class=\"mtk12\">pivot</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    } </span><span class=\"mtk15\">else</span><span class=\"mtk1\"> </span><span class=\"mtk15\">if</span><span class=\"mtk1\"> (</span><span class=\"mtk12\">nums</span><span class=\"mtk1\">[</span><span class=\"mtk12\">pivot</span><span class=\"mtk1\">] &gt; </span><span class=\"mtk12\">target</span><span class=\"mtk1\">) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">right</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">pivot</span><span class=\"mtk1\"> - </span><span class=\"mtk7\">1</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    } </span><span class=\"mtk15\">else</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk12\">left</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">pivot</span><span class=\"mtk1\"> + </span><span class=\"mtk7\">1</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> -</span><span class=\"mtk7\">1</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk7 { color: #B5CEA8; }\n  .dark-default-dark .mtk15 { color: #C586C0; }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/jpa/","relativePath":"jpa/index.md","relativeDir":"jpa","base":"index.md","name":"index","frontmatter":{"title":"Sprign Data / JPA","seo":{"title":"Sprign Data / JPA","description":"This is the Architecture page","extra":[{"name":"og:type","value":"website","keyName":"property"},{"name":"og:title","value":"Blog","keyName":"property"},{"name":"og:description","value":"This is the blog page","keyName":"property"},{"name":"og:image","value":"images/1.jpg","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Blog"},{"name":"twitter:description","value":"This is the blog page"},{"name":"twitter:image","value":"images/1.jpg","relativeUrl":true}]},"template":"jpa"},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/algorithms/","relativePath":"algorithms/index.md","relativeDir":"algorithms","base":"index.md","name":"index","frontmatter":{"title":"Algorithms","seo":{"title":"Algorithms","description":"This is the blog page","extra":[{"name":"og:type","value":"website","keyName":"property"},{"name":"og:title","value":"Blog","keyName":"property"},{"name":"og:description","value":"This is the blog page","keyName":"property"},{"name":"og:image","value":"images/1.jpg","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Blog"},{"name":"twitter:description","value":"This is the blog page"},{"name":"twitter:image","value":"images/1.jpg","relativeUrl":true}]},"template":"algorithms"},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/architecture/","relativePath":"architecture/index.md","relativeDir":"architecture","base":"index.md","name":"index","frontmatter":{"title":"Architecture","seo":{"title":"Architecture","description":"This is the Architecture page","extra":[{"name":"og:type","value":"website","keyName":"property"},{"name":"og:title","value":"Blog","keyName":"property"},{"name":"og:description","value":"This is the blog page","keyName":"property"},{"name":"og:image","value":"images/1.jpg","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Blog"},{"name":"twitter:description","value":"This is the blog page"},{"name":"twitter:image","value":"images/1.jpg","relativeUrl":true}]},"template":"architecture"},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/database/postgresql-vs-mysql/","relativePath":"posts/database/postgresql-vs-mysql.md","relativeDir":"posts/database","base":"postgresql-vs-mysql.md","name":"postgresql-vs-mysql","frontmatter":{"title":"엄마가 좋아? 아빠가 좋아? (MySQL VS PostgreSQL)","excerpt":"","date":"2022-09-20","thumb_img_path":"images/database-image.jpeg","thumb_img_alt":"reactLogo","content_img_path":"images/database-image.jpeg","content_img_alt":"reactLogo","seo":{"title":"엄마가 좋아? 아빠가 좋아? (MySQL VS PostgreSQL)","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"엄마가 좋아? 아빠가 좋아? (MySQL VS PostgreSQL)","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/jpaLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>글을 쓰게 된 계기</h1>\n<p>항상 프로젝트를 시작할 때마다 가지는 고민이다. (<del>이번 프로젝트에는 무슨 DB를 써야 잘 썼다고 소문이 나지..?</del>)<br>\n지금까지 진행한 프로젝트는 대부분 간단한 CRUD 기능을 요구하는 경우가 대부분이었기 때문에 DB 선택에 대한 고민을 크게 하지 않고 넘어갔는데,\n이제는 더이상 두루뭉술한채로 남아있을 수 없다고 생각해 지금까지 써본 두 DB의 장단점을 비교해보게 되었다. </p>\n<h2>DB간 기능비교</h2>\n<p>우아한 형제들 기술블로그 중 정지원님께서 작성해주신 비교글이 잘 정리되어 가져와보습니다.\n<img src=\"../../../images/2022-09-20-15-20-45.png\"></p>\n<p>참고 :\n<a href=\"https://www.integrate.io/ko/blog/postgresql-vs-mysql-the-critical-differences-ko/\">https://www.integrate.io/ko/blog/postgresql-vs-mysql-the-critical-differences-ko/</a>\n<a href=\"https://techblog.woowahan.com/6550/\">PostgreSQL vs MySQL - 1</a><br>\n<a href=\"https://www.linode.com/ko/blog/databases/choosing-a-database-mysql-or-postgresql/\">PostgreSQL vs MySQL - 2</a><br>\n<a href=\"https://rastalion.me/postgresql%EA%B3%BC-mariadb%EC%9D%98-%EC%82%AC%EC%9D%B4%EC%97%90%EC%84%9C%EC%9D%98-%EC%84%A0%ED%83%9D/\">PostgreSQL vs MySQL - 3</a><br>\n<a href=\"https://valuefactory.tistory.com/497\">PostgreSQL vs MySQL - 4</a><br>\n<a href=\"https://hoing.io/archives/14457\">해쉬 조인</a><br>\n<a href=\"https://codingdog.tistory.com/entry/postgresql-partial-index-%EC%97%90-%EB%8C%80%ED%95%B4-%EA%B0%84%EB%8B%A8%ED%95%98%EA%B2%8C-%EC%95%8C%EC%95%84%EB%B4%85%EC%8B%9C%EB%8B%A4\">partial index</a><br>\n<a href=\"\">MVCC</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/database/","relativePath":"database/index.md","relativeDir":"database","base":"index.md","name":"index","frontmatter":{"title":"Database","seo":{"title":"Database","description":"This is the Architecture page","extra":[{"name":"og:type","value":"website","keyName":"property"},{"name":"og:title","value":"Blog","keyName":"property"},{"name":"og:description","value":"This is the blog page","keyName":"property"},{"name":"og:image","value":"images/1.jpg","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"Blog"},{"name":"twitter:description","value":"This is the blog page"},{"name":"twitter:image","value":"images/1.jpg","relativeUrl":true}]},"template":"database"},"html":"<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/spring/spring-valid-validated-annotation/","relativePath":"posts/spring/spring-valid-validated-annotation.md","relativeDir":"posts/spring","base":"spring-valid-validated-annotation.md","name":"spring-valid-validated-annotation","frontmatter":{"title":"Spring @Valid vs @Validated 비고 분석","excerpt":"","date":"2022-08-22","thumb_img_path":"images/springBootLogo-3.jpeg","thumb_img_alt":"reactLogo","content_img_path":"images/springBootLogo-3.jpeg","content_img_alt":"reactLogo","seo":{"title":"Spring @Valid vs @Validated 비고 분석","description":"Spring @Valid vs @Validated 비고 분석","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/jpaLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>개요</h1>\n<p>최근 Spring의 <code class=\"language-text\">@Valid</code>어노테이션과 <code class=\"language-text\">@Validated</code> 어노테이션의 정확한 동작원리와 사용방법에 대해 궁금함을 가지게 되었습니다.<br>\n부끄럽지만 개발일정을 맞추려다보니 차근차근 시간을 가지고 알아보지 못해서 마음 한켠에 쌓아두고 있었던 궁금증을 해결해보려 합니다.<br>\n관련해서 너무나도 잘 정리해두신 글이 있어 읽어보며 정리해보려 합니다.</p>\n<h1>@Valid &#x26; @Validated 너흰 뭐가 다르니?</h1>\n<p>요약하자면 <code class=\"language-text\">@Validated</code>는 Controller에서 직접적으로 유효성 검증을 처리하도록 하는 어노테이션이 아닙니다.<br>\nController에서 직접적으로 유효성 검증을 처리하는 어노테이션은 <code class=\"language-text\">@Valid</code>입니다.  </p>\n<p>여기서 이런 의문을 가질 수도 있습니다. <del>(제 얘기라는 건 안비밀)</del><br>\n??? : 나는 <code class=\"language-text\">@validated</code> 어노테이션써도 정상적으로 유효성 처리가 돼서 <code class=\"language-text\">400 Bad Request</code>가 내려오던데?<br>\n그 이유는 <code class=\"language-text\">@ValidSYSNAR</code>와 같이 <code class=\"language-text\">@Valid~~</code>로 시작하는 어노테이션이 있을 경우 유효성 검사를 해주기 때문입니다.<br>\n결과적으로 저는 예외처리 기술을 \"제대로\" 사용하고 있지는 못했던 거죠.</p>\n<h1>@Valid</h1>\n<p>자 이제 제대로 <code class=\"language-text\">@Valid</code> 어노테이션의 동작방식에 대해 제대로 알아봅시다.  </p>\n<p>정리에 앞서 <code class=\"language-text\">@Valid</code> 어노테이션은 JSR 303(Java Specification Requests) 스펙으로 Bean Validator를 이용해 객체의 제약조건을 검증하도록 지시하는 어노테이션 입니다!<br>\nSpring Validation에서는\n관련해 더 자세한 사항은 <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/validation.html\">스프링 공식문서</a>를 통해 확인이 가능합니다.\n<img src=\"../../../../images/2022-09-03-23-07-11.png\"></p>\n<h2>@Valid의 동작원리</h2>\n<p>Spring으로 들어오는 모든 요청은 Front-Controller Pattern을 구현한 <code class=\"language-text\">Dispatcher-Servlet</code>으로 들어오게 됩니다.<br>\n이후 이 Dispatch-Servlet이 다른 Controller에 요청을 전달하는 과정에서 Controller 메소드의 객체를 만들어주는 ArgumentResolver가 동작하게 됩니다.<br>\n컨트롤러 메소드 앞에 붙어있는 <code class=\"language-text\">@Valid</code> 또한 이때 처리하게 됩니다.</p>\n<!-- 내 언어로 수정필요 -->\n<p>대표적으로 @RequestBody는 Json 메세지를 객체로 변환해주는 작업이 ArgumentResolver의 구현체인  \nRequestResponseBodyMethodProcessor가 처리하며, 이 내부에서 @Valid로 시작하는 어노테이션이 있을 경우에 유효성 검사를 진행한다.<br>\n(이러한 이유로 @Valid가 아니라 커스텀 어노테이션인 @ValidXXXX여도 동작한다.)<br>\n만약 @ModelAttribute를 사용중이라면 ModelAttributeMethodProcessor에 의해 @Valid가 처리된다.</p>\n<p>그리고 검증에 오류가 있다면 MethodArgumentNotValidException 예외가 발생하게 되고, 디스패처 서블릿에 기본으로 등록된 예외 리졸버(Exception Resolver)인 DefaultHandlerExceptionResolver에 의해 400 BadRequest 에러가 발생한다.</p>\n<p>이러한 이유로 @Valid는 기본적으로 컨트롤러에서만 동작하며 기본적으로 다른 계층에서는 검증이 되지 않는다. 다른 계층에서 파라미터를 검증하기 위해서는 @Validated와 결합되어야 하는데, 아래에서 @Validated와 함께 자세히 살펴보도록 하자.</p>\n<!-- 내 언어로 수정필요 -->\n<h1>@Validated</h1>\n<p>앞서 설명했다시피 Spring의 기본적인 유효성 검증은 Controller에서 이루어진다.<br>\n다만, Controller뿐만 아니라 다른 영역(Service, Repository)에서도 유효성 검증을 필요로 할 수 있다.<br>\n이러한 요구사항을 만족시키기 위해 사용하는 것이 <code class=\"language-text\">@Validated</code> 어노테이션 입니다.\n<img src=\"../../../../images/2022-09-03-23-08-33.png\"></p>\n<h2>출처 :</h2>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/validation.html\">스프링 공식문서 - 7. Validate</a><br>\n<a href=\"https://mangkyu.tistory.com/174\">[Spring] @Valid와 @Validated를 이용한 유효성 검증의 동작 원리 및 사용법 예시</a>  </p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n</style>"},{"url":"/posts/spring/java-unsupported-operation-exception/","relativePath":"posts/spring/java-unsupported-operation-exception.md","relativeDir":"posts/spring","base":"java-unsupported-operation-exception.md","name":"java-unsupported-operation-exception","frontmatter":{"title":"Java - UnsupportedOperationException","excerpt":"","date":"2022-09-27","thumb_img_path":"images/javaLogo.png","thumb_img_alt":"javaLogo","content_img_path":"images/javaLogo.png","content_img_alt":"javaLogo","seo":{"title":"Gradle plugins vs build script","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"React 시작하기","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/jpaLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>개요</h1>\n<p>프로젝트를 하면서 <code class=\"language-text\">Arrays.asList()</code>를 사용해 생성한 리스트에 값을 추가할 수 없는 문제가 있었다.<br>\n그냥 넘어갈 수도 있었지만 Java의 Collection Framework에 대해 깊이 공부해본 적이 없기도 하고 동작원리가 궁금해서 찾아보게 되었다.</p>\n<br>\n<h2>요약</h2>\n<ol>\n<li><code class=\"language-text\">Arrays.asList()</code>, <code class=\"language-text\">List.of()</code>는 크기를 변경할 수 없다. 테스트 코드에 용이하다.</li>\n<li><code class=\"language-text\">Arrays.asList()</code>는 null 값을 저장할 수 있지만, <code class=\"language-text\">List.of()</code>는 저장할 수 없다.</li>\n<li><code class=\"language-text\">new ArrayList&lt;>()</code>의 경우 원본 배열을 새로운 메모리 주소값에 할당하는 깊은 복사를 사용한다.</li>\n</ol>\n<br>\n<h2>문제</h2>\n<p>문제를 맞닥뜨렸을 때의 생각은 이랬다. <code class=\"language-text\">List.of()</code>, <code class=\"language-text\">Arrays.asList()</code>, <code class=\"language-text\">new ArrayList()</code> 모두 List를 반환하는데 왜 ArrayList만 유동적인 갖지?  </p>\n<br>\n<h2>문제 정의</h2>\n<p>조금 생각해보니 List는 그저 Interface일 뿐이기 때문에 이를 구현하는 구현체 간의 차이점 때문일 것이라고 생각했다.<br>\n그럼에도 확실하게 \"이것 때문이다!\"라는 답을 얻을 수 없어서 구현체 간의 차이점을 직접 찾아봄으로써 해결하고자 했다.\n그러기 위해 우선 각 경우에 대한 테스트 코드를 통해 명확히 문제를 정의했다.</p>\n<p>테스트 코드는 <a href=\"https://github.com/sysnar/blog-codes/blob/main/java/src/test/java/arraylist/ArrayListTest.java\">Github 코드 저장소</a>에서 돌려볼 수 있습니다.</p>\n<br>\n<h2>Array</h2>\n<p>JavaScript와는 다르게 Java의 배열은 사이즈가 고정적이다.<br>\n그렇기 때문에 아래와 같이 명시적으로 크기가 고정된 배열에 값을 추가하려고 하면 컴파일 에러가 발생한다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"java\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">Integer</span><span class=\"mtk1\">[] </span><span class=\"mtk12\">integers</span><span class=\"mtk1\"> = {</span><span class=\"mtk7\">1</span><span class=\"mtk1\">, </span><span class=\"mtk7\">2</span><span class=\"mtk1\">, </span><span class=\"mtk7\">3</span><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// integers.add(4); (컴파일 에러)</span></span></span></code></pre>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"java\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Test</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Array_add_Should_throw_error</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// given</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">Integer</span><span class=\"mtk1\">[] </span><span class=\"mtk12\">integers</span><span class=\"mtk1\"> = {</span><span class=\"mtk7\">1</span><span class=\"mtk1\">, </span><span class=\"mtk7\">2</span><span class=\"mtk1\">, </span><span class=\"mtk7\">3</span><span class=\"mtk1\">};</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// when &amp; then</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// integers.add(4);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// 위와 같은 경우에는 컴파일 에러가 발생한다.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">assertThat</span><span class=\"mtk1\">(integers[</span><span class=\"mtk7\">1</span><span class=\"mtk1\">]).</span><span class=\"mtk11\">isEqualTo</span><span class=\"mtk1\">(</span><span class=\"mtk7\">2</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">assertThrows</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk12\">ArrayIndexOutOfBoundsException</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            () </span><span class=\"mtk4\">-&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                </span><span class=\"mtk10\">int</span><span class=\"mtk1\"> </span><span class=\"mtk12\">noneExistElement</span><span class=\"mtk1\"> = integers[</span><span class=\"mtk7\">3</span><span class=\"mtk1\">];</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>이렇게 고정적인 배열의 단점을 극복하기 위해 Java는 <code class=\"language-text\">Collection Framework</code>를 지원한다.\nList, Map, Set 등의 자료구조에 대한 Interface를 정의하고 있다. 이중 List 자료구조를 구현하는 구현체 중 하나인 <code class=\"language-text\">ArrayList</code>에 대해서 더 깊게 알아보고자 한다.</p>\n<br>\n<h2>Arrays.asList()</h2>\n<p><code class=\"language-text\">Arrays.asList()</code> 매서드의 내부 구현을 보면 ArrayList 클래스를 return하고 있는 것을 알 수 있다. new ArrayList()와 동일한 타입인데 동작은 다르다니 말이 되지 않는다고 생각할 수 있지만 이것에는 함정이 있다.\n<img src=\"../../../images/2022-09-27-22-54-58.png\">\n<img src=\"../../../images/2022-09-27-22-59-39.png\">\n위 사진을 보면 Arrays 클래스에는 ArrayList라는 Inner Class가 존재한다. 앞서 혼란을 주었던 <code class=\"language-text\">Arrays.asList()</code> 매서드가 return하고 있는 ArrayList의 정체가 바로 이녀석인 것이다.</p>\n<p>그렇다면 이제 아래와 같이 배열에 원소를 추가하려할 때 예외가 발생하는 이유에 대해 알아보자.\n원인은 바로 Inner Class인 ArrayList가 상속하고 있는 <code class=\"language-text\">AbstractList</code>에 있다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"java\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Test</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">Arrays_asList_add_Should_throw_error</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// given</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">List</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">Integer</span><span class=\"mtk1\">&gt; </span><span class=\"mtk12\">integers</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">Arrays</span><span class=\"mtk1\">.</span><span class=\"mtk11\">asList</span><span class=\"mtk1\">(</span><span class=\"mtk7\">1</span><span class=\"mtk1\">, </span><span class=\"mtk7\">2</span><span class=\"mtk1\">, </span><span class=\"mtk7\">3</span><span class=\"mtk1\">, </span><span class=\"mtk7\">4</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// when &amp; then</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">assertThrows</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk12\">UnsupportedOperationException</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            () </span><span class=\"mtk4\">-&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk12\">integers</span><span class=\"mtk1\">.</span><span class=\"mtk11\">add</span><span class=\"mtk1\">(</span><span class=\"mtk7\">5</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>AbstractList 클래스는 List Interface가 제공해야할 기본적인 메서드들을 구현하고 있다. 이때 구현된 메서드는 아래와 같이 <code class=\"language-text\">UnsupportedOperationException</code> 예외를 발생시키고 있다. 따라서 AbstractList를 상속하고 구현하지 않은 <strong>Inner Class: ArrayList</strong> 클래스는 add와 같은 기본적인 List 인터페이스 메서드를 실행하면 예외가 터지게 되는 것이다.\n<img src=\"../../../images/2022-09-27-23-05-34.png\"></p>\n<br>\n<h2>List.of()</h2>\n<p>그렇다면 <code class=\"language-text\">List.of()</code> 메서드의 경우에는 아래 테스트 코드와 같이 문제가 발생하는 것일까?  </p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"java\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Test</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">List_add_Should_throw_error</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// given</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">List</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">Integer</span><span class=\"mtk1\">&gt; </span><span class=\"mtk12\">integers</span><span class=\"mtk1\"> = </span><span class=\"mtk12\">List</span><span class=\"mtk1\">.</span><span class=\"mtk11\">of</span><span class=\"mtk1\">(</span><span class=\"mtk7\">1</span><span class=\"mtk1\">, </span><span class=\"mtk7\">2</span><span class=\"mtk1\">, </span><span class=\"mtk7\">3</span><span class=\"mtk1\">, </span><span class=\"mtk7\">4</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// when &amp; then</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">assertThrows</span><span class=\"mtk1\">(</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            </span><span class=\"mtk12\">UnsupportedOperationException</span><span class=\"mtk1\">.</span><span class=\"mtk12\">class</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            () </span><span class=\"mtk4\">-&gt;</span><span class=\"mtk1\"> </span><span class=\"mtk12\">integers</span><span class=\"mtk1\">.</span><span class=\"mtk11\">add</span><span class=\"mtk1\">(</span><span class=\"mtk7\">5</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    );</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>그 이유는 <code class=\"language-text\">Arrays.asList()</code>의 경우와 같다. <code class=\"language-text\">List.of()</code> 메서드도 ArrayList 클래스와 같이 <code class=\"language-text\">UnsupportedOperationException</code>을 던지는 기본 클래스를 반환하고 있기 때문이다. <code class=\"language-text\">List.of()</code> 메서드는 파라미터 개수에 따라 List12 또는 ListN이라는 클래스를 생성하는데 이들 모두가 <code class=\"language-text\">AbstractImmutableList</code>클래스를 상속받고 있다.\n<img src=\"../../../images/2022-09-27-23-13-52.png\"></p>\n<br>\n<h2>new ArrayList()</h2>\n<p>그럼 유연하게 원소를 추가할 수 있었던 ArrayList 클래스는 과연 어떻게 아래 테스트코드와 같이 동작하고 있는지 궁금해지기 마련이다. </p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"java\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">@</span><span class=\"mtk10\">Test</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">void</span><span class=\"mtk1\"> </span><span class=\"mtk11\">ArrayList_add_Should_be_added</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// given</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk10\">List</span><span class=\"mtk1\">&lt;</span><span class=\"mtk10\">Integer</span><span class=\"mtk1\">&gt; </span><span class=\"mtk12\">integers</span><span class=\"mtk1\"> = </span><span class=\"mtk15\">new</span><span class=\"mtk1\"> </span><span class=\"mtk10\">ArrayList</span><span class=\"mtk1\">&lt;&gt;();</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">integers</span><span class=\"mtk1\">.</span><span class=\"mtk11\">add</span><span class=\"mtk1\">(</span><span class=\"mtk7\">1</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">integers</span><span class=\"mtk1\">.</span><span class=\"mtk11\">add</span><span class=\"mtk1\">(</span><span class=\"mtk7\">2</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">integers</span><span class=\"mtk1\">.</span><span class=\"mtk11\">add</span><span class=\"mtk1\">(</span><span class=\"mtk7\">3</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">integers</span><span class=\"mtk1\">.</span><span class=\"mtk11\">add</span><span class=\"mtk1\">(</span><span class=\"mtk7\">4</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// when</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">integers</span><span class=\"mtk1\">.</span><span class=\"mtk11\">add</span><span class=\"mtk1\">(</span><span class=\"mtk7\">5</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">//  then</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk11\">assertThat</span><span class=\"mtk1\">(</span><span class=\"mtk12\">integers</span><span class=\"mtk1\">.</span><span class=\"mtk11\">get</span><span class=\"mtk1\">(</span><span class=\"mtk7\">4</span><span class=\"mtk1\">)).</span><span class=\"mtk11\">isEqualTo</span><span class=\"mtk1\">(</span><span class=\"mtk7\">5</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p>ArrayList는 앞선 두 클래스들과는 다르게 add() 메서드를 구현하고 있다. 이 과정에서 앞선 두 클래스들과는 다른 로직이 있는데, 클래스 내부에 배열을 관리하는 필드가 존재하고 값을 추가할 때마다 이 배열의 크기를 늘려준다는 것이다.<br>\n이 덕분에 앞선 두 클래스들과는 다르게 자료의 크리를 조절할 수 있는 것으로 보인다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"java\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">transient</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">[] </span><span class=\"mtk12\">elementData</span><span class=\"mtk1\">; </span><span class=\"mtk3\">// non-private to simplify nested class access</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">private</span><span class=\"mtk1\"> </span><span class=\"mtk10\">Object</span><span class=\"mtk1\">[] </span><span class=\"mtk11\">grow</span><span class=\"mtk1\">(</span><span class=\"mtk10\">int</span><span class=\"mtk1\"> minCapacity) {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk15\">return</span><span class=\"mtk1\"> elementData = </span><span class=\"mtk12\">Arrays</span><span class=\"mtk1\">.</span><span class=\"mtk11\">copyOf</span><span class=\"mtk1\">(elementData,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                                        </span><span class=\"mtk11\">newCapacity</span><span class=\"mtk1\">(minCapacity));</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h1>정리</h1>\n<p>사용만 하던 기능들의 실제 동작원리를 구현 레벨에서 분석해가며 확인해보니, 문제가 될 수 있는 지점을 정확하게 알고 사용할 수 있게 되었다.<br>\n역시 기술, 기능의 단순 사용법 보다는 그 원론적인 이유, 원리에 입각해 공부하는 것이 중요함을 다시 한번 깨닫게 되는 순간이었다.</p>\n<p>출처 : <a href=\"https://kim-jong-hyun.tistory.com/31\">new ArrayList&#x3C;>()와 Arrays.asList()와 List.of()</a>  </p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk10 { color: #4EC9B0; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk12 { color: #9CDCFE; }\n  .dark-default-dark .mtk7 { color: #B5CEA8; }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk15 { color: #C586C0; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"},{"url":"/posts/database/order-by-same-value/","relativePath":"posts/database/order-by-same-value.md","relativeDir":"posts/database","base":"order-by-same-value.md","name":"order-by-same-value","frontmatter":{"title":"ORDER BY & LIMIT (PostgreSQL)","excerpt":"","date":"2022-10-12","thumb_img_path":"images/database-image.jpeg","thumb_img_alt":"reactLogo","content_img_path":"images/database-image.jpeg","content_img_alt":"reactLogo","seo":{"title":"ORDER BY & LIMIT (PostgreSQL)","description":"react start","extra":[{"name":"og:type","value":"article","keyName":"property"},{"name":"og:title","value":"엄마가 좋아? 아빠가 좋아? (MySQL VS PostgreSQL)","keyName":"property"},{"name":"og:description","value":"react start","keyName":"property"},{"name":"og:image","value":"images/jpaLogo.png","keyName":"property","relativeUrl":true},{"name":"twitter:card","value":"summary_large_image"},{"name":"twitter:title","value":"React 시작하기"},{"name":"twitter:description","value":"react start"},{"name":"twitter:image","value":"images/reactLogo.png","relativeUrl":true}]},"template":"post"},"html":"<h1>개요</h1>\n<p>회사에서 리더보드를 제작하면서 같은 점수를 획득한 팀이 아래의 예시와 같이 다르게 정렬되는 문제가 있었다.\n문제가 발생한 쿼리는 점수를 기준으로 정렬하여 가장 높은 점수를 얻은 팀이 1위가 되도록 조회하는 쿼리였다.  </p>\n<p>아래와 같이 전체 순위를 조회하는 쿼리와 상위 5개 팀만을 조회하는 쿼리의 정렬결과가 다른 것을 볼 수 있다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">-- SELECT * FROM leaderboard ORDER BY score desc</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">| id | team_name | score |     submit_at     |</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">|--------------------------------------------|</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">|  1 |  아싸가오리  |  80   |2022-09-06 06:46:19|</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">|  2 |  혼자왔어요  |  80   |2022-09-06 06:46:19|</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">|  3 |   등차수열  |   80  |2022-09-06 06:46:19|</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">|  4 |    ABBA   |  80   |2022-09-06 06:46:19|</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">|  5 |    상도덕   |  79   |2022-09-06 06:46:19|</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">... (+ xxx개)</span></span></code></pre>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">-- SELECT * FROM leaderboard ORDER BY score desc LIMIT 5</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">| id | team_name | score |     submit_at     |</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">|--------------------------------------------|</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">|  4 |    ABBA   |  80   |2022-09-06 06:46:19|</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">|  1 |  아싸가오리  |  80   |2022-09-06 06:46:19|</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">|  3 |   등차수열  |   80  |2022-09-06 06:46:19|</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">|  2 |  혼자왔어요  |  80   |2022-09-06 06:46:19|</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">|  5 |    상도덕   |  79   |2022-09-06 06:46:19|</span></span></code></pre>\n<br/>\n<h1>원인분석</h1>\n<p>이러한 문제가 발생하는 원인은 정렬하고자 하는 순서를 명확하게 제공하지 않았다는 점에 있다.<br>\n<code class=\"language-text\">ORDER BY</code>의 기준이 되는 컬럼이 고유값을 가지지 않기 때문에 명확하게 정렬되지 않고 옵티마이저가 결정하는 최적의 방법에 따라 정렬된다.<br>\n이때 옵티마이저는 정렬하고자 하는 row의 수 또는 LIMIT 절 존재여부 등에 맞춰 정렬을 위한 최적의 방법을 결정짓는다.  </p>\n<p>이렇게 상황별로 정렬을 위한 방법이 변경되기 때문에 결과값이 무작위로 값이 정렬되는 것으로 보이는 것이다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">   사용자 : 점수를 기준으로 정렬해줘!  </span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">옵티마이저 : 넵!   </span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">          (진행중)  </span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">          엇 중복되는 값이 있네...? </span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">          정렬하는 row 수도 적은데 빠른 A방법으로 정렬하자!</span></span></code></pre>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">   사용자 : 점수를 기준으로 정렬하는데 결과값은 5개만 줘!  </span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">옵티마이저 : 넵!   </span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">          (진행중)  </span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">          엇 중복되는 값이 있는데 ? </span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">          결과값 제한이 있네~ 이런 경우에는 B방법으로 정렬하자!</span></span></code></pre>\n<br/>     \n<h1>해결방법</h1>\n<p>정렬하고자 하는 컬럼에 중복값이 존재한다면 반드시 고유값을 가지는 컬럼을 <code class=\"language-text\">ORDER BY</code> 조건 마지막에 추가해주자.<br>\n아래의 예제처럼 수정해준다면 중복값이 제멋대로 정렬되는 문제를 해결할 수 있을 것이다!</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">(기존)</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SELECT * FROM leaderboard ORDER BY score desc</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">(수정) + submit_at 조건 추가</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">SELECT * FROM leaderboard ORDER BY score desc, submit_at asc</span></span></code></pre>\n<br/>\n<h1>심층분석</h1>\n<p>그러나 사전적인 지식만을 습득하는 것과 정확한 원인과 동작방식을 이해하는 것은 별개의 일이다. 그렇기 때문에 더 정확한 동작원리를 공부해보자.  </p>\n<p>우선 PostgreSQL의 sort 알고리즘은 아래와 같이 3가지가 있다. 하나씩 차근차근 알아보자.</p>\n<ul>\n<li>Quick Sort </li>\n<li>Heap Sort</li>\n<li>Merge Sort</li>\n</ul>\n<br/>\n<h3>사전 세팅</h3>\n<p>직접적으로 실행계획을 찍어보며 옵티마이저 동작방식을 확인하기 위한 데이터를 생성한다.<br>\n데이터는 <code class=\"language-text\">아이디(id)</code>, <code class=\"language-text\">팀명(team_name)</code>, <code class=\"language-text\">점수(score)</code>, <code class=\"language-text\">제출일(submit_at)</code>로 이루어져있다. 팀명, 점수는 중복될 수 있지만 아이디, 제출일은 중복되지 않는 값으로 채워져있다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"sql\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">-- (1) 테이블 생성</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">CREATE</span><span class=\"mtk1\"> </span><span class=\"mtk4\">TABLE</span><span class=\"mtk1\"> leaderboard(id </span><span class=\"mtk4\">int</span><span class=\"mtk1\">, team_name </span><span class=\"mtk4\">varchar</span><span class=\"mtk1\">(</span><span class=\"mtk7\">20</span><span class=\"mtk1\">), score </span><span class=\"mtk4\">int</span><span class=\"mtk1\">, submit_at </span><span class=\"mtk4\">timestamp</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">-- (2) 테스트 데이터 삽입 (점수 80점)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">INSERT</span><span class=\"mtk1\"> </span><span class=\"mtk4\">INTO</span><span class=\"mtk1\"> leaderboard(id, team_name, score, submit_at)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">select</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    ids.idx </span><span class=\"mtk4\">as</span><span class=\"mtk1\"> id,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    array_to_string(ARRAY(</span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> chr(</span><span class=\"mtk7\">65</span><span class=\"mtk1\"> + </span><span class=\"mtk11\">round</span><span class=\"mtk1\">(ids.idx % </span><span class=\"mtk7\">26</span><span class=\"mtk1\">) :: </span><span class=\"mtk4\">integer</span><span class=\"mtk1\">) </span><span class=\"mtk4\">FROM</span><span class=\"mtk1\"> generate_series(</span><span class=\"mtk7\">1</span><span class=\"mtk1\">,</span><span class=\"mtk7\">5</span><span class=\"mtk1\">)), </span><span class=\"mtk8\">&#39;&#39;</span><span class=\"mtk1\">) </span><span class=\"mtk4\">as</span><span class=\"mtk1\"> team_name,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">80</span><span class=\"mtk1\"> </span><span class=\"mtk4\">as</span><span class=\"mtk1\"> score,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    (dates.date + interval </span><span class=\"mtk8\">&#39;2 HOUR&#39;</span><span class=\"mtk1\"> * ids.idx) </span><span class=\"mtk4\">as</span><span class=\"mtk1\"> submit_at</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">from</span><span class=\"mtk1\"> ( </span><span class=\"mtk4\">select</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;2022-01-01&#39;</span><span class=\"mtk1\">::</span><span class=\"mtk4\">date</span><span class=\"mtk1\"> </span><span class=\"mtk4\">as</span><span class=\"mtk1\"> </span><span class=\"mtk4\">date</span><span class=\"mtk1\"> ) dates</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">cross</span><span class=\"mtk1\"> </span><span class=\"mtk4\">join</span><span class=\"mtk1\"> ( </span><span class=\"mtk4\">select</span><span class=\"mtk1\"> generate_series(</span><span class=\"mtk7\">0</span><span class=\"mtk1\">, </span><span class=\"mtk7\">100</span><span class=\"mtk1\">) </span><span class=\"mtk4\">as</span><span class=\"mtk1\"> idx ) ids;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">-- (3) 테스트 데이터 삽입 (점수 60점)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">INSERT</span><span class=\"mtk1\"> </span><span class=\"mtk4\">INTO</span><span class=\"mtk1\"> leaderboard(id, team_name, score, submit_at)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">SELECT</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    ids.idx </span><span class=\"mtk4\">AS</span><span class=\"mtk1\"> id,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    array_to_string(ARRAY(</span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> chr(</span><span class=\"mtk7\">65</span><span class=\"mtk1\"> + </span><span class=\"mtk11\">round</span><span class=\"mtk1\">(ids.idx % </span><span class=\"mtk7\">26</span><span class=\"mtk1\">) :: </span><span class=\"mtk4\">integer</span><span class=\"mtk1\">) </span><span class=\"mtk4\">FROM</span><span class=\"mtk1\"> generate_series(</span><span class=\"mtk7\">1</span><span class=\"mtk1\">,</span><span class=\"mtk7\">5</span><span class=\"mtk1\">)), </span><span class=\"mtk8\">&#39;&#39;</span><span class=\"mtk1\">) </span><span class=\"mtk4\">AS</span><span class=\"mtk1\"> team_name,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">60</span><span class=\"mtk1\"> </span><span class=\"mtk4\">AS</span><span class=\"mtk1\"> score,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    (dates.date + interval </span><span class=\"mtk8\">&#39;2 HOUR&#39;</span><span class=\"mtk1\"> * ids.idx) </span><span class=\"mtk4\">as</span><span class=\"mtk1\"> submit_at</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">FROM</span><span class=\"mtk1\"> ( </span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;2022-03-01&#39;</span><span class=\"mtk1\">::</span><span class=\"mtk4\">DATE</span><span class=\"mtk1\"> </span><span class=\"mtk4\">AS</span><span class=\"mtk1\"> </span><span class=\"mtk4\">date</span><span class=\"mtk1\"> ) dates</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">CROSS</span><span class=\"mtk1\"> </span><span class=\"mtk4\">JOIN</span><span class=\"mtk1\"> ( </span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> generate_series(</span><span class=\"mtk7\">101</span><span class=\"mtk1\">, </span><span class=\"mtk7\">200</span><span class=\"mtk1\">) </span><span class=\"mtk4\">AS</span><span class=\"mtk1\"> idx ) ids;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">-- (4) 테스트 데이터 삽입 (점수 40점)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">INSERT</span><span class=\"mtk1\"> </span><span class=\"mtk4\">INTO</span><span class=\"mtk1\"> leaderboard(id, team_name, score, submit_at)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">SELECT</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    ids.idx </span><span class=\"mtk4\">AS</span><span class=\"mtk1\"> id,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    array_to_string(ARRAY(</span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> chr(</span><span class=\"mtk7\">65</span><span class=\"mtk1\"> + </span><span class=\"mtk11\">round</span><span class=\"mtk1\">(ids.idx % </span><span class=\"mtk7\">26</span><span class=\"mtk1\">) :: </span><span class=\"mtk4\">integer</span><span class=\"mtk1\">) </span><span class=\"mtk4\">FROM</span><span class=\"mtk1\"> generate_series(</span><span class=\"mtk7\">1</span><span class=\"mtk1\">,</span><span class=\"mtk7\">5</span><span class=\"mtk1\">)), </span><span class=\"mtk8\">&#39;&#39;</span><span class=\"mtk1\">) </span><span class=\"mtk4\">AS</span><span class=\"mtk1\"> team_name,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">40</span><span class=\"mtk1\"> </span><span class=\"mtk4\">AS</span><span class=\"mtk1\"> score,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    (dates.date + interval </span><span class=\"mtk8\">&#39;2 HOUR&#39;</span><span class=\"mtk1\"> * ids.idx) </span><span class=\"mtk4\">as</span><span class=\"mtk1\"> submit_at</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">FROM</span><span class=\"mtk1\"> ( </span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;2022-06-01&#39;</span><span class=\"mtk1\">::</span><span class=\"mtk4\">DATE</span><span class=\"mtk1\"> </span><span class=\"mtk4\">AS</span><span class=\"mtk1\"> </span><span class=\"mtk4\">date</span><span class=\"mtk1\"> ) dates</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">CROSS</span><span class=\"mtk1\"> </span><span class=\"mtk4\">JOIN</span><span class=\"mtk1\"> ( </span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> generate_series(</span><span class=\"mtk7\">201</span><span class=\"mtk1\">, </span><span class=\"mtk7\">300</span><span class=\"mtk1\">) </span><span class=\"mtk4\">AS</span><span class=\"mtk1\"> idx ) ids;</span></span></span></code></pre>\n<p><img src=\"../../../images/2022-10-17-22-49-22.png\"></p>\n<br/>\n<hr>\n<h3>Index Scan</h3>\n<p>인덱스가 걸린 컬럼을 기준으로 <code class=\"language-text\">ORDER BY</code>시 데이터 테이블을 읽지 않고 인덱스 테이블을 읽게 되며 정렬 기준은 인덱스를 따릅니다.</p>\n<ol>\n<li>실습을 위해 생성한 테이블에 인덱스를 생성해준다. </li>\n<li>인덱스가 걸린 <code class=\"language-text\">score</code> 컬럼을 기준으로 정렬하는 쿼리의 실행 계획을 분석한다.  </li>\n<li>인덱스가 적용된 컬럼을 기준으로 정렬을 요청했기 때문에 실행계획에 별도의 정렬로직이 사용하지 않고 있음을 확인할 수 있으며, <code class=\"language-text\">score_idx</code> 인덱스를 기준으로 정렬되었음을 알 수 있다.  </li>\n<li>결과를 확인했으면 인덱스를 지워 이후 쿼리에 영향이 없도록 수정해준다.</li>\n</ol>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"sql\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">-- (1) 인덱스 존재 여부 조회 후 없을 경우 생성</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">postgres.public&gt; </span><span class=\"mtk4\">select</span><span class=\"mtk1\"> * </span><span class=\"mtk4\">from</span><span class=\"mtk1\"> pg_indexes </span><span class=\"mtk4\">where</span><span class=\"mtk1\"> tablename= </span><span class=\"mtk8\">&#39;leaderboard&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">postgres.public&gt; </span><span class=\"mtk4\">create</span><span class=\"mtk1\"> index score_idx </span><span class=\"mtk4\">on</span><span class=\"mtk1\"> leaderboard </span><span class=\"mtk4\">using</span><span class=\"mtk1\"> btree(score)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">-- (2) 실행계획 조회 &amp; (3) 실행계획 결과</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">postgres.public&gt; EXPLAIN ANALYZE</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                 </span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> ctid, id, team_name, score, submit_at </span><span class=\"mtk4\">FROM</span><span class=\"mtk1\"> leaderboard </span><span class=\"mtk4\">ORDER BY</span><span class=\"mtk1\"> score </span><span class=\"mtk4\">DESC</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">QUERY PLAN</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">---------------------------------------------------------------------------------------------------------------------------</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Index Scan Backward </span><span class=\"mtk4\">using</span><span class=\"mtk1\"> score_idx </span><span class=\"mtk4\">on</span><span class=\"mtk1\"> leaderboard  (cost=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">15</span><span class=\"mtk1\">..</span><span class=\"mtk7\">63</span><span class=\"mtk1\">.</span><span class=\"mtk7\">48</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">1301</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">27</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">013</span><span class=\"mtk1\">..</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">197</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">1301</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Planning </span><span class=\"mtk4\">Time</span><span class=\"mtk1\">: </span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">040</span><span class=\"mtk1\"> ms</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Execution </span><span class=\"mtk4\">Time</span><span class=\"mtk1\">: </span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">240</span><span class=\"mtk1\"> ms</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">-- (4) 인덱스 제거</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">postgres.public&gt;  </span><span class=\"mtk4\">drop</span><span class=\"mtk1\"> index score_idx</span></span></span></code></pre>\n<p><img src=\"../../../images/2022-10-17-22-39-45.png\"></p>\n<br/>\n<hr>\n<h3>Quick Sort</h3>\n<p>쿼리가 Index를 사용하지 않고 정렬하고자 하는 데이터의 크기가 작을 경우에 옵티마이저는 <code class=\"language-text\">Quick Sort</code> 알고리즘을 선택해 정렬한다.<br>\n* 여기서 데이터의 크기가 작은 경우는 데이터를 정렬하기 위해 필요한 메모리의 크기가 DB에 설정된 <code class=\"language-text\">work_mem</code>보다 작은 경우를 의미한다.<br>\n* <code class=\"language-text\">work_mem</code>이란 PostgreSQL DB가 정렬/해시/조인 등의 작업을 처리할 때 사용할 수 있는 메모리의 크기를 의미하며, 여러 정렬/해시/조인 작업이 함께 일어난다면 각각 메모리가 사용된다.<br>\n* <code class=\"language-text\">work_mem</code>의 기본값은 4MB이며 설정은 1GB / (max_connections * 2) 정도가 적당하다고 한다.\n* 예) 1GB / 100 커넥션 = 1024 * ( 100 * 2 ) = 5.12 (MB) = 5MB</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"sql\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">-- (1) DB에서 정렬 시 사용 가능한 메모리 출력</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">postgres.public&gt; SHOW work_mem</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> work_mem</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">------------</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> 4MB</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">-- (2) Quick Sort 정렬 사용</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">postgres.public&gt;  EXPLAIN ANALYZE </span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                  </span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> ctid, id, team_name, score, submit_at </span><span class=\"mtk4\">FROM</span><span class=\"mtk1\"> leaderboard </span><span class=\"mtk4\">ORDER BY</span><span class=\"mtk1\"> score </span><span class=\"mtk4\">DESC</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">   QUERY PLAN</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">---------------------------------------------------------------------------------------------------------------------------</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Sort  (cost=</span><span class=\"mtk7\">56</span><span class=\"mtk1\">.</span><span class=\"mtk7\">58</span><span class=\"mtk1\">..</span><span class=\"mtk7\">58</span><span class=\"mtk1\">.</span><span class=\"mtk7\">58</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">800</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">80</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">091</span><span class=\"mtk1\">..</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">103</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">301</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  Sort </span><span class=\"mtk4\">Key</span><span class=\"mtk1\">: score </span><span class=\"mtk4\">DESC</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  Sort Method: quicksort  Memory: 48kB</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  -&gt;  Seq Scan </span><span class=\"mtk4\">on</span><span class=\"mtk1\"> leaderboard  (cost=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">00</span><span class=\"mtk1\">..</span><span class=\"mtk7\">18</span><span class=\"mtk1\">.</span><span class=\"mtk7\">00</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">800</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">80</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">008</span><span class=\"mtk1\">..</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">041</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">301</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Planning </span><span class=\"mtk4\">Time</span><span class=\"mtk1\">: </span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">057</span><span class=\"mtk1\"> ms</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Execution </span><span class=\"mtk4\">Time</span><span class=\"mtk1\">: </span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">122</span><span class=\"mtk1\"> ms</span></span></span></code></pre>\n<p>위 쿼리를 실행해보고 실행계획을 간단하게 이해해보면 다음과 같습니다.  </p>\n<ol>\n<li>우리가 테스트하고 있는 DB는 <code class=\"language-text\">work_mem</code>이 4MB로 설정되어 있다.</li>\n<li><code class=\"language-text\">Sort Method: quicksort  Memory: 150kB</code> 부분을 통해 알 수 있듯이 정렬 시 메모리 150kB를 사용하게 된다. </li>\n<li>이때 쿼리는 사용할 수 있는 메모리 크기인 4MB를 초과하지도 않고 LIMIT 조건 또한 존재하지 않기 때문에 옵티마이저는 Quick Sort 알고리즘을 사용해 정렬하게 된다.</li>\n<li>결과적으로 Sort Method로 quicksort가 사용된 것을 확인할 수 있다.</li>\n</ol>\n<p>아래는 Quick Sort를 사용한 조회 쿼리 실행시 출력되는 쿼리 결과입니다.\n<img src=\"../../../images/2022-10-17-23-34-33.png\"></p>\n<br/>\n<hr>\n<h3>Heap Sort - 1</h3>\n<p>쿼리에 LIMIT 절이 포함되고 정렬하기 위해 필요한 메모리 크기가 <code class=\"language-text\">work_mem</code>보다  작은 경우 옵티마이저는 <code class=\"language-text\">Heap Sort</code> 알고리즘을 선택해 정렬한다.</p>\n<p>앞선 쿼리들과 마찬가지로 실행계획을 분석해보면 아래와 같습니다.</p>\n<ol>\n<li>테스트하고 있는 DB는 work_mem이 4MB로 설정되어 있다.</li>\n<li>다른 것은 모두 동일하지만 쿼리에 LIMIT 절이 사용되었으며, 쿼리 실행 시 메모리는 28kB를 사용한다.</li>\n<li>쿼리는 사용할 수 있는 메모리를 초과하지 않았고, LIMIT 조건이 사용되었기 때문에 옵티마이저는 Heap Sort 알고리즘을 사용하도록 결정한다.</li>\n<li>결과적으로 Sort Method로는 top-N heapsort가 사용된 것을 확인할 수 있다.</li>\n</ol>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"sql\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">-- (1) DB에서 정렬 시 사용 가능한 메모리 출력</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">postgres.public&gt; SHOW work_mem</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> work_mem</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">------------</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> 4MB</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">-- (2) Heap Sort 정렬 사용 (LIMIT 10 &amp; OFFSET 0)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">postgres.public&gt;  EXPLAIN ANALYZE</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                  </span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> ctid, id, team_name, score, submit_at </span><span class=\"mtk4\">FROM</span><span class=\"mtk1\"> leaderboard </span><span class=\"mtk4\">ORDER BY</span><span class=\"mtk1\"> score </span><span class=\"mtk4\">DESC</span><span class=\"mtk1\"> </span><span class=\"mtk4\">LIMIT</span><span class=\"mtk1\"> </span><span class=\"mtk7\">10</span><span class=\"mtk1\"> OFFSET </span><span class=\"mtk7\">0</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">QUERY PLAN</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">---------------------------------------------------------------------------------------------------------------------------</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">Limit</span><span class=\"mtk1\">  (cost=</span><span class=\"mtk7\">11</span><span class=\"mtk1\">.</span><span class=\"mtk7\">51</span><span class=\"mtk1\">..</span><span class=\"mtk7\">11</span><span class=\"mtk1\">.</span><span class=\"mtk7\">54</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">10</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">28</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">096</span><span class=\"mtk1\">..</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">098</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">10</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  -&gt;  Sort  (cost=</span><span class=\"mtk7\">11</span><span class=\"mtk1\">.</span><span class=\"mtk7\">51</span><span class=\"mtk1\">..</span><span class=\"mtk7\">12</span><span class=\"mtk1\">.</span><span class=\"mtk7\">27</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">301</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">28</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">095</span><span class=\"mtk1\">..</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">096</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">10</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        Sort </span><span class=\"mtk4\">Key</span><span class=\"mtk1\">: score </span><span class=\"mtk4\">DESC</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        Sort Method: </span><span class=\"mtk4\">top</span><span class=\"mtk1\">-N heapsort  Memory: 25kB</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        -&gt;  Seq Scan </span><span class=\"mtk4\">on</span><span class=\"mtk1\"> leaderboard  (cost=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">00</span><span class=\"mtk1\">..</span><span class=\"mtk7\">5</span><span class=\"mtk1\">.</span><span class=\"mtk7\">01</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">301</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">28</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">010</span><span class=\"mtk1\">..</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">044</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">301</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Planning </span><span class=\"mtk4\">Time</span><span class=\"mtk1\">: </span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">042</span><span class=\"mtk1\"> ms</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Execution </span><span class=\"mtk4\">Time</span><span class=\"mtk1\">: </span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">111</span><span class=\"mtk1\"> ms</span></span></span></code></pre>\n<p>이제 조회 결과를 봐보면 앞서서 Quick Sort를 사용해 정렬했을 때와는 달리 뭔가 다른 점이 있는 것 알 수 있다. 첫번째 row에 있던 <code class=\"language-text\">ctid(0,1)</code>이 가장 뒤로 빠지게 되었다.<br>\n쿼리에 LIMIT, OFFSET 조건이 추가됨에 따라 정렬 알고리즘이 <code class=\"language-text\">Quick Sort</code>에서 <code class=\"language-text\">Heap Sort</code>로 바뀌게 되었고, 이에 따라 정렬 결과도 바뀌게 된 것이다.</p>\n<p><img src=\"../../../images/2022-10-18-00-09-34.png\"></p>\n<br/>\n<h3>Heap Sort - 2</h3>\n<p>여기서 더 나아가서 OFFSET 값을 바꾸어 정렬해보면 다음과 같은 결과가 나오는 것을 확인할 수 있다.\n예상대로라면 <code class=\"language-text\">ctid(0,11)</code>이 첫번째로 조회되어야 하지만 이전 페이지에서 조회되었던 ctid(0,1) 중복 조회되는 것을 확인할 수 있다. 이러한 문제의 가장 큰 원인은 <code class=\"language-text\">Quick Sort</code>와 <code class=\"language-text\">Heap Sort</code>가 같은 값을 항상 똑같은 결과대로 정렬하지 못하는 <code class=\"language-text\">Unstable Sorting</code>이기 때문이다.  </p>\n<p>결과적으로 리더보드의 순서가 다르게 출력된 원인은 이렇게 2가지였음을 알게 되었다.</p>\n<ol>\n<li>다른 알고리즘을 사용한 정렬</li>\n<li>Unstable Sorting 알고리즘</li>\n</ol>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"sql\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">-- (3) Heap Sort 정렬 사용 (LIMIT 10 &amp; OFFSET 10)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">postgres.public&gt;  EXPLAIN ANALYZE</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                  </span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> ctid, id, team_name, score, submit_at </span><span class=\"mtk4\">FROM</span><span class=\"mtk1\"> leaderboard </span><span class=\"mtk4\">ORDER BY</span><span class=\"mtk1\"> score </span><span class=\"mtk4\">DESC</span><span class=\"mtk1\"> </span><span class=\"mtk4\">LIMIT</span><span class=\"mtk1\"> </span><span class=\"mtk7\">10</span><span class=\"mtk1\"> OFFSET </span><span class=\"mtk7\">10</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">QUERY PLAN</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">---------------------------------------------------------------------------------------------------------------------------</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">Limit</span><span class=\"mtk1\">  (cost=</span><span class=\"mtk7\">13</span><span class=\"mtk1\">.</span><span class=\"mtk7\">04</span><span class=\"mtk1\">..</span><span class=\"mtk7\">13</span><span class=\"mtk1\">.</span><span class=\"mtk7\">07</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">10</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">28</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">097</span><span class=\"mtk1\">..</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">099</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">10</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  -&gt;  Sort  (cost=</span><span class=\"mtk7\">13</span><span class=\"mtk1\">.</span><span class=\"mtk7\">02</span><span class=\"mtk1\">..</span><span class=\"mtk7\">13</span><span class=\"mtk1\">.</span><span class=\"mtk7\">77</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">301</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">28</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">096</span><span class=\"mtk1\">..</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">097</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">20</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        Sort </span><span class=\"mtk4\">Key</span><span class=\"mtk1\">: score </span><span class=\"mtk4\">DESC</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        Sort Method: </span><span class=\"mtk4\">top</span><span class=\"mtk1\">-N heapsort  Memory: 26kB</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        -&gt;  Seq Scan </span><span class=\"mtk4\">on</span><span class=\"mtk1\"> leaderboard  (cost=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">00</span><span class=\"mtk1\">..</span><span class=\"mtk7\">5</span><span class=\"mtk1\">.</span><span class=\"mtk7\">01</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">301</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">28</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">010</span><span class=\"mtk1\">..</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">044</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">301</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Planning </span><span class=\"mtk4\">Time</span><span class=\"mtk1\">: </span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">041</span><span class=\"mtk1\"> ms</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Execution </span><span class=\"mtk4\">Time</span><span class=\"mtk1\">: </span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">111</span><span class=\"mtk1\"> ms</span></span></span></code></pre>\n<p><img src=\"../../../images/2022-10-18-00-14-05.png\"></p>\n<br/>\n<hr>\n<h3>Merge Sort</h3>\n<p>정렬 시 필요한 데이터의 크기가 <code class=\"language-text\">work_mem</code>보다 클 경우 옵티마이저는 <code class=\"language-text\">Merge Sort</code> 알고리즘을 선택해 정렬한다.<br>\n이를 확인해보기 위해서 db의 <code class=\"language-text\">work_mem</code>을 아래와 같이 줄이고 테스트 해보면 예상대로 실행계획이 Merge Sort를 사용해 정렬하는 것을 확인할 수 있다.</p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"sql\" data-index=\"10\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">-- (1) 많은 테스트 데이터 삽입 (점수 20점)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">INSERT</span><span class=\"mtk1\"> </span><span class=\"mtk4\">INTO</span><span class=\"mtk1\"> leaderboard(id, team_name, score, submit_at)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">SELECT</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    ids.idx </span><span class=\"mtk4\">AS</span><span class=\"mtk1\"> id,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    array_to_string(ARRAY(</span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> chr(</span><span class=\"mtk7\">65</span><span class=\"mtk1\"> + </span><span class=\"mtk11\">round</span><span class=\"mtk1\">(ids.idx % </span><span class=\"mtk7\">26</span><span class=\"mtk1\">) :: </span><span class=\"mtk4\">integer</span><span class=\"mtk1\">) </span><span class=\"mtk4\">FROM</span><span class=\"mtk1\"> generate_series(</span><span class=\"mtk7\">1</span><span class=\"mtk1\">,</span><span class=\"mtk7\">5</span><span class=\"mtk1\">)), </span><span class=\"mtk8\">&#39;&#39;</span><span class=\"mtk1\">) </span><span class=\"mtk4\">AS</span><span class=\"mtk1\"> team_name,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">20</span><span class=\"mtk1\"> </span><span class=\"mtk4\">AS</span><span class=\"mtk1\"> score,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    (dates.date + interval </span><span class=\"mtk8\">&#39;1 HOUR&#39;</span><span class=\"mtk1\"> * ids.idx) </span><span class=\"mtk4\">as</span><span class=\"mtk1\"> submit_at</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">FROM</span><span class=\"mtk1\"> ( </span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> </span><span class=\"mtk8\">&#39;2022-09-01&#39;</span><span class=\"mtk1\">::</span><span class=\"mtk4\">DATE</span><span class=\"mtk1\"> </span><span class=\"mtk4\">AS</span><span class=\"mtk1\"> </span><span class=\"mtk4\">date</span><span class=\"mtk1\"> ) dates</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">CROSS</span><span class=\"mtk1\"> </span><span class=\"mtk4\">JOIN</span><span class=\"mtk1\"> ( </span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> generate_series(</span><span class=\"mtk7\">301</span><span class=\"mtk1\">, </span><span class=\"mtk7\">13000</span><span class=\"mtk1\">) </span><span class=\"mtk4\">AS</span><span class=\"mtk1\"> idx ) ids;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">-- (2) 사용 가능한 work_mem 확인 및 축소</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">postgres.public&gt; SHOW work_mem;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> work_mem</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">------------</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> 4MB</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">postgres.public&gt; </span><span class=\"mtk4\">SET</span><span class=\"mtk1\"> work_mem = </span><span class=\"mtk8\">&#39;64kB&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">postgres.public&gt; SHOW work_mem;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> work_mem</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">------------</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> 64kB</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\"> </span><span class=\"mtk3\">-- (3) 많은 테스트 데이터 삽입 (점수 20점)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">postgres.public&gt; EXPLAIN ANALYZE</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                 </span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> ctid, id, team_name, score, submit_at </span><span class=\"mtk4\">FROM</span><span class=\"mtk1\"> leaderboard </span><span class=\"mtk4\">ORDER BY</span><span class=\"mtk1\"> score </span><span class=\"mtk4\">DESC</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">QUERY PLAN</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">---------------------------------------------------------------------------------------------------------------------------</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Sort  (cost=</span><span class=\"mtk7\">120</span><span class=\"mtk1\">.</span><span class=\"mtk7\">81</span><span class=\"mtk1\">..</span><span class=\"mtk7\">124</span><span class=\"mtk1\">.</span><span class=\"mtk7\">06</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">1301</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">28</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">15</span><span class=\"mtk1\">.</span><span class=\"mtk7\">185</span><span class=\"mtk1\">..</span><span class=\"mtk7\">21</span><span class=\"mtk1\">.</span><span class=\"mtk7\">683</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">1301</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  Sort </span><span class=\"mtk4\">Key</span><span class=\"mtk1\">: score </span><span class=\"mtk4\">DESC</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  Sort Method: </span><span class=\"mtk4\">external</span><span class=\"mtk1\"> </span><span class=\"mtk4\">merge</span><span class=\"mtk1\">  </span><span class=\"mtk4\">Disk</span><span class=\"mtk1\">: 64kB</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  -&gt;  Seq Scan </span><span class=\"mtk4\">on</span><span class=\"mtk1\"> leaderboard  (cost=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">00</span><span class=\"mtk1\">..</span><span class=\"mtk7\">22</span><span class=\"mtk1\">.</span><span class=\"mtk7\">01</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">1301</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">28</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">015</span><span class=\"mtk1\">..</span><span class=\"mtk7\">7</span><span class=\"mtk1\">.</span><span class=\"mtk7\">351</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">1301</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Planning </span><span class=\"mtk4\">Time</span><span class=\"mtk1\">: </span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">044</span><span class=\"mtk1\"> ms</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Execution </span><span class=\"mtk4\">Time</span><span class=\"mtk1\">: </span><span class=\"mtk7\">27</span><span class=\"mtk1\">.</span><span class=\"mtk7\">902</span><span class=\"mtk1\"> ms</span></span></span></code></pre>\n<p>여기에 Merge Sort에는 다른 정렬과는 다르게 Stable Sorting이라는 특징이 있다.\n아래 사진을 통해 보면 <code class=\"language-text\">Heap Sort</code>는 무작위로 값이 정렬되는 반면, <code class=\"language-text\">Merge Sort</code>는 항상 정해진 값을 내려주는 사실을 확인할 수 있다.<br>\n(ctid 값을 보면 1번은 뒤죽박죽으로 섞여있지만, 2번은 일관된 순서로 조회되고 있음을 알 수 있다.)</p>\n<p><img src=\"../../../images/2022-10-20-14-46-34.png\"><br>\n(1. Heap Sort를 사용한 경우)</p>\n<p><img src=\"../../../images/2022-10-20-14-48-09.png\">\n(2. Merge Sort를 사용한 경우)</p>\n<p>마지막으로 하나 더 알아두어야 할 것이 있는데 바로 OFFSET 값 증가에 따른 사용 메모리양 증가다. LIMIT 값이 10으로 고정되어 있더라도 OFFSET 값이 바뀜에 따라 쿼리 실행에 필요한 메모리 크기가 달라질 수 있다.<br>\n이해를 위해 예시를 들어 설명하면 페이징 처리 시 페이지 수가 낮은 경우에는 <code class=\"language-text\">Heap Sort</code>가 적용되다가 페이지 수가 많아져 OFFSET 같이 커지는 경우 <code class=\"language-text\">Merge Sort</code>가 적용되어 조회되는 게시물의 순서가 뒤바뀌는 문제가 발생할 수도 있다.   </p>\n<pre class=\"grvsc-container dark-default-dark\" data-language=\"sql\" data-index=\"11\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">-- (1) LIMIT 200, OFFSET 0 (Memory: 40kB)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">postgres.public&gt; EXPLAIN ANALYZE</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                 </span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> ctid, id, team_name, score, submit_at </span><span class=\"mtk4\">FROM</span><span class=\"mtk1\"> leaderboard </span><span class=\"mtk4\">ORDER BY</span><span class=\"mtk1\"> score </span><span class=\"mtk4\">DESC</span><span class=\"mtk1\"> </span><span class=\"mtk4\">LIMIT</span><span class=\"mtk1\"> </span><span class=\"mtk7\">200</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">QUERY PLAN</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">---------------------------------------------------------------------------------------------------------------------------</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">Limit</span><span class=\"mtk1\">  (cost=</span><span class=\"mtk7\">78</span><span class=\"mtk1\">.</span><span class=\"mtk7\">24</span><span class=\"mtk1\">..</span><span class=\"mtk7\">78</span><span class=\"mtk1\">.</span><span class=\"mtk7\">74</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">200</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">28</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">14</span><span class=\"mtk1\">.</span><span class=\"mtk7\">929</span><span class=\"mtk1\">..</span><span class=\"mtk7\">17</span><span class=\"mtk1\">.</span><span class=\"mtk7\">647</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">200</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  -&gt;  Sort  (cost=</span><span class=\"mtk7\">78</span><span class=\"mtk1\">.</span><span class=\"mtk7\">24</span><span class=\"mtk1\">..</span><span class=\"mtk7\">81</span><span class=\"mtk1\">.</span><span class=\"mtk7\">49</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">1301</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">28</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">14</span><span class=\"mtk1\">.</span><span class=\"mtk7\">918</span><span class=\"mtk1\">..</span><span class=\"mtk7\">15</span><span class=\"mtk1\">.</span><span class=\"mtk7\">846</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">200</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        Sort </span><span class=\"mtk4\">Key</span><span class=\"mtk1\">: score </span><span class=\"mtk4\">DESC</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        Sort Method: </span><span class=\"mtk4\">top</span><span class=\"mtk1\">-N heapsort  Memory: 40kB</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        -&gt;  Seq Scan </span><span class=\"mtk4\">on</span><span class=\"mtk1\"> leaderboard  (cost=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">00</span><span class=\"mtk1\">..</span><span class=\"mtk7\">22</span><span class=\"mtk1\">.</span><span class=\"mtk7\">01</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">1301</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">28</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">014</span><span class=\"mtk1\">..</span><span class=\"mtk7\">7</span><span class=\"mtk1\">.</span><span class=\"mtk7\">430</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">1301</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Planning </span><span class=\"mtk4\">Time</span><span class=\"mtk1\">: </span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">050</span><span class=\"mtk1\"> ms</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Execution </span><span class=\"mtk4\">Time</span><span class=\"mtk1\">: </span><span class=\"mtk7\">18</span><span class=\"mtk1\">.</span><span class=\"mtk7\">598</span><span class=\"mtk1\"> ms</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">-- (2) LIMIT 200, OFFSET 1000 (Memory: 560kB)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">postgres.public&gt; EXPLAIN ANALYZE</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">                 </span><span class=\"mtk4\">SELECT</span><span class=\"mtk1\"> ctid, id, team_name, score, submit_at </span><span class=\"mtk4\">FROM</span><span class=\"mtk1\"> leaderboard </span><span class=\"mtk4\">ORDER BY</span><span class=\"mtk1\"> score </span><span class=\"mtk4\">DESC</span><span class=\"mtk1\"> </span><span class=\"mtk4\">LIMIT</span><span class=\"mtk1\"> </span><span class=\"mtk7\">200</span><span class=\"mtk1\"> OFFSET </span><span class=\"mtk7\">1000</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">QUERY PLAN</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">---------------------------------------------------------------------------------------------------------------------------</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">Limit</span><span class=\"mtk1\">  (cost=</span><span class=\"mtk7\">2258</span><span class=\"mtk1\">.</span><span class=\"mtk7\">56</span><span class=\"mtk1\">..</span><span class=\"mtk7\">2258</span><span class=\"mtk1\">.</span><span class=\"mtk7\">68</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">10</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">28</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">135</span><span class=\"mtk1\">.</span><span class=\"mtk7\">169</span><span class=\"mtk1\">..</span><span class=\"mtk7\">135</span><span class=\"mtk1\">.</span><span class=\"mtk7\">420</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">10</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  -&gt;  </span><span class=\"mtk4\">Limit</span><span class=\"mtk1\">  (cost=</span><span class=\"mtk7\">2258</span><span class=\"mtk1\">.</span><span class=\"mtk7\">56</span><span class=\"mtk1\">..</span><span class=\"mtk7\">2259</span><span class=\"mtk1\">.</span><span class=\"mtk7\">06</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">200</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">28</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">135</span><span class=\"mtk1\">.</span><span class=\"mtk7\">159</span><span class=\"mtk1\">..</span><span class=\"mtk7\">135</span><span class=\"mtk1\">.</span><span class=\"mtk7\">331</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">10</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        -&gt;  Sort  (cost=</span><span class=\"mtk7\">2256</span><span class=\"mtk1\">.</span><span class=\"mtk7\">06</span><span class=\"mtk1\">..</span><span class=\"mtk7\">2297</span><span class=\"mtk1\">.</span><span class=\"mtk7\">92</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">16743</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">28</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">126</span><span class=\"mtk1\">.</span><span class=\"mtk7\">884</span><span class=\"mtk1\">..</span><span class=\"mtk7\">130</span><span class=\"mtk1\">.</span><span class=\"mtk7\">991</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">1010</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">              Sort </span><span class=\"mtk4\">Key</span><span class=\"mtk1\">: leaderboard.score </span><span class=\"mtk4\">DESC</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">              Sort Method: </span><span class=\"mtk4\">external</span><span class=\"mtk1\"> </span><span class=\"mtk4\">merge</span><span class=\"mtk1\">  </span><span class=\"mtk4\">Disk</span><span class=\"mtk1\">: 560kB</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">              -&gt;  Seq Scan </span><span class=\"mtk4\">on</span><span class=\"mtk1\"> leaderboard  (cost=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">00</span><span class=\"mtk1\">..</span><span class=\"mtk7\">276</span><span class=\"mtk1\">.</span><span class=\"mtk7\">43</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">16743</span><span class=\"mtk1\"> width=</span><span class=\"mtk7\">28</span><span class=\"mtk1\">) (actual </span><span class=\"mtk4\">time</span><span class=\"mtk1\">=</span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">012</span><span class=\"mtk1\">..</span><span class=\"mtk7\">61</span><span class=\"mtk1\">.</span><span class=\"mtk7\">390</span><span class=\"mtk1\"> </span><span class=\"mtk4\">rows</span><span class=\"mtk1\">=</span><span class=\"mtk7\">13001</span><span class=\"mtk1\"> loops=</span><span class=\"mtk7\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Planning </span><span class=\"mtk4\">Time</span><span class=\"mtk1\">: </span><span class=\"mtk7\">0</span><span class=\"mtk1\">.</span><span class=\"mtk7\">092</span><span class=\"mtk1\"> ms</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Execution </span><span class=\"mtk4\">Time</span><span class=\"mtk1\">: </span><span class=\"mtk7\">135</span><span class=\"mtk1\">.</span><span class=\"mtk7\">661</span><span class=\"mtk1\"> ms</span></span></span></code></pre>\n<br/>\n<h1>결론</h1>\n<ol>\n<li>중복값이 존재하는 컬럼을 기준으로 정렬할 경우 꼭 UNIQUE 한 값을 가지는 컬럼을 ORDER BY 조건 뒤에 추가해줘야 조회 시 데이터가 잘못 정렬되는 경우를 방지할 수 있다.</li>\n<li>해결 방법은 비교적 간단한(?) 문제였지만 문제가 발생하는 근본적인 이유, 그 이유로 인해 발생할 수 있는 사이드 이펙트 등을 고려하는 건 다른 문제라는 걸 깨닳았다.</li>\n<li>복잡한 쿼리를 짤 때는 항상 실행계획을 통해 쿼리가 내가 의도한 대로 동작하는 지 확인하는 작업이 필요할 것 같다.</li>\n<li>단순히 CRUD 수준의 Database 지식이 멈추지 말고 실제 동작원리 수준을 이해하고 사용해야 진정 \"이해했다\"라고 할 수 있을 것 같다. 문제 해결에만 집중하지 말고 해결과정, 해결 후 개선방안에도 집중해서 공부하는 사람이 되자.</li>\n</ol>\n<p>출처 :\n<a href=\"https://www.reddit.com/r/PostgreSQL/comments/ni2l9u/why_is_a_query_with_limit_returning_results_in_a/\">레딧 질문글1</a><br>\n<a href=\"https://stackoverflow.com/questions/13580826/postgresql-repeating-rows-from-limit-offset\">레딧 질문글2</a><br>\n<a href=\"https://libreflare.com/9911649250298\">PostgreSQL 정렬 알고리즘</a><br>\n<a href=\"https://www.postgresql.org/docs/14/queries-limit.html\">PostgreSQL limit 공식문서</a></p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .dark-default-dark {\n    background-color: #1E1E1E;\n    color: #D4D4D4;\n  }\n  .dark-default-dark .mtk3 { color: #6A9955; }\n  .dark-default-dark .mtk4 { color: #569CD6; }\n  .dark-default-dark .mtk1 { color: #D4D4D4; }\n  .dark-default-dark .mtk7 { color: #B5CEA8; }\n  .dark-default-dark .mtk11 { color: #DCDCAA; }\n  .dark-default-dark .mtk8 { color: #CE9178; }\n  .dark-default-dark .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>"}],"site":{"siteMetadata":{"layout_style":"overflow","palette":"blue","header":{"title":"김상윤","tagline":"Web Developer","profile_img":"images/profile-avatar.png","profile_img_alt":"Author avatar","background":"dark","has_nav":true,"nav_links":[{"label":"Home","url":"/","style":"link"},{"label":"Architecture","url":"/architecture","style":"link"},{"label":"Database","url":"/database","style":"link"},{"label":"Spring","url":"/spring","style":"link"},{"label":"Spring Data / JPA","url":"/jpa/","style":"link"},{"label":"DevOps","url":"/devops","style":"link"},{"label":"javascript","url":"/javascript/","style":"link"},{"label":"typescript","url":"/typescript/","style":"link"},{"label":"Nest.js","url":"/nestjs/","style":"link"},{"label":"React.js","url":"/react/","style":"link"},{"label":"알고리즘","url":"/algorithms/","style":"link"}],"has_social":true,"social_links":[{"label":"GitHub","url":"https://github.com/sysnar","style":"icon","icon_class":"github","new_window":true},{"label":"DEV","url":"https://sysnar.xyz/","style":"icon","icon_class":"dev","new_window":true}]},"footer":{"content":"@contact: sysn4r@gmail.com"},"title":"sysnar be a Dev","domain":"https://sysnar.github.io/"},"pathPrefix":"","data":{}},"menus":{}}},"staticQueryHashes":[]}